{"version":3,"sources":["components/common/Responsive.js","lib/styles/palette.js","components/common/Button.js","components/common/Header.js","lib/api/client.js","lib/api/auth.js","modules/loading.js","lib/createRequestSaga.js","modules/user.js","container/common/HeaderContainer.js","components/common/SubInfo.js","components/common/Tags.js","components/post/PostList.js","modules/posts.js","lib/api/posts.js","container/posts/PostListContainer.js","components/post/Pagination.js","container/posts/PaginationContainer.js","pages/PostListPage.js","components/auth/AuthTemplate.js","modules/auth.js","components/auth/AuthForm.js","container/auth/RegisterForm.js","pages/RegisterPage.js","container/auth/LoginForm.js","pages/LoginPage.js","modules/post.js","components/post/PostViewer.js","components/common/AskModal.js","components/post/AskRemoveModal.js","components/post/PostActionButtons.js","modules/write.js","container/post/PostViewerContainer.js","pages/PostPage.js","components/write/Editor.js","container/write/EditorContainer.js","components/write/TagBox.js","container/write/TagBoxContainer.js","components/write/WriteActionButton.js","container/write/WriteActionButtonsContainer.js","pages/WritePage.js","modules/game.js","lib/calcDate.js","components/game/Game.js","components/game/GameStart.js","container/game/GameStartContainer.js","components/game/GameBlock.js","container/game/GameBlockContainer.js","components/game/AskRestartModal.js","components/game/GameBoard.js","container/game/GameBoardContainer.js","container/game/GameContainer.js","pages/GamePage.js","App.js","serviceWorker.js","modules/index.js","index.js"],"names":["StyledResponsive","styled","div","Responsive","children","rest","palette","gray","cyan","buttonStyle","css","props","fullWidth","marginTop","block","StyledButton","button","StyledLink","Link","Button","to","StyledHeader","Wrapper","Spacer","UserInfo","React","memo","user","onLogout","className","username","onClick","client","axios","create","logout","post","startLoading","createAction","requestType","finishLoading","handleActions","state","action","payload","createRequsetActionType","type","createRequestSaga","request","SUCCESS","FAILURE","put","call","response","data","meta","error","logoutSaga","userSaga","CHECK","CHECK_SUCCESS","CHECK_FAILURE","tempSetUser","check","checkSaga","get","checkFailureSaga","localStorage","removeItem","e","console","log","authAPI","takeLatest","checkError","withRouter","history","useSelector","shallowEqual","dispatch","useDispatch","useCallback","push","StyledSubInfo","hasMarginTop","SubInfo","level","time","publishedDate","Date","toLocaleDateString","StyledTags","Tags","tags","map","tag","key","StyledPostList","GameStartButtonWrapper","StyledPostItem","PostItem","_id","title","body","PostList","posts","loading","showStartButton","postsSaga","LIST_POSTS","LIST_POSTS_SUCCESS","LIST_POSTS_FAILURE","listPosts","page","listPostsSaga","queryString","qs","stringify","lastPage","parseInt","headers","match","location","useEffect","params","parse","search","ignoreQueryPrefix","StyledPagination","PageNumber","buildLink","query","Pagination","disabled","undefined","PostListPage","StyledAuthTemplate","WhiteBox","authSaga","REGISTER","REGISTER_SUCCESS","REGISTER_FAILURE","LOGIN","LOGIN_SUCCESS","LOGIN_FAILURE","changeField","form","value","enterForm","leaveForm","register","password","login","registerSaga","loginSaga","initialState","passwordConfirm","initialize","auth","authError","produce","draft","StyledAuthForm","StyledInput","input","Footer","textMap","ErrorMessage","onChange","onSubmit","text","autoComplete","name","placeholder","useState","setError","status","setItem","JSON","target","preventDefault","includes","RegisterPage","LoginPage","postSaga","READ_POST","READ_POST_SUCCESS","READ_POST_FAILURE","readPost","id","unloadPost","readPostSaga","StyledPostViewer","PostHead","PostContent","PostViewer","actionButtons","dangerouslySetInnerHTML","__html","Fullscreen","StyledAskModal","AskModal","visible","description","confirmText","cancelText","onConfirm","onCancel","AskRemoveModal","StyledPostActionButtons","ActionButton","PostActionButtons","onEdit","onRemove","modal","setModal","writeSaga","WRITE_POST","WRITE_POST_SUCCESS","WRITE_POST_FAILURE","UPDATE_POST","UPDATE_POST_SUCCESS","UPDATE_POST_FAILURE","setOriginalPost","writePost","updatePost","writePostSaga","updatePostSaga","patch","postError","originalPostId","originalLevel","originalTime","postId","ownPost","a","delete","PostPage","StyledEditor","TitleInput","LevelTimeBlock","QuillWrapper","Editor","onChangeField","quillElement","useRef","quillIstance","current","Quill","theme","modules","toolbar","header","list","quill","on","delta","oldDelta","source","root","innerHTML","mounted","ref","write","game","alert","StyledTagBox","TagForm","Tag","StyledTagList","TagItem","TagList","TagBox","onChangeTags","setInput","localTags","setLocalTags","insertTag","newTags","filter","t","trim","TagBoxContainer","StyledWriteActionButtons","WriteActionButtons","onPublished","isEdit","WriteActionButton","goBack","WritePage","initializeGame","setLevel","startGame","ground","size","width","mineNum","openBlock","increaseOpenBlockNum","num","setFlag","highlightOn","highlightOff","finishGame","clear","isStart","isFinish","isClear","openBlockNum","nearBlock","startTime","flagSet","isHighlight","isOpen","space","val","endTime","output","sec","Math","floor","getTime","date","hour","min","calcDate","content","onStart","onSetLevel","i","idx","random","range","GameBlock","onBlockOpen","onMouseDownAction","onMouseUpAction","classNames","onMouseDown","onMouseUp","onContextMenu","onAuxClick","onWheel","src","alt","stringId","storeNearBlock","slice","visited","Array","fill","queue","zeroBlock","length","shift","localNearBlock","nearCloseBlock","nearFlag","pop","AskRestartModal","finishText","GameBoard","onRestart","onClear","clearModal","setClearModal","restartModal","setRestartModal","setTutorialModal","divWidth","Board","BoardRestart","onRestartClick","onRestartCancel","onClearClick","onClearCancel","GamePage","App","component","path","exact","Boolean","window","hostname","rootSaga","all","rootReducer","combineReducers","sagaMiddleware","createSagaMiddleware","store","createStore","composeWithDevTools","applyMiddleware","run","getItem","loadUser","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.704ee81f.chunk.js","sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst StyledResponsive = styled.div`\r\n    padding: 0 1rem;\r\n    width: 1024px;\r\n    height: 100%;\r\n    margin: 0 auto;\r\n    \r\n    @media(max-width: 1024px) {\r\n        width: 768px;\r\n    }\r\n    \r\n    @media(max-width: 768px) {\r\n        width: 100%;\r\n    }    \r\n`;\r\n\r\nconst Responsive = ({children, ...rest}) => {\r\n    // props를 사용할 수 있도록 ...rest를 사용하여 StyledResponsive에게 전달\r\n    return <StyledResponsive {...rest}>{children}</StyledResponsive>\r\n};\r\n\r\nexport default Responsive;\r\n","const palette = {\r\n    gray: [\r\n        '#f8f9fa',\r\n        '#f1f3f5',\r\n        '#e9ecef',\r\n        '#dee2e6',\r\n        '#ced4da',\r\n        '#adb5bd',\r\n        '#868e96',\r\n        '#495057',\r\n        '#343a40',\r\n        '#212529',\r\n    ],\r\n    cyan: [\r\n        '#e3fafc',\r\n        '#c5f6fa',\r\n        '#99e9f2',\r\n        '#66d9e8',\r\n        '#3bc9db',\r\n        '#22b8cf',\r\n        '#15aabf',\r\n        '#1098ad',\r\n        '#0c8599',\r\n        '#0b7285',\r\n    ],\r\n};\r\n\r\nexport default palette;","import React from \"react\";\r\nimport styled, {css} from 'styled-components';\r\nimport {Link} from \"react-router-dom\";\r\nimport palette from \"../../lib/styles/palette\";\r\n\r\nconst buttonStyle = css`\r\n    border: none;\r\n    border-radius: 4px;\r\n    font-size: 1rem;\r\n    font-weight: bold;\r\n    padding: 0.25rem 1rem;\r\n    color: white;\r\n    outline: none;\r\n    cursor: pointer;\r\n    \r\n    background: ${palette.gray[8]};\r\n    &:hover {\r\n        background: ${palette.gray[6]};\r\n    }\r\n    ${props =>\r\n    props.fullWidth &&\r\n    css`\r\n            padding-top: 0.75rem;\r\n            padding-bottom: 0.75rem;\r\n            width: 100%;\r\n            font-size: 1.125rem;\r\n        `\r\n    }\r\n    ${props =>\r\n    props.cyan &&\r\n    css`\r\n            background: ${palette.cyan[5]};\r\n            &:hover {\r\n                background: ${palette.cyan[4]};\r\n            }\r\n        `\r\n    }\r\n    ${props =>\r\n    props.marginTop &&\r\n    css`\r\n            margin-top: ${props.marginTop};\r\n        `\r\n    }\r\n    ${props => \r\n    props.block &&\r\n    css`\r\n        display: block;\r\n        `\r\n    }\r\n    &:disabled {\r\n        background: ${palette.gray[3]};\r\n        color: ${palette.gray[5]};\r\n        cursor: not-allowed;\r\n    }\r\n`;\r\n\r\nconst StyledButton = styled.button`\r\n    ${buttonStyle}\r\n`;\r\n\r\nconst StyledLink = styled(Link)`\r\n    ${buttonStyle}\r\n`;\r\n\r\nconst Button = props => {\r\n    return props.to ? (\r\n        <StyledLink {...props} cyan={props.cyan ? 1 : 0}/>\r\n    ) : (\r\n        <StyledButton {...props}/>\r\n    )\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Responsive from \"./Responsive\";\r\nimport Button from \"./Button\";\r\n\r\nconst StyledHeader = styled.div`\r\n    position: fixed;\r\n    width: 100%;\r\n    background: white;\r\n    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.08);\r\n`;\r\n\r\n// Responsive 컴포넌트에 스타일을 추가해서 새로운 컴포넌트 생성\r\nconst Wrapper = styled(Responsive)`\r\n    height: 4rem;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    .logo {\r\n        font-size: 1.125rem;\r\n        font-weight: 800;\r\n        letter-spacing: 2px;\r\n    }\r\n    .right {\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n`;\r\n\r\n// Header가 fixed이기 때문에 콘텐츠를 4rem 아래에 나타나도록 해 주는 컴포넌트\r\nconst Spacer = styled.div`\r\n    height: 4rem;\r\n`;\r\n\r\nconst UserInfo = styled.div`\r\n    font-weight: 800;\r\n    margin-right: 1rem;\r\n`;\r\n\r\nconst Header = ({user, onLogout}) => {\r\n    return (\r\n        <>\r\n            <StyledHeader>\r\n                <Wrapper>\r\n                    <Link to={\"/\"} className={\"logo\"}>\r\n                        MineSweeper\r\n                    </Link>\r\n                    {user ? (\r\n                        <div className={\"right\"}>\r\n                            <UserInfo>{user.username}</UserInfo>\r\n                            <Button onClick={onLogout}>로그아웃</Button>\r\n                        </div>\r\n                    ) : (\r\n                        <div className={\"right\"}>\r\n                            <Button to={\"/login\"}>로그인</Button>\r\n                        </div>\r\n                    )}\r\n                </Wrapper>\r\n            </StyledHeader>\r\n            <Spacer/>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default React.memo(Header);","import axios from 'axios';\r\n\r\nconst client = axios.create();\r\n\r\nexport default client;","import client from \"./client\";\r\n\r\n// 로그인 api 요청\r\nexport const login = ({username, password}) =>\r\n    client.post('/api/auth/login', {username, password});\r\n\r\n// 회원가입 api 요청\r\nexport const register = ({username, password}) =>\r\n    client.post('/api/auth/register', {username, password});\r\n\r\n// 로그인 확인 api 요청\r\nexport const check = () =>\r\n    client.get('/api/auth/check');\r\n\r\n// 로그아웃\r\nexport const logout = () =>\r\n    client.post('/api/auth/logout');\r\n","import {createAction, handleActions} from 'redux-actions';\r\n\r\nconst START_LOADING = 'loading/START_LOADING';\r\nconst FINISH_LOADING = 'loading/FINISH_LOADING';\r\n\r\n// 요청을 위한 액션 타입(requestType)을 payload로 설정함\r\n\r\nexport const startLoading = createAction(\r\n    START_LOADING,\r\n    requestType => requestType,\r\n);\r\n\r\nexport const finishLoading = createAction(\r\n    FINISH_LOADING,\r\n    requestType => requestType,\r\n);\r\n\r\nconst initialState = {};\r\n\r\nexport default handleActions(\r\n    {\r\n        [START_LOADING]: (state, action) => ({\r\n            ...state,\r\n            [action.payload]: true,\r\n        }),\r\n        [FINISH_LOADING]: (state, action) => ({\r\n            ...state,\r\n            [action.payload]: false,\r\n        }),\r\n    },\r\n    initialState\r\n);\r\n","import {call, put} from 'redux-saga/effects';\r\nimport {startLoading, finishLoading} from \"../modules/loading\";\r\n\r\nexport const createRequsetActionType = type => {\r\n    const SUCCESS = `${type}_SUCCESS`;\r\n    const FAILURE = `${type}_FAILURE`;\r\n    return [type, SUCCESS, FAILURE];\r\n};\r\n\r\nexport default function createRequestSaga(type, request) {\r\n    const SUCCESS = `${type}_SUCCESS`;\r\n    const FAILURE = `${type}_FAILURE`;\r\n\r\n    return function* (action) {\r\n        yield put(startLoading(type));\r\n        try {\r\n            const response = yield call(request, action.payload);\r\n            yield put({\r\n                type: SUCCESS,\r\n                payload: response.data,\r\n                meta: response,\r\n            });\r\n        } catch (e) {\r\n            yield put({\r\n                type: FAILURE,\r\n                payload: e,\r\n                error: true,\r\n            });\r\n        }\r\n        yield put(finishLoading(type));\r\n    };\r\n}","import {createAction, handleActions} from 'redux-actions';\r\nimport {takeLatest, call} from 'redux-saga/effects';\r\nimport * as authAPI from '../lib/api/auth';\r\nimport createRequestSaga, {createRequsetActionType} from \"../lib/createRequestSaga\";\r\n\r\nconst TEMP_SET_USER = 'user/TEMP_SET_USER'; // 새로고침 이후 임시 로그인 처리\r\n// 회원 정보 확인\r\nconst [CHECK, CHECK_SUCCESS, CHECK_FAILURE] = createRequsetActionType('user/CHECK');\r\nconst LOGOUT = 'user/LOGOUT';\r\n\r\nexport const tempSetUser = createAction(TEMP_SET_USER, user => user);\r\nexport const check = createAction(CHECK);\r\nexport const logout = createAction(LOGOUT);\r\n\r\nconst checkSaga = createRequestSaga(CHECK, authAPI.check);\r\n\r\nfunction checkFailureSaga() {\r\n    try {\r\n        localStorage.removeItem('user'); // localStorage에서 user를 제거\r\n    } catch (e) {\r\n        console.log('localStorage is not working');\r\n    }\r\n}\r\n\r\nfunction* logoutSaga() {\r\n    try {\r\n        yield call(authAPI.logout); // logout api 호출\r\n        localStorage.removeItem('user'); // localStorage에서 user를 제거\r\n    } catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport function* userSaga() {\r\n    yield takeLatest(CHECK, checkSaga);\r\n    yield takeLatest(CHECK_FAILURE, checkFailureSaga);\r\n    yield takeLatest(LOGOUT, logoutSaga);\r\n}\r\n\r\nconst initialState = {\r\n    user: null,\r\n    checkError: null,\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [TEMP_SET_USER]: (state, {payload: user}) => ({\r\n            ...state,\r\n            user,\r\n        }),\r\n        [CHECK_SUCCESS]: (state, {payload: user}) => ({\r\n            ...state,\r\n            user,\r\n        }),\r\n        [CHECK_FAILURE]: (state, {payload: error}) => ({\r\n            ...state,\r\n            checkError: error,\r\n        }),\r\n        [LOGOUT]: state => ({\r\n           ...state,\r\n           user: null,\r\n        }),\r\n    },\r\n    initialState\r\n);\r\n","import React, {useCallback} from \"react\";\r\nimport {useSelector, useDispatch, shallowEqual} from \"react-redux\";\r\nimport Header from \"../../components/common/Header\";\r\nimport {logout} from \"../../modules/user\";\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nconst HeaderContainer = ({history}) => {\r\n    const {user} = useSelector(({user}) => ({user: user.user}), shallowEqual);\r\n    const dispatch = useDispatch();\r\n    const onLogout = useCallback(() => {\r\n        dispatch(logout());\r\n        history.push('/');\r\n    }, [dispatch, history]);\r\n    return <Header user={user} onLogout={onLogout}/>\r\n};\r\n\r\nexport default React.memo(withRouter(HeaderContainer));\r\n","import React from \"react\";\r\nimport styled, {css} from \"styled-components\";\r\nimport {Link} from \"react-router-dom\";\r\nimport palette from \"../../lib/styles/palette\";\r\n\r\nconst StyledSubInfo = styled.div`\r\n    ${props =>\r\n        props.hasMarginTop &&\r\n        css`\r\n            margin-top: 1rem;\r\n        `\r\n    }\r\n    color: ${palette.gray[6]};\r\n    \r\n    span + span:before {\r\n        color: ${palette.gray[5]};\r\n        padding: 0 0.25rem;\r\n        content: '\\\\B7'; /* 가운뎃점 문자 */\r\n    }\r\n`;\r\n\r\nconst SubInfo = ({username, level, time, publishedDate, hasMarginTop}) => {\r\n    return (\r\n        <StyledSubInfo hasMarginTop={hasMarginTop}>\r\n            <span>\r\n                <b>\r\n                    <Link to={`/@${username}`}>{username}</Link>\r\n                </b>\r\n            </span>\r\n            <span><Link to={`/?level=${level}`}>난이도: {level}</Link></span>\r\n            <span>클리어 타임: {time}</span>\r\n            <span>플레이 날짜: {new Date(publishedDate).toLocaleDateString()}</span>\r\n        </StyledSubInfo>\r\n    )\r\n};\r\n\r\nexport default SubInfo;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {Link} from \"react-router-dom\";\r\nimport palette from \"../../lib/styles/palette\";\r\n\r\nconst StyledTags = styled.div`\r\n    margin-top: 0.5rem;\r\n    .tag{\r\n        display: inline-block;\r\n        color: ${palette.gray[7]};\r\n        text-decoration: none;\r\n        margin-right: 0.5rem;\r\n        &:hover {\r\n            color: ${palette.cyan[6]}\r\n        }\r\n    }\r\n`;\r\n\r\nconst Tags = ({tags}) => {\r\n    return (\r\n        <StyledTags>\r\n            {tags.map(tag => (\r\n                <Link className={\"tag\"} to={`/?tag=${tag}`} key={tag}>\r\n                    #{tag}\r\n                </Link>\r\n            ))}\r\n        </StyledTags>\r\n    )\r\n};\r\n\r\nexport default Tags;","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {Link} from \"react-router-dom\";\r\nimport palette from \"../../lib/styles/palette\";\r\nimport Button from \"../common/Button\";\r\nimport Responsive from \"../common/Responsive\";\r\nimport SubInfo from \"../common/SubInfo\";\r\nimport Tags from '../common/Tags';\r\n\r\nconst StyledPostList = styled(Responsive)`\r\n    margin-top: 3rem\r\n`;\r\n\r\nconst GameStartButtonWrapper = styled.div`\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    margin-bottom: 3rem;\r\n`;\r\n\r\nconst StyledPostItem = styled.div`\r\n    padding: 3rem 0;\r\n    &:first-child {\r\n        padding-top: 0;\r\n    }\r\n    & + & {\r\n        border-top: 1px solid ${palette.gray[2]};\r\n    }\r\n    \r\n    h2 {\r\n        font-size: 2rem;\r\n        margin-bottom: 0;\r\n        margin-top: 0;\r\n        &:hover {\r\n            color: ${palette.gray[6]};\r\n        }\r\n    }\r\n    p {\r\n       margin-top: 1.5rem;\r\n    }\r\n`;\r\n\r\nconst PostItem = ({post}) => {\r\n    const {_id, title, level, time, body, user, publishedDate, tags} = post;\r\n\r\n    return (\r\n        <StyledPostItem>\r\n            <h2>\r\n                <Link to={`/@${user.username}/${_id}`}>\r\n                    {title}\r\n                </Link>\r\n            </h2>\r\n            <SubInfo\r\n                username={user.username}\r\n                level={level}\r\n                time={time}\r\n                publishedDate={publishedDate}\r\n            />\r\n            <Tags\r\n                tags={tags}\r\n            />\r\n            <p>{body}</p>\r\n        </StyledPostItem>\r\n    )\r\n};\r\n\r\nconst PostList = ({posts, error, loading, showStartButton}) => {\r\n    if (error) {\r\n        return <StyledPostList>에러가 발생했습니다!</StyledPostList>\r\n    }\r\n\r\n    return (\r\n        <StyledPostList>\r\n            <GameStartButtonWrapper>\r\n                {showStartButton && (\r\n                    <Button to={\"/game\"} cyan>\r\n                        게임 시작!\r\n                    </Button>\r\n                )}\r\n            </GameStartButtonWrapper>\r\n            <div>\r\n                {!loading && posts && (\r\n                    posts.map(post => (\r\n                        <PostItem post={post} key={post._id}/>\r\n                    ))\r\n                )}\r\n            </div>\r\n        </StyledPostList>\r\n    )\r\n};\r\n\r\nexport default PostList;\r\n\r\n","import {createAction, handleActions} from 'redux-actions';\r\nimport createRequestSaga, {createRequsetActionType} from \"../lib/createRequestSaga\";\r\nimport * as postAPI from '../lib/api/posts';\r\nimport {takeLatest} from 'redux-saga/effects';\r\n\r\nconst [\r\n    LIST_POSTS,\r\n    LIST_POSTS_SUCCESS,\r\n    LIST_POSTS_FAILURE,\r\n] = createRequsetActionType('posts/LIST_POSTS');\r\n\r\nexport const listPosts = createAction(LIST_POSTS, ({page, username, tag, level}) => ({\r\n        page,\r\n        username,\r\n        tag,\r\n        level,\r\n    }),\r\n);\r\n\r\nconst listPostsSaga = createRequestSaga(LIST_POSTS, postAPI.listPosts);\r\n\r\nexport function* postsSaga() {\r\n    yield takeLatest(LIST_POSTS, listPostsSaga);\r\n}\r\n\r\nconst initialState = {\r\n    posts: null,\r\n    error: null,\r\n    lastPage: 1,\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [LIST_POSTS]: state => ({\r\n            ...state,\r\n            error: null,\r\n        }),\r\n        [LIST_POSTS_SUCCESS]: (state, {payload: posts, meta: response}) => ({\r\n            ...state,\r\n            posts,\r\n            lastPage: parseInt(response.headers['last-page'], 10)\r\n        }),\r\n        [LIST_POSTS_FAILURE]: (state, {payload: error}) => ({\r\n            ...state,\r\n            error: error,\r\n        }),\r\n    },\r\n    initialState,\r\n);\r\n","import qs from 'qs';\r\nimport client from './client';\r\n\r\nexport const listPosts = ({page, username, tag, level}) => {\r\n    const queryString = qs.stringify({\r\n        page,\r\n        username,\r\n        tag,\r\n        level,\r\n    });\r\n\r\n    return client.get(`/api/posts?${queryString}`);\r\n};\r\n\r\nexport const readPost = id => client.get(`/api/posts/${id}`);\r\n\r\nexport const writePost = ({title, level, time, body, tags}) =>\r\n    client.post('/api/posts', {title, level, time, body, tags});\r\n\r\n\r\nexport const updatePost = ({id, title, body, tags}) =>\r\n    client.patch(`/api/posts/${id}`, {\r\n        title,\r\n        body,\r\n        tags,\r\n    });\r\n\r\nexport const removePost = id => client.delete(`/api/posts/${id}`);\r\n","import React, {useEffect} from \"react\";\r\nimport qs from 'qs';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport PostList from \"../../components/post/PostList\";\r\nimport {listPosts} from \"../../modules/posts\";\r\n\r\nconst PostListContainer = ({match, location}) => {\r\n    const dispatch = useDispatch();\r\n    const {posts, error, loading, user} = useSelector(\r\n        ({posts, loading, user}) => ({\r\n            posts: posts.posts,\r\n            error: posts.error,\r\n            loading: loading['posts/LIST_POSTS'],\r\n            user: user.user,\r\n        }),\r\n    );\r\n\r\n    useEffect(() => {\r\n        const {username} = match.params;\r\n        const {page, tag, level} = qs.parse(location.search, {\r\n            ignoreQueryPrefix: true,\r\n        });\r\n        dispatch(listPosts({page, username, tag, level}));\r\n    }, [dispatch, match.params, location.search]);\r\n\r\n    return (\r\n        <PostList\r\n            posts={posts}\r\n            error={error}\r\n            loading={loading}\r\n            showStartButton={user}\r\n        />\r\n    );\r\n};\r\n\r\nexport default withRouter(PostListContainer);\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport qs from 'qs';\r\nimport Button from \"../common/Button\";\r\n\r\nconst StyledPagination = styled.div`\r\n    width: 320px;\r\n    margin: 0 auto;\r\n    display: felx;\r\n    justify-content: space-between;\r\n    margin-bottom: 3rem;\r\n`;\r\n\r\nconst PageNumber = styled.div``;\r\n\r\nconst buildLink = ({page, username, tag, level}) => {\r\n    const query = qs.stringify({page, tag, level});\r\n    return username ? `/@${username}?${query}` : `/?${query}`;\r\n};\r\n\r\nconst Pagination = ({page, lastPage, username, tag, level}) => {\r\n    return (\r\n        <StyledPagination>\r\n            <Button\r\n                disabled={page === 1}\r\n                to={\r\n                    page === 1 ? undefined : buildLink({page: page - 1, username, tag, level})\r\n                }\r\n            >\r\n                이전\r\n            </Button>\r\n            <PageNumber>{page}</PageNumber>\r\n            <Button\r\n                disabled={lastPage === 1 || page === lastPage}\r\n                to={\r\n                    lastPage === 1\r\n                    ? undefined\r\n                    : page === lastPage\r\n                        ? undefined\r\n                        : buildLink({page: page + 1, username, tag, level})\r\n                }\r\n            >\r\n                다음\r\n            </Button>\r\n        </StyledPagination>\r\n    )\r\n};\r\n\r\nexport default Pagination;\r\n","import React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport qs from 'qs';\r\nimport Pagination from \"../../components/post/Pagination\";\r\n\r\nconst PaginationContainer = ({match, location}) => {\r\n    const {posts, loading, lastPage} = useSelector(({posts, loading}) => ({\r\n        posts: posts.posts,\r\n        loading: loading['posts/LIST_POSTS'],\r\n        lastPage: posts.lastPage,\r\n    }));\r\n\r\n    if (!posts || loading) return null;\r\n\r\n    const {username} = match.params;\r\n    const {page = '1', tag, level} = qs.parse(location.search, {\r\n        ignoreQueryPrefix: true,\r\n    });\r\n\r\n    return (\r\n        <Pagination\r\n            page={parseInt(page, 10)}\r\n            lastPage={parseInt(lastPage, 10)}\r\n            username={username}\r\n            tag={tag}\r\n            level={level}\r\n        />\r\n    )\r\n};\r\n\r\nexport default withRouter(PaginationContainer);\r\n","import React from \"react\";\r\nimport HeaderContainer from \"../container/common/HeaderContainer\";\r\nimport PostListContainer from \"../container/posts/PostListContainer\";\r\nimport PaginationContainer from \"../container/posts/PaginationContainer\";\r\n\r\nconst PostListPage = () => {\r\n    return (\r\n        <div>\r\n            <HeaderContainer/>\r\n            <PostListContainer/>\r\n            <PaginationContainer/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default PostListPage;","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport palette from \"../../lib/styles/palette\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\n// 회원가입 및 로그인 페이지의 레이아웃 컴포넌트\r\nconst StyledAuthTemplate = styled.div`\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    background: ${palette.gray[2]};\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\n\r\nconst WhiteBox = styled.div`\r\n    .logo-area{\r\n        display: block;\r\n        padding-bottom: 2rem;\r\n        text-align: center;\r\n        font-weight: bold;\r\n        letter-spacing: 2px;\r\n    }\r\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\r\n    padding: 2rem;\r\n    width: 360px;\r\n    background: white;\r\n    border-radius: 2px;\r\n`;\r\n\r\nconst AuthTemplate = ({children}) => {\r\n    return (\r\n        <StyledAuthTemplate>\r\n            <WhiteBox>\r\n                <div className={\"logo-area\"}>\r\n                    <Link to={\"/\"}>MineSweeper</Link>\r\n                </div>\r\n                {children}\r\n            </WhiteBox>\r\n        </StyledAuthTemplate>\r\n    )\r\n};\r\n\r\nexport default React.memo(AuthTemplate);\r\n","import {createAction, handleActions} from 'redux-actions';\r\nimport produce from \"immer\";\r\nimport {takeLatest} from 'redux-saga/effects';\r\nimport createRequestSaga, {createRequsetActionType} from \"../lib/createRequestSaga\";\r\nimport * as authAPI from '../lib/api/auth';\r\n\r\nconst CHANGE_FIELD = 'auth/CHANGE_FIELD';\r\nconst ENTER_FORM = 'auth/ENTER_FORM';\r\nconst LEAVE_FORM = 'auth/LEAVE_FORM';\r\nconst [REGISTER, REGISTER_SUCCESS, REGISTER_FAILURE] = createRequsetActionType('auth/REGISTER');\r\nconst [LOGIN, LOGIN_SUCCESS, LOGIN_FAILURE] = createRequsetActionType('auth/LOGIN');\r\n\r\nexport const changeField = createAction(\r\n    CHANGE_FIELD,\r\n    ({form, key, value}) => ({\r\n        form,   // register, login\r\n        key,    // username, password, passwordConfirm\r\n        value,  // 입력된 값\r\n    })\r\n);\r\nexport const enterForm = createAction(ENTER_FORM, form => form);\r\nexport const leaveForm = createAction(LEAVE_FORM);\r\nexport const register = createAction(REGISTER, ({username, password}) => ({\r\n    username,\r\n    password\r\n}));\r\nexport const login = createAction(LOGIN, ({username, password}) => ({\r\n    username,\r\n    password\r\n}));\r\n\r\nconst registerSaga = createRequestSaga(REGISTER, authAPI.register);\r\nconst loginSaga = createRequestSaga(LOGIN, authAPI.login);\r\n\r\nexport function* authSaga() {\r\n    yield takeLatest(REGISTER, registerSaga);\r\n    yield takeLatest(LOGIN, loginSaga);\r\n}\r\n\r\nconst initialState = {\r\n    register: {\r\n        username: '',\r\n        password: '',\r\n        passwordConfirm: '',\r\n    },\r\n    login: {\r\n        username: '',\r\n        password: '',\r\n    },\r\n    initialize: '',\r\n    auth: null,\r\n    authError: null,\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [CHANGE_FIELD]: (state, {payload: {form, key, value}}) =>\r\n            produce(state, draft => {\r\n                draft[form][key] = value;\r\n            }),\r\n        [ENTER_FORM]: (state, {payload: form}) => ({\r\n            ...state,\r\n            [form]: initialState[form],\r\n            initialize: form,\r\n            auth: null,\r\n            authError: null,\r\n        }),\r\n        [LEAVE_FORM]: state => ({\r\n            ...state,\r\n            initialize: '',\r\n            auth: null,\r\n            authError: null,\r\n        }),\r\n        [REGISTER]: (state) => ({\r\n            ...state,\r\n            auth: null,\r\n            authError: null,\r\n        }),\r\n        [REGISTER_SUCCESS]: (state, {payload: auth}) => ({\r\n            ...state,\r\n            auth,\r\n        }),\r\n        [REGISTER_FAILURE]: (state, {payload: error}) => ({\r\n            ...state,\r\n            authError: error,\r\n        }),\r\n        [LOGIN]: (state) => ({\r\n            ...state,\r\n            auth: null,\r\n            authError: null,\r\n        }),\r\n        [LOGIN_SUCCESS]: (state, {payload: auth}) => ({\r\n            ...state,\r\n            auth,\r\n        }),\r\n        [LOGIN_FAILURE]: (state, {payload: error}) => ({\r\n            ...state,\r\n            authError: error,\r\n        }),\r\n    },\r\n    initialState\r\n);\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {Link} from \"react-router-dom\";\r\nimport palette from \"../../lib/styles/palette\";\r\nimport Button from \"../common/Button\";\r\n\r\n// 회원가입/로그인 폼 컴포넌트\r\nconst StyledAuthForm = styled.div`\r\n    h3 {\r\n        margin: 0;\r\n        color: ${palette.gray[8]};\r\n        margin-bottom: 1rem;\r\n    }\r\n`;\r\n\r\n// 스타일링된 input\r\nconst StyledInput = styled.input`\r\n    font-size: 1rem;\r\n    border: none;\r\n    border-bottom: 1px solid ${palette.gray[5]};\r\n    padding-bottom: 0.5rem;\r\n    outline: none;\r\n    width: 100%;\r\n    &:focus {\r\n        color: $oc-teal-7;\r\n        border-bottom: 1px solid ${palette.gray[7]};\r\n    }\r\n    & + & {\r\n        margin-top: 1rem;\r\n    }\r\n`;\r\n\r\n// 메인 화면, 회원가입/로그인 링크\r\nconst Footer = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin-top: 1rem;\r\n    a {\r\n        color: ${palette.gray[6]};\r\n        text-decoration: underline;\r\n        $:hover {\r\n        color: ${palette.gray[9]};\r\n    }\r\n`;\r\n\r\nconst textMap = {\r\n    login: '로그인',\r\n    register: '회원가입',\r\n};\r\n\r\nconst ErrorMessage = styled.div`\r\n    color: red;\r\n    text-align: center;\r\n    font-size: 0.875rem;\r\n    margin-top: 1rem;\r\n`;\r\n\r\nconst AuthForm = ({type, form, onChange, onSubmit, error}) => {\r\n    const text = textMap[type];\r\n\r\n    return (\r\n        <StyledAuthForm>\r\n            <h3>{text}</h3>\r\n            <form onSubmit={onSubmit}>\r\n                <StyledInput\r\n                    autoComplete={\"username\"}\r\n                    name={\"username\"}\r\n                    placeholder={\"아이디\"}\r\n                    onChange={onChange}\r\n                    value={form.username}\r\n                />\r\n                <StyledInput\r\n                    autoComplete={\"new-password\"}\r\n                    name={\"password\"}\r\n                    placeholder={\"비밀번호\"}\r\n                    type={\"password\"}\r\n                    onChange={onChange}\r\n                    value={form.password}\r\n                />\r\n                {type === 'register' && (\r\n                    <StyledInput\r\n                        autoComplete={\"new-password\"}\r\n                        name={\"passwordConfirm\"}\r\n                        placeholder={\"비밀번호 확인\"}\r\n                        type={\"password\"}\r\n                        onChange={onChange}\r\n                        value={form.passwordConfirm}\r\n                    />\r\n                )}\r\n\r\n                {error && <ErrorMessage>{error}</ErrorMessage>}\r\n                <Button cyan fullWidth marginTop={\"1rem\"}>\r\n                    {text}\r\n                </Button>\r\n            </form>\r\n            <Footer>\r\n                <Link to={\"/\"}>\r\n                    메인 화면\r\n                </Link>\r\n                {type === 'login' ? (\r\n                    <Link to={\"/register\"}>회원가입</Link>\r\n                ) : (\r\n                    <Link to={\"/login\"}>로그인</Link>\r\n                )}\r\n            </Footer>\r\n        </StyledAuthForm>\r\n    );\r\n};\r\n\r\nexport default React.memo(AuthForm);\r\n","import React, {useEffect, useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {changeField, enterForm, leaveForm, register} from \"../../modules/auth\";\r\nimport AuthForm from \"../../components/auth/AuthForm\";\r\nimport {check} from \"../../modules/user\";\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nconst RegisterForm = ({history}) => {\r\n    const [error, setError] = useState(null);\r\n    const dispatch = useDispatch();\r\n    const {form, initialize, auth, authError, user} = useSelector(({auth, user}) => ({\r\n        form: auth.register,\r\n        initialize: auth.initialize,\r\n        auth: auth.auth,\r\n        authError: auth.authError,\r\n        user: user.user,\r\n    }));\r\n\r\n    // 값 변경 이벤트 핸들러\r\n    const onChange = e => {\r\n        const {name, value} = e.target;\r\n        dispatch(\r\n            changeField({\r\n                form: 'register',\r\n                key: name,\r\n                value\r\n            })\r\n        )\r\n    };\r\n\r\n    // 폼 등록 이벤트 핸들러\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        const {username, password, passwordConfirm} = form;\r\n        if ([username, password, passwordConfirm].includes('')) {\r\n            setError('빈칸을 모두 입력해 주세요');\r\n            return;\r\n        }\r\n        if (password !== passwordConfirm) {\r\n            setError('비밀번호가 일치하지 않습니다');\r\n            dispatch(changeField({form: 'register', key: 'password', value: ''}));\r\n            dispatch(changeField({form: 'register', key: 'passwordConfirm', value: ''}));\r\n            return;\r\n        }\r\n        dispatch(register({username, password}));\r\n    };\r\n\r\n    // 컴포넌트가 처음 렌더링될 떼 form을 초기화함\r\n    useEffect(() => {\r\n        dispatch(enterForm('register'));\r\n\r\n        return() => {\r\n            dispatch(leaveForm('register'));\r\n        }\r\n    }, [dispatch]);\r\n\r\n    // 회원가입 성공/실패 처리\r\n    useEffect(() => {\r\n        if (initialize === 'register') {\r\n            if (authError) {\r\n                if (authError.response.status === 409) {\r\n                    setError('이미 존재하는 계정입니다');\r\n                    return;\r\n                }\r\n                setError('회원가입 실패');\r\n                return;\r\n            }\r\n            if (auth) {\r\n                dispatch(check());\r\n            }\r\n        }\r\n    }, [initialize, auth, authError, dispatch]);\r\n\r\n    // user 값이 잘 설정되었는지 확인\r\n    useEffect(() => {\r\n        if (user) {\r\n            history.push('/');\r\n            try {\r\n                localStorage.setItem('user', JSON.stringify(user));\r\n            } catch (e) {\r\n                console.log('localStorage is not working');\r\n            }\r\n        }\r\n\r\n    }, [history, user]);\r\n\r\n    return (\r\n        <AuthForm\r\n            type={\"register\"}\r\n            form={form}\r\n            error={error}\r\n            onChange={onChange}\r\n            onSubmit={onSubmit}\r\n        />\r\n    )\r\n};\r\n\r\nexport default withRouter(RegisterForm);\r\n","import React from \"react\";\r\nimport AuthTemplate from \"../components/auth/AuthTemplate\";\r\nimport RegisterForm from \"../container/auth/RegisterForm\";\r\n\r\nconst RegisterPage = () => {\r\n    return (\r\n        <AuthTemplate>\r\n            <RegisterForm/>\r\n        </AuthTemplate>\r\n    );\r\n};\r\n\r\nexport default RegisterPage;","import React, {useCallback, useEffect, useState} from \"react\";\r\nimport {useDispatch, useSelector, shallowEqual} from \"react-redux\";\r\nimport {changeField, enterForm, leaveForm, login} from \"../../modules/auth\";\r\nimport AuthForm from \"../../components/auth/AuthForm\";\r\nimport {check} from \"../../modules/user\";\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nconst LoginForm = ({history}) => {\r\n    const [error, setError] = useState(null);\r\n    const dispatch = useDispatch();\r\n    const {form, initialize, auth, authError, user} = useSelector(({auth, user}) => ({\r\n        form: auth.login,\r\n        initialize: auth.initialize,\r\n        auth: auth.auth,\r\n        authError: auth.authError,\r\n        user: user.user,\r\n    }), shallowEqual);\r\n\r\n    // 값 변경 이벤트 핸들러\r\n    const onChange = useCallback(e => {\r\n        const {name, value} = e.target;\r\n        dispatch(\r\n            changeField({\r\n                form: 'login',\r\n                key: name,\r\n                value\r\n            })\r\n        )\r\n    }, [dispatch]);\r\n\r\n    // 폼 등록 이벤트 핸들러\r\n    const onSubmit = useCallback(e => {\r\n        e.preventDefault();\r\n        const {username, password} = form;\r\n        dispatch(login({username, password}));\r\n    }, [dispatch, form]);\r\n\r\n    // 컴포넌트가 처음 렌더링 되거나 페이지를 떠날 때 form을 초기화함\r\n    useEffect(() => {\r\n        dispatch(enterForm('login'));\r\n\r\n        return() => {\r\n            dispatch(leaveForm('login'));\r\n        }\r\n    }, [dispatch]);\r\n\r\n    // 로그인 성공/실패 처리\r\n    useEffect(() => {\r\n        if (initialize === 'login') {\r\n            if (authError) {\r\n                if (authError.response.status === 401) {\r\n                    setError('아이디 또는 비밀번호가 일치하지 않습니다');\r\n                    return;\r\n                }\r\n                setError('로그인 실패');\r\n                return;\r\n            }\r\n            if (auth) {\r\n                dispatch(check());\r\n            }\r\n        }\r\n    }, [initialize, auth, authError, dispatch]);\r\n\r\n    // user 값이 잘 설정되었는지 확인\r\n    useEffect(() => {\r\n        if (user) {\r\n            history.push('/');\r\n            try {\r\n                localStorage.setItem('user', JSON.stringify(user));\r\n            } catch (e) {\r\n                console.log('localStorage is not working');\r\n            }\r\n        }\r\n\r\n    }, [history, user]);\r\n\r\n    return (\r\n        <AuthForm\r\n            type={\"login\"}\r\n            form={form}\r\n            error={error}\r\n            onChange={onChange}\r\n            onSubmit={onSubmit}\r\n        />\r\n    )\r\n};\r\n\r\nexport default React.memo(withRouter(LoginForm));\r\n","import React from \"react\";\r\nimport AuthTemplate from \"../components/auth/AuthTemplate\";\r\nimport LoginForm from \"../container/auth/LoginForm\";\r\n\r\nconst LoginPage = () => {\r\n    return (\r\n        <AuthTemplate>\r\n            <LoginForm />\r\n        </AuthTemplate>\r\n    );\r\n};\r\n\r\nexport default LoginPage;","import {createAction, handleActions} from 'redux-actions';\r\nimport createRequestSaga, {createRequsetActionType} from \"../lib/createRequestSaga\";\r\nimport * as postAPI from '../lib/api/posts';\r\nimport {takeLatest} from 'redux-saga/effects';\r\n\r\nconst [\r\n    READ_POST,\r\n    READ_POST_SUCCESS,\r\n    READ_POST_FAILURE\r\n] = createRequsetActionType('post/POST_READ');\r\nconst UNLOAD_POST = 'post/UNLOAD_POST'; // 포스트 페이지에서 벗어날 때 데이터 지우기\r\n\r\nexport const readPost = createAction(READ_POST, id => id);\r\nexport const unloadPost = createAction(UNLOAD_POST);\r\n\r\nconst readPostSaga = createRequestSaga(READ_POST, postAPI.readPost);\r\n\r\nexport function* postSaga() {\r\n    yield takeLatest(READ_POST, readPostSaga);\r\n}\r\n\r\nconst initialState = {\r\n    post: null,\r\n    error: null,\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [READ_POST_SUCCESS]: (state, {payload: post}) => ({\r\n            ...state,\r\n            post: post,\r\n            error: null,\r\n        }),\r\n        [READ_POST_FAILURE]: (state, {payload: error}) => ({\r\n            ...state,\r\n            post: null,\r\n            error: error,\r\n        }),\r\n        [UNLOAD_POST]: () => initialState,\r\n    },\r\n    initialState,\r\n);\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport palette from \"../../lib/styles/palette\";\r\nimport Responsive from \"../common/Responsive\";\r\nimport SubInfo from \"../common/SubInfo\";\r\nimport Tags from '../common/Tags';\r\n\r\nconst StyledPostViewer = styled(Responsive)`\r\n    margin-top: 4rem;\r\n`;\r\n\r\nconst PostHead = styled.div`\r\n    border-bottom: 1px solid ${palette.gray[2]};\r\n    padding-bottom: 3rem;\r\n    margin-bottom: 3rem;\r\n    h1{\r\n        font-size: 3rem;\r\n        line-height: 1.5;\r\n        margin: 0;\r\n    }\r\n`;\r\n\r\nconst PostContent = styled.div`\r\n    font-size: 1.3125rem;\r\n    color: ${palette.gray[8]};\r\n`;\r\n\r\nconst PostViewer = ({post, error, loading, actionButtons}) => {\r\n    if (error) {\r\n        if (error.response && error.response.status === 404) {\r\n            return <StyledPostViewer> 포스트가 존재하지 않습니다!</StyledPostViewer>\r\n        }\r\n        return <StyledPostViewer>오류 발생!!</StyledPostViewer>\r\n    }\r\n\r\n    if (loading || !post) {\r\n        return null;\r\n    }\r\n\r\n    const {title, level, time, body, user, publishedDate, tags} = post;\r\n\r\n    return (\r\n        <StyledPostViewer>\r\n            <PostHead>\r\n                <h1>{title}</h1>\r\n                <SubInfo\r\n                    username={user.username}\r\n                    level={level}\r\n                    time={time}\r\n                    publishedDate={publishedDate}\r\n                    hasMarginTop\r\n                />\r\n                <Tags tags={tags}/>\r\n            </PostHead>\r\n            {actionButtons}\r\n            <PostContent\r\n                dangerouslySetInnerHTML={{__html: body}}\r\n            />\r\n        </StyledPostViewer>\r\n    )\r\n};\r\n\r\nexport default PostViewer;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Button from \"./Button\";\r\n\r\nconst Fullscreen = styled.div`\r\n    position: fixed;\r\n    z-index: 30;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(0, 0, 0, 0.25);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\n\r\nconst StyledAskModal = styled.div`\r\n    width: 320px;\r\n    background: white;\r\n    padding: 1.5rem;\r\n    border-radius: 4px;\r\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.125);\r\n    h2 {\r\n        margin-top: 0;\r\n        margin-bottom: 1rem;\r\n    }\r\n    p {\r\n        margin-bottom: 3rem;\r\n    }\r\n    .buttons {\r\n        display: flex;\r\n        justify-content: flex-end;\r\n    }\r\n`;\r\n\r\nconst StyledButton = styled(Button)`\r\n    height: 2rem;\r\n    & + & {\r\n        margin-left: 0.75rem;\r\n    }\r\n`;\r\n\r\nconst AskModal = (\r\n    {\r\n        visible,\r\n        title,\r\n        description,\r\n        confirmText = '확인',\r\n        cancelText = '취소',\r\n        onConfirm,\r\n        onCancel,\r\n    }\r\n) => {\r\n    if (!visible) return null;\r\n    return (\r\n        <Fullscreen>\r\n            <StyledAskModal>\r\n                <h2>{title}</h2>\r\n                <p>{description}</p>\r\n                <div className={\"buttons\"}>\r\n                    <StyledButton onClick={onCancel}>\r\n                        {cancelText}\r\n                    </StyledButton>\r\n                    <StyledButton onClick={onConfirm} cyan>\r\n                        {confirmText}\r\n                    </StyledButton>\r\n                </div>\r\n            </StyledAskModal>\r\n        </Fullscreen>\r\n    )\r\n};\r\n\r\nexport default AskModal;","import React from \"react\";\r\nimport AskModal from \"../common/AskModal\";\r\n\r\nconst AskRemoveModal = ({visible, onConfirm, onCancel}) => {\r\n    return (\r\n        <AskModal\r\n            visible={visible}\r\n            title={\"포스트 삭제\"}\r\n            description={\"포스트를 정말 삭제하실건가요?\"}\r\n            confirmText={\"삭제\"}\r\n            onConfirm={onConfirm}\r\n            onCancel={onCancel}\r\n        />\r\n    )\r\n};\r\n\r\nexport default AskRemoveModal;\r\n","import React, {useState} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport palette from \"../../lib/styles/palette\";\r\nimport AskRemoveModal from \"./AskRemoveModal\";\r\n\r\nconst StyledPostActionButtons = styled.div`\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    margin-bottom: 2rem;\r\n    margin-top: 1.5rem;\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n    padding: 0.25rem 0.5rem;\r\n    border-radius: 4px;\r\n    color: ${palette.gray[6]};\r\n    font-weight: bold;\r\n    border: none;\r\n    outline: none;\r\n    font-size: 0.875rem;\r\n    cursor: pointer;\r\n    &:hover {\r\n        background: ${palette.gray[1]};\r\n        color: ${palette.cyan[7]};\r\n    }\r\n    & + & {\r\n        margin-left: 0.25rem;\r\n    }\r\n`;\r\n\r\nconst PostActionButtons = ({onEdit, onRemove}) => {\r\n    const [modal, setModal] = useState(false);\r\n    const onRemoveClick = () => {\r\n        setModal(true);\r\n    };\r\n    const onConfirm = () => {\r\n        setModal(false);\r\n        onRemove();\r\n    };\r\n    const onCancel = () => {\r\n        setModal(false);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <StyledPostActionButtons>\r\n                <ActionButton onClick={onEdit}>수정</ActionButton>\r\n                <ActionButton onClick={onRemoveClick}>삭제</ActionButton>\r\n            </StyledPostActionButtons>\r\n            <AskRemoveModal\r\n                visible={modal}\r\n                onConfirm={onConfirm}\r\n                onCancel={onCancel}\r\n            />\r\n        </>\r\n    )\r\n};\r\n\r\nexport default PostActionButtons;\r\n","import {createAction, handleActions} from \"redux-actions\";\r\nimport createRequestSaga, {createRequsetActionType} from \"../lib/createRequestSaga\";\r\nimport * as postAPI from '../lib/api/posts';\r\nimport {takeLatest} from 'redux-saga/effects';\r\n\r\nconst INITIALIZE = 'write/INITIALIZE'; // 모든 내용 초기화\r\nconst CHANGE_FIELD = 'write/CHANGE_FIELD'; // 특정 key 값 바꾸기\r\nconst SET_ORIGINAL_POST = 'write/SET_ORIGINAL_POST'; // 포스트 수정시 포스트 내용 세팅\r\nconst [\r\n    WRITE_POST,\r\n    WRITE_POST_SUCCESS,\r\n    WRITE_POST_FAILURE\r\n] = createRequsetActionType('write/WRITE_POST');\r\nconst [\r\n    UPDATE_POST,\r\n    UPDATE_POST_SUCCESS,\r\n    UPDATE_POST_FAILURE\r\n] = createRequsetActionType('write/UPDATE_POST');\r\n\r\nexport const initialize = createAction(INITIALIZE);\r\nexport const changeField = createAction(CHANGE_FIELD, ({key, value}) => ({\r\n    key,\r\n    value,\r\n}));\r\nexport const setOriginalPost = createAction(SET_ORIGINAL_POST, post => post);\r\nexport const writePost = createAction(WRITE_POST,\r\n    ({title, level, time, body, tags}) => ({\r\n        title,\r\n        level,\r\n        time,\r\n        body,\r\n        tags,\r\n    }));\r\nexport const updatePost = createAction(UPDATE_POST,\r\n    ({id, title, body, tags}) => ({\r\n        id,\r\n        title,\r\n        body,\r\n        tags,\r\n    }));\r\n\r\nconst writePostSaga = createRequestSaga(WRITE_POST, postAPI.writePost);\r\nconst updatePostSaga = createRequestSaga(UPDATE_POST, postAPI.updatePost);\r\n\r\nexport function* writeSaga() {\r\n    yield takeLatest(WRITE_POST, writePostSaga);\r\n    yield takeLatest(UPDATE_POST, updatePostSaga);\r\n}\r\n\r\nconst initialState = {\r\n    title: '',\r\n    body: '',\r\n    tags: [],\r\n    post: null,\r\n    postError: null,\r\n    originalPostId: null,\r\n    originalLevel: null,\r\n    originalTime: null,\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [INITIALIZE]: state => initialState,\r\n        [CHANGE_FIELD]: (state, {payload: {key, value}}) => ({\r\n            ...state,\r\n            [key]: value,\r\n        }),\r\n        [WRITE_POST]: state => ({\r\n            ...state,\r\n            post: null,\r\n            postError: null,\r\n        }),\r\n        [WRITE_POST_SUCCESS]: (state, {payload: post}) => ({\r\n            ...state,\r\n            post: post,\r\n        }),\r\n        [WRITE_POST_FAILURE]: (state, {payload: postError}) => ({\r\n            ...state,\r\n            postError: postError,\r\n        }),\r\n        [SET_ORIGINAL_POST]: (state, {payload: post}) => ({\r\n            ...state,\r\n            title: post.title,\r\n            body: post.body,\r\n            tags: post.tags,\r\n            originalPostId: post._id,\r\n            originalLevel: post.level,\r\n            originalTime: post.time,\r\n        }),\r\n        [UPDATE_POST_SUCCESS]: (state, {payload: post}) => ({\r\n            ...state,\r\n            post: post,\r\n            postError: null,\r\n        }),\r\n        [UPDATE_POST_FAILURE]: (state, {payload: postError}) => ({\r\n            ...state,\r\n            post: null,\r\n            postError: postError,\r\n        }),\r\n    },\r\n    initialState\r\n);\r\n","import React, {useEffect} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {readPost, unloadPost} from \"../../modules/post\";\r\nimport PostViewer from \"../../components/post/PostViewer\";\r\nimport PostActionButtons from \"../../components/post/PostActionButtons\";\r\nimport {setOriginalPost} from \"../../modules/write\";\r\nimport {removePost} from \"../../lib/api/posts\";\r\n\r\nconst PostViewerContainer = ({match, history}) => {\r\n    const {postId} = match.params;\r\n    const dispatch = useDispatch();\r\n    const {post, error, loading, user} = useSelector(({post, loading, user}) => ({\r\n        post: post.post,\r\n        error: post.error,\r\n        loading: loading['post/READ_POST'],\r\n        user: user.user,\r\n    }));\r\n    const ownPost = (user && user._id) === (post && post.user._id);\r\n\r\n    // 처음 마운트될 때 포스트 읽기 API 요청\r\n    useEffect(() => {\r\n        dispatch(readPost(postId));\r\n        // 언마운트될 때 리덕스에서 포스트 데이터 지우기\r\n        return () => {\r\n            dispatch(unloadPost());\r\n        }\r\n    }, [dispatch, postId]);\r\n\r\n    const onEdit = () => {\r\n        dispatch(setOriginalPost(post));\r\n        history.push('/write');\r\n    };\r\n\r\n    const onRemove = async () => {\r\n        try {\r\n            await removePost(postId);\r\n            history.push('/');\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <PostViewer\r\n            post={post}\r\n            error={error}\r\n            loading={loading}\r\n            actionButtons={ownPost && <PostActionButtons onEdit={onEdit} onRemove={onRemove}/>}\r\n        />\r\n    )\r\n};\r\n\r\nexport default withRouter(PostViewerContainer);\r\n","import React from \"react\";\r\nimport HeaderContainer from \"../container/common/HeaderContainer\";\r\nimport PostViewerContainer from \"../container/post/PostViewerContainer\";\r\n\r\nconst PostPage = () => {\r\n    return (\r\n        <>\r\n            <HeaderContainer/>\r\n            <PostViewerContainer/>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default PostPage;","import React, {useRef, useEffect} from \"react\";\r\nimport Quill from 'quill';\r\nimport 'quill/dist/quill.bubble.css';\r\nimport styled from \"styled-components\";\r\nimport palette from \"../../lib/styles/palette\";\r\nimport Responsive from \"../common/Responsive\";\r\n\r\nconst StyledEditor = styled(Responsive)`\r\n    padding: 5rem 0;\r\n`;\r\n\r\nconst TitleInput = styled.input`\r\n    font-size: 3rem;\r\n    outline: none;\r\n    padding-bottom: 0.5rem;\r\n    border: none;\r\n    border-bottom: 1px solid ${palette.gray[4]};\r\n    margin-bottom: 2rem;\r\n    width: 100%;\r\n`;\r\n\r\nconst LevelTimeBlock = styled.div`\r\n    p {\r\n        margin: 0;\r\n        margin-bottom: 0.5rem;\r\n        font-size: 1.25rem;\r\n        font-weight: bold;\r\n    }\r\n`;\r\n\r\nconst QuillWrapper = styled.div`\r\n    /* 에디터 최소 크기 지정 및 padding 제거 */\r\n    .qu-editor {\r\n        padding: 0;\r\n        min-height: 320px;\r\n        font-size: 1.125rem;\r\n        line-height: 1.5;\r\n    }\r\n    .ql-editor.ql-blank:before {\r\n        left: 0px;\r\n    }\r\n`;\r\n\r\nconst Editor = ({title, body, level, time, onChangeField}) => {\r\n    const quillElement = useRef(null); // Quill을 적용할 DivElement를 설정\r\n    const quillIstance = useRef(null); // Quill 인스턴스를 설정\r\n\r\n    useEffect(() => {\r\n        quillIstance.current = new Quill(quillElement.current, {\r\n            theme: 'bubble',\r\n            placeholder: '내용을 작성하세요!',\r\n            modules: {\r\n                // https://quilljs.com/docs/modules/toolbar/ 참고하기\r\n                toolbar: [\r\n                    [{header: '1'}, {header: '2'}],\r\n                    ['bold', 'italic', 'underline', 'strike'],\r\n                    [{list: 'ordered'}, {list: 'bullet'}],\r\n                    ['blockquote', 'code-block', 'link', 'image'],\r\n                ],\r\n            },\r\n        });\r\n\r\n        // quill에 text-change 이벤트 핸들러 등록\r\n        // 참고: https://quilljs.com/docs/api/#event\r\n        const quill = quillIstance.current;\r\n        quill.on('text-change', (delta, oldDelta, source) => {\r\n            if (source === 'user') {\r\n                onChangeField({key: 'body', value: quill.root.innerHTML});\r\n            }\r\n        })\r\n    }, [onChangeField]);\r\n\r\n    const mounted = useRef(false);\r\n    useEffect(() => {\r\n        if (mounted.current) return;\r\n        mounted.current = true;\r\n        quillIstance.current.root.innerHTML = body;\r\n    }, [body]);\r\n\r\n    const onChangeTitle = e => {\r\n       onChangeField({key: 'title', value: e.target.value});\r\n    };\r\n\r\n    return (\r\n        <StyledEditor>\r\n            <TitleInput\r\n                value={title}\r\n                onChange={onChangeTitle}\r\n                placeholder={\"제목을 입력하세요!\"}\r\n            />\r\n            <LevelTimeBlock>\r\n                <p>\r\n                    난이도: {level}\r\n                </p>\r\n                <p>\r\n                    클리어 타임: {time}\r\n                </p>\r\n            </LevelTimeBlock>\r\n            <QuillWrapper>\r\n                <div ref={quillElement}/>\r\n            </QuillWrapper>\r\n        </StyledEditor>\r\n    )\r\n};\r\n\r\nexport default Editor;\r\n","import React, {useEffect, useCallback} from \"react\";\r\nimport Editor from \"../../components/write/Editor\";\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport {initialize, changeField} from \"../../modules/write\";\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nconst EditorContainer = ({history}) => {\r\n    const dispatch = useDispatch();\r\n    const {user, title, body, level, time} = useSelector(({user, write, game}) => ({\r\n        user: user.user,\r\n        title: write.title,\r\n        body: write.body,\r\n        level: game.level ? game.level : write.originalLevel,\r\n        time: game.time ? game.time: write.originalTime,\r\n    }));\r\n    const onChangeField = useCallback(payload => dispatch(changeField(payload)),\r\n        [dispatch]);\r\n\r\n    // 페이지를 떠날 때 데이터 초기화\r\n    useEffect(() => {\r\n        if (user === null || time === null) {\r\n            alert('올바른 접근이 아닙니다!!!');\r\n            history.push('/');\r\n        }\r\n        return () => {\r\n            dispatch(initialize());\r\n        }\r\n    }, [dispatch, user, time, history]);\r\n\r\n    return (\r\n        <Editor\r\n            title={title}\r\n            body={body}\r\n            level={level}\r\n            time={time}\r\n            onChangeField={onChangeField}\r\n        />\r\n    )\r\n};\r\n\r\nexport default withRouter(EditorContainer);\r\n","import React, {useState, useCallback, useEffect} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport palette from \"../../lib/styles/palette\";\r\n\r\nconst StyledTagBox = styled.div`\r\n    width: 100%;\r\n    border-top: 1px solid ${palette.gray[2]};\r\n    padding-top: 2rem;\r\n    \r\n    h4 {\r\n        color: ${palette.gray[8]};\r\n        margin-top: 0;\r\n        margin-bottom: 0.5rem;\r\n    }\r\n`;\r\n\r\nconst TagForm = styled.form`\r\n    border-radius: 4px;\r\n    overflow: hidden;\r\n    display: flex;\r\n    width: 256px;\r\n    border: 1px solid ${palette.gray[9]};\r\n    input, button {\r\n        outline: none;\r\n        border: none;\r\n        font-size: 1rem;\r\n    }\r\n    \r\n    input {\r\n        padding: 0.5rem;\r\n        flex: 1;\r\n        min-width: 0;\r\n    }\r\n    \r\n    button {\r\n        cursor: pointer;\r\n        padding: 0 1rem;\r\n        border: none;\r\n        background: ${palette.gray[8]};\r\n        color: white;\r\n        font-weight: bold;\r\n        &:hover {\r\n            background: ${palette.gray[6]};\r\n        }\r\n    }\r\n`;\r\n\r\nconst Tag = styled.div`\r\n    margin-right: 0.5rem;\r\n    color: ${palette.gray[6]};\r\n    cursor: pointer;\r\n    $:hover {\r\n        opacity: 0.5;\r\n    }\r\n`;\r\n\r\nconst StyledTagList = styled.div`\r\n    display: flex;\r\n    margin-top: 0.5rem;\r\n`;\r\n\r\n// React.memo를 사용하여 tag 값이 바뀔 때만 리렌더링되도록 처리\r\nconst TagItem = React.memo(({tag, onRemove}) =>\r\n    <Tag onClick={() => onRemove(tag)}>#{tag}</Tag>);\r\n\r\n// React.memo를 사용하여 tags 값이 바뀔 때만 리렌더링되도록 처리\r\nconst TagList = React.memo(({tags, onRemove}) => (\r\n    <StyledTagList>\r\n        {tags.map(tag => (\r\n            <TagItem key={tag} tag={tag} onRemove={onRemove}/>\r\n        ))}\r\n    </StyledTagList>\r\n));\r\n\r\nconst TagBox = ({tags, onChangeTags}) => {\r\n    const [input, setInput] = useState('');\r\n    const [localTags, setLocalTags] = useState([]);\r\n\r\n    const insertTag = useCallback(tag => {\r\n        if (!tag || localTags.includes(tag)) return;\r\n        const newTags = [...localTags, tag];\r\n        setLocalTags(newTags);\r\n        onChangeTags(newTags);\r\n    }, [localTags, onChangeTags]);\r\n\r\n    const onRemove = useCallback(tag => {\r\n        const newTags = localTags.filter(t => t !== tag);\r\n        setLocalTags(newTags);\r\n        onChangeTags(newTags);\r\n    }, [localTags, onChangeTags]);\r\n\r\n    const onChange = useCallback(e => {\r\n        setInput(e.target.value);\r\n    }, []);\r\n\r\n    const onSubmit = useCallback(e => {\r\n        e.preventDefault();\r\n        insertTag(input.trim());\r\n        setInput('');\r\n    }, [input, insertTag]);\r\n\r\n    useEffect(() => {\r\n        setLocalTags(tags);\r\n    }, [tags]);\r\n\r\n    return (\r\n        <StyledTagBox>\r\n            <h4>태그</h4>\r\n            <TagForm onSubmit={onSubmit}>\r\n                <input\r\n                    value={input}\r\n                    onChange={onChange}\r\n                    placeholder={\"태그를 입력하세요\"}\r\n                />\r\n                <button type={\"submit\"}>추가</button>\r\n            </TagForm>\r\n            <TagList tags={localTags} onRemove={onRemove}/>\r\n        </StyledTagBox>\r\n    );\r\n};\r\n\r\nexport default TagBox;\r\n","import React from \"react\";\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport TagBox from \"../../components/write/TagBox\";\r\nimport {changeField} from \"../../modules/write\";\r\n\r\nconst TagBoxContainer = () => {\r\n    const dispatch = useDispatch();\r\n    const tags = useSelector(state => state.write.tags);\r\n\r\n    const onChangeTags = newTags => {\r\n        dispatch(changeField({\r\n                key: 'tags',\r\n                value: newTags,\r\n            }),\r\n        );\r\n    };\r\n\r\n    return <TagBox onChangeTags={onChangeTags} tags={tags}/>;\r\n};\r\n\r\nexport default TagBoxContainer;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Button from \"../common/Button\";\r\n\r\nconst StyledWriteActionButtons = styled.div`\r\n    margin-top: 1rem;\r\n    margin-bottom: 3rem;\r\n    button + button {\r\n        margin-left: 0.5rem;\r\n    }\r\n`;\r\n\r\n// TagBox에서 사용하는 버튼과 같은 높이로 설정한 후 서로간의 여백 지정\r\nconst StyledButton = styled(Button)`\r\n    height: 2.125rem;\r\n    & + & {\r\n        margin-left: 0.5rem;\r\n    }\r\n`;\r\n\r\nconst WriteActionButtons = ({onCancel, onPublished, isEdit}) => {\r\n    return (\r\n        <StyledWriteActionButtons>\r\n            <StyledButton cyan onClick={onPublished}>\r\n                포스트 {isEdit ? '수정' : '등록'}\r\n            </StyledButton>\r\n            <StyledButton onClick={onCancel}>\r\n                취소\r\n            </StyledButton>\r\n        </StyledWriteActionButtons>\r\n    )\r\n};\r\n\r\nexport default WriteActionButtons;\r\n","import React, {useEffect} from \"react\";\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {writePost, updatePost} from \"../../modules/write\";\r\nimport WriteActionButtons from \"../../components/write/WriteActionButton\";\r\n\r\nconst WriteActionButtonsContainer = ({history}) => {\r\n    const dispatch = useDispatch();\r\n    const {title, body, tags, post, postError, originalPostId, level, time} = useSelector(({write, game}) => ({\r\n        title: write.title,\r\n        body: write.body,\r\n        tags: write.tags,\r\n        post: write.post,\r\n        postError: write.postError,\r\n        originalPostId: write.originalPostId,\r\n        level: game.level,\r\n        time: game.time,\r\n    }));\r\n\r\n    const onPublish = () => {\r\n        if (originalPostId) {\r\n            dispatch(\r\n                updatePost(\r\n                    {\r\n                        id: originalPostId,\r\n                        title,\r\n                        body,\r\n                        tags,\r\n                    }\r\n                )\r\n            );\r\n            return;\r\n        }\r\n        dispatch(\r\n            writePost({\r\n                title,\r\n                level,\r\n                time,\r\n                body,\r\n                tags\r\n            }),\r\n        );\r\n    };\r\n\r\n    const onCancel = () => {\r\n        history.goBack();\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (post) {\r\n            const {_id, user} = post;\r\n            history.push(`/@${user.username}/${_id}`);\r\n        }\r\n\r\n        if (postError) {\r\n            console.log(postError);\r\n        }\r\n    }, [history, post, postError]);\r\n\r\n    return (\r\n        <WriteActionButtons\r\n            onPublished={onPublish}\r\n            onCancel={onCancel}\r\n            isEdit={!!originalPostId}\r\n        />\r\n    )\r\n};\r\n\r\nexport default withRouter(WriteActionButtonsContainer);\r\n","import React from \"react\";\r\nimport Responsive from \"../components/common/Responsive\";\r\nimport EditorContainer from \"../container/write/EditorContainer\";\r\nimport TagBoxContainer from \"../container/write/TagBoxContainer\";\r\nimport WriteActionButtonsContainer from \"../container/write/WriteActionButtonsContainer\";\r\n\r\nconst WritePage = () => {\r\n    return (\r\n        <Responsive>\r\n            <EditorContainer/>\r\n            <TagBoxContainer/>\r\n            <WriteActionButtonsContainer/>\r\n        </Responsive>\r\n    )\r\n};\r\n\r\nexport default WritePage;","import {createAction, handleActions} from \"redux-actions\";\r\nimport produce from \"immer\";\r\nimport calcDate from \"../lib/calcDate\";\r\n\r\nconst INITIALIZE_GAME = 'game/INITIALIZE'; // 게임 초기화\r\nconst SET_LEVEL = 'game/SET_LEVEL'; // 게임 난이도 설정\r\nconst START_GAME = 'game/START_GAME'; // 게임 시작\r\nconst OPEN_BLOCK = 'game/OPEN_BLOCK'; // 블록을 열때 사용\r\nconst INCREASE_OPEN_BLOCK_NUM = 'game/INCREASE_OPEN_BLOCK_NUM'; // 열린 블록의 수를 더할 때 사용\r\nconst SET_FLAG = 'game/SET_FLAG'; // 지뢰 위치 설정할 때 사용\r\nconst HIGHLIGHT_ON = 'game/HIGHLIGHT_ON'; // 주변에 닫혀있는 블록 위치 하이라이트할 때 사용\r\nconst HIGHLIGHT_OFF = 'game/HIGHLIGHT_OFF'; // 주변에 닫혀있는 블록 위치 하이라이트끌 때 사용\r\nconst FINISH_GAME = 'game/FINISH_GAME'; // 게임 종료\r\n\r\nexport const initializeGame = createAction(INITIALIZE_GAME);\r\nexport const setLevel = createAction(SET_LEVEL, level => level);\r\nexport const startGame = createAction(START_GAME,\r\n    ({ground, size, width, mineNum}) => ({\r\n        ground,\r\n        size,\r\n        width,\r\n        mineNum,\r\n    }));\r\nexport const openBlock = createAction(OPEN_BLOCK, id => id);\r\nexport const increaseOpenBlockNum = createAction(INCREASE_OPEN_BLOCK_NUM, num => num);\r\nexport const setFlag = createAction(SET_FLAG, id => id);\r\nexport const highlightOn = createAction(HIGHLIGHT_ON, id => id);\r\nexport const highlightOff = createAction(HIGHLIGHT_OFF, id => id);\r\nexport const finishGame = createAction(FINISH_GAME, clear => clear);\r\n\r\nconst initialState = {\r\n    level: '쉬움',\r\n    isStart: false,\r\n    isFinish: false,\r\n    isClear: '',\r\n    ground: [],\r\n    size: 0,\r\n    width: 0,\r\n    mineNum: 0,\r\n    openBlockNum: 0,\r\n    nearBlock: [],\r\n    startTime: null,\r\n    time: null,\r\n};\r\n\r\nexport default handleActions(\r\n    {\r\n        [INITIALIZE_GAME]: state => initialState,\r\n        [SET_LEVEL]: (state, {payload: level}) => ({\r\n            ...state,\r\n            level: level\r\n        }),\r\n        [START_GAME]: (state, {payload: {ground, size, width, mineNum}}) => ({\r\n            ...state,\r\n            isStart: true,\r\n            ground: ground,\r\n            size: size,\r\n            width: width,\r\n            mineNum: mineNum,\r\n            nearBlock: [-width, -1, 1, width, -width - 1, -width + 1, width - 1, width + 1],\r\n            startTime: new Date(),\r\n        }),\r\n        [OPEN_BLOCK]: (state, {payload: id}) =>\r\n            produce(state, draft => {\r\n                draft.ground[id].flagSet = false;\r\n                draft.ground[id].isHighlight = false;\r\n                draft.ground[id].isOpen = true;\r\n            }),\r\n        [INCREASE_OPEN_BLOCK_NUM]: (state, {payload: num}) =>\r\n            produce(state, draft => {\r\n                draft.openBlockNum = num;\r\n            }),\r\n        [SET_FLAG]: (state, {payload: id}) =>\r\n            produce(state, draft => {\r\n                draft.ground[id].flagSet = !draft.ground[id].flagSet;\r\n                draft.ground[id].isHighlight = false;\r\n            }),\r\n        [HIGHLIGHT_ON]: (state, {payload: id}) =>\r\n            produce(state, draft => {\r\n                draft.ground[id].isHighlight = true;\r\n            }),\r\n        [HIGHLIGHT_OFF]: (state, {payload: id}) =>\r\n            produce(state, draft => {\r\n                draft.ground[id].isHighlight = false;\r\n            }),\r\n        [FINISH_GAME]: (state, {payload: clear}) =>\r\n            produce(state, draft => {\r\n                draft.ground.map(space => space.val === 'X' ? space.isOpen = true : space);\r\n                draft.isFinish = true;\r\n                draft.isClear = clear;\r\n                draft.time = calcDate(draft.startTime, new Date());\r\n            }),\r\n    }, initialState\r\n);\r\n","export default function (startTime, endTime) {\r\n    if (startTime === undefined || endTime === undefined) return null;\r\n    let output = '';\r\n    let sec = Math.floor((endTime.getTime() - startTime.getTime()) / 1000);\r\n    let date = Math.floor(sec / 60 / 60 / 24);\r\n    if (date > 0) {\r\n        sec -= date * 60 * 60 * 24;\r\n        output += date + '일';\r\n    }\r\n\r\n    let hour = Math.floor(sec / 60 / 60);\r\n    if (hour > 0) {\r\n        sec -= hour * 60 * 60;\r\n        output += hour + '시';\r\n    }\r\n\r\n    let min = Math.floor(sec / 60);\r\n    if (min > 0) {\r\n        sec -= min * 60;\r\n        output += min + '분';\r\n    }\r\n\r\n    return output += sec + '초';\r\n}","import React from \"react\";\r\nimport './Game.scss'\r\n\r\nconst Game = ({content}) => {\r\n\r\n    return (\r\n        <div id={\"game-root\"}>\r\n            {content}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default React.memo(Game);\r\n","import React from \"react\";\r\nimport Button from \"../common/Button\";\r\nimport './GameStart.scss'\r\n\r\nconst GameStart = ({onStart, onSetLevel}) => {\r\n\r\n    return (\r\n        <div id={\"start-root\"}>\r\n            <div id={\"start-select-div\"}>\r\n                <label>\r\n                    <h3>게임 난이도</h3>\r\n                </label>\r\n                <select\r\n                    name={\"level\"}\r\n                    id={\"level\"}\r\n                    onChange={onSetLevel}\r\n                >\r\n                    <option value={\"쉬움\"}>쉬움</option>\r\n                    <option value={\"보통\"}>보통</option>\r\n                    <option value={\"어려움\"}>어려움</option>\r\n                </select>\r\n            </div>\r\n            <div id={\"start-btn-div\"}>\r\n                <Button onClick={onStart}>시작</Button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default React.memo(GameStart);\r\n","import React, {useCallback} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {setLevel, startGame} from \"../../modules/game\";\r\nimport GameStart from \"../../components/game/GameStart\";\r\n\r\nconst GameStartContainer = () => {\r\n    const dispatch = useDispatch();\r\n    const {level} = useSelector(({game}) => ({\r\n        level: game.level,\r\n    }));\r\n\r\n    // 시작 버튼을 누르면 게임 데이터 생성\r\n    const onStart = useCallback(()  => {\r\n        let mineNum, size, width = 0;\r\n        let ground = [];\r\n\r\n        switch (level) {\r\n            case '쉬움':\r\n                mineNum = 10;\r\n                size = 80;\r\n                width = 10;\r\n                break;\r\n            case '보통':\r\n                mineNum = 40;\r\n                size = 252;\r\n                width = 18;\r\n                break;\r\n            case '어려움':\r\n                mineNum = 100;\r\n                size = 480;\r\n                width = 24;\r\n                break;\r\n            default:\r\n        }\r\n\r\n        for (let i = 0; i < size; i++) {\r\n            ground.push({id: i, val: 0, isOpen: false, flagSet: false, isHighlight: false,});\r\n        }\r\n\r\n        for (let i = 0; i < mineNum; i++) {\r\n            let idx = Math.floor(Math.random() * size);\r\n            let range = [\r\n                -width - 1,\r\n                -width,\r\n                -width + 1,\r\n                -1,\r\n                1,\r\n                width - 1,\r\n                width,\r\n                width + 1\r\n            ];\r\n\r\n            if (ground[idx].val === 'X') {\r\n                i--;\r\n                continue;\r\n            }\r\n\r\n            ground[idx].val = 'X';\r\n\r\n            for (let i = 0; i < 8; i++) {\r\n                let nearBlock = idx + range[i];\r\n\r\n                if (nearBlock > -1 && nearBlock < size &&\r\n                    ground[nearBlock].val !== 'X' &&\r\n                    !((idx % width === 0 && nearBlock % width === width - 1) ||\r\n                        (idx % width === width - 1 && nearBlock % width === 0))) {\r\n\r\n                    ground[nearBlock].val++;\r\n                }\r\n            }\r\n        }\r\n\r\n        dispatch(\r\n            startGame({\r\n                ground,\r\n                size,\r\n                width,\r\n                mineNum,\r\n            })\r\n        );\r\n    }, [dispatch, level]);\r\n\r\n    // 난이도 변경시 스토어에 저장\r\n    const onSetLevel = useCallback(e=> {\r\n        dispatch(setLevel(e.target.value))\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <GameStart\r\n            onStart={onStart}\r\n            onSetLevel={onSetLevel}\r\n        />\r\n    );\r\n};\r\n\r\nexport default React.memo(GameStartContainer);\r\n","import React from \"react\";\r\nimport classNames from 'classnames';\r\nimport './GameBlock.scss'\r\n\r\nconst GameBlock = ({space, onBlockOpen, onMouseDownAction, onMouseUpAction}) => {\r\n    return (\r\n        <button\r\n            id={space.id}\r\n            className={classNames('block', space.isOpen ? 'open-block val-' + space.val : 'closed-block', space.isHighlight && 'highlight')}\r\n            onClick={() => onBlockOpen(space.id)}\r\n            onMouseDown={e => onMouseDownAction(e, space.id)}\r\n            onMouseUp={e => onMouseUpAction(e, space.id)}\r\n            onContextMenu={e => e.preventDefault()}\r\n            onAuxClick={e => e.preventDefault()}\r\n            onWheel={e => e.preventDefault()}\r\n        >\r\n            {space.isOpen ? space.val > 0 ? space.val : space.val === 'X' && <img src=\"images/mine.png\" alt=\"지뢰\"/> : space.flagSet && '✘' }\r\n        </button>\r\n    )\r\n};\r\n\r\nexport default GameBlock;\r\n","import React, {useCallback} from \"react\";\r\nimport {useDispatch, useSelector, shallowEqual} from \"react-redux\";\r\nimport {finishGame, openBlock, setFlag, highlightOn, highlightOff} from \"../../modules/game\";\r\nimport GameBlock from \"../../components/game/GameBlock\";\r\n\r\nconst GameBlockContainer = ({space}) => {\r\n    const dispatch = useDispatch();\r\n    const {\r\n        isFinish,\r\n        ground,\r\n        size,\r\n        width,\r\n        nearBlock,\r\n    } = useSelector(({game}) => ({\r\n        isFinish: game.isFinish,\r\n        ground: game.ground,\r\n        size: game.size,\r\n        width: game.width,\r\n        nearBlock: game.nearBlock,\r\n    }), shallowEqual);\r\n\r\n    // 블록을 여는 이벤트\r\n    const onBlockOpen = useCallback(stringId => {\r\n\r\n        const storeNearBlock = nearBlock.slice();\r\n        const id = parseInt(stringId, 10);\r\n\r\n        if (!(isFinish || ground[id].isOpen)) {\r\n            if (ground[id].val === 'X') {\r\n                dispatch(finishGame('Game Over...'));\r\n            } else if (ground[id].val === 0) {\r\n                let visited = new Array(size).fill(false);\r\n                let queue = [id];\r\n                let zeroBlock = [id];\r\n\r\n                visited[id] = true;\r\n                dispatch(openBlock(id));\r\n\r\n                while (queue.length > 0) {\r\n                    let idx = queue.shift();\r\n\r\n                    for (let i = 0; i < 4; i++) {\r\n                        let localNearBlock = idx + storeNearBlock[i];\r\n\r\n                        if (localNearBlock > -1 && localNearBlock < size && !ground[localNearBlock].isOpen &&\r\n                            ground[localNearBlock].val === 0 && !visited[localNearBlock] &&\r\n                            !((idx % width === 0 && localNearBlock % width === width - 1) ||\r\n                                (idx % width === width - 1 && localNearBlock % width === 0))) {\r\n                            queue.push(localNearBlock);\r\n                            zeroBlock.push(localNearBlock);\r\n                            visited[localNearBlock] = true;\r\n                            dispatch(openBlock(localNearBlock));\r\n                        }\r\n                    }\r\n                }\r\n\r\n                visited = new Array(size).fill(false);\r\n\r\n                while (zeroBlock.length > 0) {\r\n                    let idx = zeroBlock.shift();\r\n\r\n                    for (let i = 0; i < 8; i++) {\r\n                        let localNearBlock = idx + storeNearBlock[i];\r\n\r\n                        if (localNearBlock > -1 && localNearBlock < size &&\r\n                            !visited[localNearBlock] &&\r\n                            ground[localNearBlock].val > 0 &&\r\n                            !ground[localNearBlock].isOpen &&\r\n                            !((idx % width === 0 && localNearBlock % width === width - 1) ||\r\n                                (idx % width === width - 1 && localNearBlock % width === 0))) {\r\n                            visited[localNearBlock] = true;\r\n                            dispatch(openBlock(localNearBlock));\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                dispatch(openBlock(id));\r\n            }\r\n        }\r\n    }, [dispatch, isFinish, ground, size, width, nearBlock]);\r\n\r\n    // 지뢰 위치를 설정하거나 주변 블록을 하이라이트할 때 사용\r\n    const onMouseDownAction = useCallback(e => {\r\n        const id = parseInt(space.id);\r\n        if (!(isFinish || space.isOpen) && e.button === 2) {\r\n            dispatch(setFlag(id));\r\n        } else if (!isFinish && space.isOpen && e.button === 1) {\r\n            let storeNearBlock = nearBlock.slice();\r\n            let nearCloseBlock = [];\r\n            let nearFlag = [];\r\n            let localNearBlock = 0;\r\n            while (storeNearBlock.length > 0) {\r\n                localNearBlock = id + storeNearBlock.pop();\r\n                if (\r\n                    localNearBlock > -1 && localNearBlock < size &&\r\n                    !ground[localNearBlock].isOpen &&\r\n                    !((id % width === 0 && localNearBlock % width === width - 1) ||\r\n                        (id % width === width - 1 && localNearBlock % width === 0))\r\n                ) {\r\n                    if (ground[localNearBlock].flagSet) {\r\n                        nearFlag.push(localNearBlock);\r\n                    } else {\r\n                        nearCloseBlock.push(localNearBlock);\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (nearFlag.length === ground[e.target.id].val) {\r\n                while (nearCloseBlock.length > 0) {\r\n                    const space = nearCloseBlock.pop();\r\n                    onBlockOpen(space);\r\n                }\r\n            } else {\r\n                while (nearCloseBlock.length > 0) {\r\n                    const space = nearCloseBlock.pop();\r\n                    dispatch(highlightOn(space));\r\n                }\r\n            }\r\n        }\r\n    }, [dispatch, isFinish, ground, space, size, width, nearBlock, onBlockOpen]);\r\n\r\n    // 지뢰 위치를 설정하거나 주변 블록을 하이라이트할 때 사용\r\n    const onMouseUpAction = useCallback((e, id) => {\r\n        if (!isFinish && ground[id].isOpen && e.button === 1) {\r\n            let storeNearBlock = nearBlock.slice();\r\n            let nearCloseBlock = [];\r\n            let localNearBlock = 0;\r\n            while (storeNearBlock.length > 0) {\r\n                localNearBlock = id + storeNearBlock.pop();\r\n\r\n                if (\r\n                    localNearBlock > -1 && localNearBlock < size &&\r\n                    !ground[localNearBlock].isOpen && !ground[localNearBlock].flagSet &&\r\n                    !((id % width === 0 && localNearBlock % width === width - 1) ||\r\n                        (id % width === width - 1 && localNearBlock % width === 0))\r\n                ) {\r\n                    nearCloseBlock.push(localNearBlock);\r\n                }\r\n            }\r\n\r\n            while (nearCloseBlock.length > 0) {\r\n                const space = nearCloseBlock.pop();\r\n                dispatch(highlightOff(space));\r\n            }\r\n        }\r\n    }, [dispatch, isFinish, ground, size, width, nearBlock]);\r\n\r\n    return (\r\n        <GameBlock\r\n            space={space}\r\n            onBlockOpen={onBlockOpen}\r\n            onMouseDownAction={onMouseDownAction}\r\n            onMouseUpAction={onMouseUpAction}\r\n        />\r\n    );\r\n};\r\n\r\nexport default React.memo(GameBlockContainer);","import React from \"react\";\r\nimport AskModal from \"../common/AskModal\";\r\n\r\nconst AskRestartModal = ({visible, finishText, description, onConfirm, onCancel}) => {\r\n    return (\r\n        <AskModal\r\n            visible={visible}\r\n            title={finishText}\r\n            description={description}\r\n            confirmText={finishText}\r\n            onConfirm={onConfirm}\r\n            onCancel={onCancel}\r\n        />\r\n    )\r\n};\r\n\r\nexport default AskRestartModal;\r\n","import React, {useCallback, useState} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport GameBlockContainer from \"../../container/game/GameBlockContainer\";\r\nimport AskRestartModal from \"./AskRestartModal\";\r\nimport Button from \"../common/Button\";\r\nimport './GameBoard.scss'\r\n\r\nconst GameBoard = ({onRestart, onClear}) => {\r\n    const [clearModal, setClearModal] = useState(false);\r\n    const [restartModal, setRestartModal] = useState(false);\r\n    const [tutorialModal, setTutorialModal] = useState(true);\r\n    const {\r\n        isFinish,\r\n        isClear,\r\n        ground,\r\n        width,\r\n        mineNum,\r\n    } = useSelector(({game}) => ({\r\n        isFinish: game.isFinish,\r\n        isClear: game.isClear,\r\n        ground: game.ground,\r\n        width: game.width,\r\n        mineNum: game.mineNum,\r\n    }));\r\n    const divWidth = width * 30;\r\n    const Board = styled.div`\r\n            display: inline-block;\r\n            width: ${divWidth}px;\r\n        `;\r\n    const BoardRestart = styled.div`\r\n        width: ${divWidth}px;\r\n    `;\r\n\r\n    const onTutorialClose = useCallback(() => {\r\n        setTutorialModal(false);\r\n    }, []);\r\n\r\n    const onRestartClick = useCallback(() => {\r\n        setRestartModal(true);\r\n    },[]);\r\n\r\n    const onRestartCancel = useCallback(() => {\r\n        setRestartModal(false);\r\n    },[]);\r\n\r\n    const onClearClick = useCallback(() => {\r\n        setClearModal(true);\r\n    },[]);\r\n\r\n    const onClearCancel = useCallback(() => {\r\n        setClearModal(false);\r\n    },[]);\r\n\r\n    return (\r\n        <div id={\"board-root\"}>\r\n            <div id={\"board-minNum-div\"}>\r\n                <h2>{isClear ? isClear : '지뢰 갯수 : ' + mineNum + '개'}</h2>\r\n            </div>\r\n            <Board>\r\n                {\r\n                    ground.map(space => (\r\n                        <GameBlockContainer\r\n                            key={space.id}\r\n                            space={space}\r\n                        />\r\n                    ))\r\n                }\r\n            </Board>\r\n            {isFinish\r\n            &&\r\n            <BoardRestart id={\"board-restart\"}>\r\n                <Button onClick={onRestartClick}>\r\n                    다시 시작\r\n                </Button>\r\n                <AskRestartModal\r\n                    visible={restartModal}\r\n                    finishText={'다시 시작'}\r\n                    description={'게임을 다시 시작하실 건가요?'}\r\n                    onConfirm={onRestart}\r\n                    onCancel={onRestartCancel}\r\n                />\r\n                {isClear === 'Game Clear!!!' && (\r\n                    <>\r\n                        <Button onClick={onClearClick} marginTop={'1rem'}>\r\n                            기록 저장하기\r\n                        </Button>\r\n                        <AskRestartModal\r\n                            visible={clearModal}\r\n                            finishText={'기록 저장'}\r\n                            description={'기록을 저장하실 건가요?'}\r\n                            onConfirm={onClear}\r\n                            onCancel={onClearCancel}\r\n                        />\r\n                    </>\r\n                )}\r\n\r\n            </BoardRestart>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default GameBoard;","import React, {useCallback, useEffect} from \"react\";\r\nimport {useDispatch, useSelector, shallowEqual} from \"react-redux\";\r\nimport {initializeGame, increaseOpenBlockNum, finishGame} from \"../../modules/game\";\r\nimport GameBoard from \"../../components/game/GameBoard\";\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nconst GameBoardContainer = ({history}) => {\r\n    const dispatch = useDispatch();\r\n    const {\r\n        isStart,\r\n        isFinish,\r\n        ground,\r\n        size,\r\n        mineNum,\r\n        openBlockNum,\r\n    } = useSelector(({game}) => ({\r\n        isStart: game.isStart,\r\n        isFinish: game.isFinish,\r\n        ground: game.ground,\r\n        size: game.size,\r\n        mineNum: game.mineNum,\r\n        openBlockNum: game.openBlockNum,\r\n    }), shallowEqual);\r\n\r\n    // 재시작 버튼을 누르면 게임 초기화\r\n    const onRestart = useCallback(() => {\r\n        dispatch(initializeGame());\r\n    }, [dispatch]);\r\n\r\n    // 게임을 클리어했을 때 기록 저장 페이지로 이동\r\n    const onClear = useCallback(() => {\r\n        history.push('/write');\r\n    }, [history]);\r\n\r\n    // 열린 블록의 수가 증가하면 액션 실행\r\n    useEffect(() => {\r\n        const openBlock = ground.filter(space => space.isOpen === true);\r\n        if (openBlock.length !== openBlockNum) {\r\n            dispatch(increaseOpenBlockNum(openBlock.length));\r\n        }\r\n    }, [dispatch, ground, openBlockNum]);\r\n\r\n    // 게임 클리어 조건을 달성하면 액션 실행\r\n    useEffect(() => {\r\n        if (mineNum === size - openBlockNum && isStart && !isFinish) {\r\n            dispatch(finishGame('Game Clear!!!'));\r\n        }\r\n    }, [dispatch, isStart, isFinish, ground, size, mineNum, openBlockNum]);\r\n\r\n    return (\r\n        <GameBoard\r\n            onRestart={onRestart}\r\n            onClear={onClear}\r\n        />\r\n    );\r\n};\r\n\r\nexport default withRouter(GameBoardContainer);\r\n","import React, {useEffect} from \"react\";\r\nimport {useDispatch, useSelector, shallowEqual} from \"react-redux\";\r\nimport {initializeGame} from \"../../modules/game\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport Game from \"../../components/game/Game\";\r\nimport GameStartContainer from \"../../container/game/GameStartContainer\";\r\nimport GameBoardContainer from \"../../container/game/GameBoardContainer\";\r\n\r\nconst GameContainer = ({history}) => {\r\n    const dispatch = useDispatch();\r\n    const {isStart, user} = useSelector(({game, user}) => ({\r\n        isStart: game.isStart,\r\n        user: user.user,\r\n    }), shallowEqual);\r\n\r\n    // 로그인한 유저인지 확인\r\n    useEffect(() => {\r\n        if (user === null) {\r\n            alert('올바른 접근이 아닙니다!!!');\r\n            history.push('/');\r\n        }\r\n        dispatch(initializeGame())\r\n    }, [dispatch, user, history]);\r\n\r\n    return (\r\n        <Game\r\n            content={isStart ? <GameBoardContainer/> : <GameStartContainer/>}\r\n        />\r\n    )\r\n};\r\n\r\nexport default withRouter(GameContainer);\r\n","import React from 'react';\r\nimport HeaderContainer from \"../container/common/HeaderContainer\";\r\nimport GameContainer from \"../container/game/GameContainer\";\r\n\r\nconst GamePage = () => {\r\n    return (\r\n        <>\r\n            <HeaderContainer/>\r\n            <GameContainer/>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default GamePage;","import React from 'react';\r\nimport {Route} from 'react-router-dom';\r\nimport PostListPage from \"./pages/PostListPage\";\r\nimport RegisterPage from \"./pages/RegisterPage\";\r\nimport LoginPage from \"./pages/LoginPage\";\r\nimport PostPage from \"./pages/PostPage\";\r\nimport WritePage from \"./pages/WritePage\";\r\nimport GamePage from \"./pages/GamePage\";\r\n\r\nconst App = () => {\r\n    return (\r\n        <>\r\n            <Route component={PostListPage} path={[\"/@:username\", \"/\"]} exact/>\r\n            <Route component={RegisterPage} path={\"/register\"}/>\r\n            <Route component={LoginPage} path={\"/login\"}/>\r\n            <Route component={PostPage} path={\"/@:username/:postId\"}/>\r\n            <Route component={WritePage} path={\"/write\"}/>\r\n            <Route component={GamePage} path={\"/game\"}/>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import {combineReducers} from \"redux\";\r\nimport {all} from 'redux-saga/effects';\r\nimport auth, {authSaga} from './auth'\r\nimport loading from \"./loading\";\r\nimport user, {userSaga} from \"./user\";\r\nimport write, {writeSaga} from \"./write\";\r\nimport post, {postSaga} from \"./post\";\r\nimport posts, {postsSaga} from \"./posts\";\r\nimport game from \"./game\";\r\n\r\nconst rootReducer = combineReducers({\r\n    auth,\r\n    loading,\r\n    user,\r\n    write,\r\n    post,\r\n    posts,\r\n    game,\r\n});\r\n\r\nexport function* rootSaga() {\r\n    yield all([authSaga(), userSaga(), writeSaga(), postSaga(), postsSaga()]);\r\n}\r\n\r\nexport default rootReducer;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {BrowserRouter} from 'react-router-dom';\r\nimport {Provider} from 'react-redux';\r\nimport {createStore, applyMiddleware} from 'redux';\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport rootReducer, {rootSaga} from './modules';\r\nimport {tempSetUser, check} from \"./modules/user\";\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(sagaMiddleware)));\r\n\r\nfunction loadUser() {\r\n    try {\r\n        const user = localStorage.getItem('user');\r\n        if (!user) return;\r\n\r\n        store.dispatch(tempSetUser(user));\r\n        store.dispatch(check());\r\n    } catch (e) {\r\n        console.log('localStorage is not working');\r\n    }\r\n}\r\n\r\nsagaMiddleware.run(rootSaga);\r\nloadUser();\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <BrowserRouter>\r\n            <App/>\r\n        </BrowserRouter>\r\n    </Provider>\r\n    ,\r\n    document.getElementById('root'));\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}