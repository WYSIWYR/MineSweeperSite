(this.webpackJsonpmss=this.webpackJsonpmss||[]).push([[0],{100:function(e,n,t){},101:function(e,n,t){},102:function(e,n,t){},103:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(32),c=t.n(o),i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var u,s=t(10),m=t(7),b=t(21),d=t(54),f=t(62),g=t(12),p=t.n(g),O=t(13),h=t(5),v=t(4),j=t(11),E=t(105),y=t(104),w=t(22),k=Object(E.a)("loading/START_LOADING",(function(e){return e})),x=Object(E.a)("loading/FINISH_LOADING",(function(e){return e})),C=Object(y.a)((u={},Object(h.a)(u,"loading/START_LOADING",(function(e,n){return Object(v.a)(Object(v.a)({},e),{},Object(h.a)({},n.payload,!0))})),Object(h.a)(u,"loading/FINISH_LOADING",(function(e,n){return Object(v.a)(Object(v.a)({},e),{},Object(h.a)({},n.payload,!1))})),u),{}),S=function(e){return[e,"".concat(e,"_SUCCESS"),"".concat(e,"_FAILURE")]};function T(e,n){var t="".concat(e,"_SUCCESS"),a="".concat(e,"_FAILURE");return p.a.mark((function r(o){var c;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(O.c)(k(e));case 2:return r.prev=2,r.next=5,Object(O.b)(n,o.payload);case 5:return c=r.sent,r.next=8,Object(O.c)({type:t,payload:c.data,meta:c});case 8:r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(2),r.next=14,Object(O.c)({type:a,payload:r.t0,error:!0});case 14:return r.next=16,Object(O.c)(x(e));case 16:case"end":return r.stop()}}),r,null,[[2,10]])}))}var _,I=t(55),N=t.n(I).a.create(),L=function(){return N.post("/api/auth/logout")},A=p.a.mark($),z=S("auth/REGISTER"),R=Object(j.a)(z,3),F=R[0],D=R[1],P=R[2],M=S("auth/LOGIN"),H=Object(j.a)(M,3),B=H[0],G=H[1],U=H[2],W=Object(E.a)("auth/CHANGE_FIELD",(function(e){return{form:e.form,key:e.key,value:e.value}})),X=Object(E.a)("auth/ENTER_FORM",(function(e){return e})),K=Object(E.a)("auth/LEAVE_FORM"),J=Object(E.a)(F,(function(e){return{username:e.username,password:e.password}})),q=Object(E.a)(B,(function(e){return{username:e.username,password:e.password}})),V=T(F,(function(e){var n=e.username,t=e.password;return N.post("/api/auth/register",{username:n,password:t})})),Z=T(B,(function(e){var n=e.username,t=e.password;return N.post("/api/auth/login",{username:n,password:t})}));function $(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)(F,V);case 2:return e.next=4,Object(O.d)(B,Z);case 4:case"end":return e.stop()}}),A)}var Q,Y={register:{username:"",password:"",passwordConfirm:""},login:{username:"",password:""},initialize:"",auth:null,authError:null},ee=Object(y.a)((_={},Object(h.a)(_,"auth/CHANGE_FIELD",(function(e,n){var t=n.payload,a=t.form,r=t.key,o=t.value;return Object(w.a)(e,(function(e){e[a][r]=o}))})),Object(h.a)(_,"auth/ENTER_FORM",(function(e,n){var t,a=n.payload;return Object(v.a)(Object(v.a)({},e),{},(t={},Object(h.a)(t,a,Y[a]),Object(h.a)(t,"initialize",a),Object(h.a)(t,"auth",null),Object(h.a)(t,"authError",null),t))})),Object(h.a)(_,"auth/LEAVE_FORM",(function(e){return Object(v.a)(Object(v.a)({},e),{},{initialize:"",auth:null,authError:null})})),Object(h.a)(_,F,(function(e){return Object(v.a)(Object(v.a)({},e),{},{auth:null,authError:null})})),Object(h.a)(_,D,(function(e,n){var t=n.payload;return Object(v.a)(Object(v.a)({},e),{},{auth:t})})),Object(h.a)(_,P,(function(e,n){var t=n.payload;return Object(v.a)(Object(v.a)({},e),{},{authError:t})})),Object(h.a)(_,B,(function(e){return Object(v.a)(Object(v.a)({},e),{},{auth:null,authError:null})})),Object(h.a)(_,G,(function(e,n){var t=n.payload;return Object(v.a)(Object(v.a)({},e),{},{auth:t})})),Object(h.a)(_,U,(function(e,n){var t=n.payload;return Object(v.a)(Object(v.a)({},e),{},{authError:t})})),_),Y),ne=p.a.mark(de),te=p.a.mark(fe),ae=S("user/CHECK"),re=Object(j.a)(ae,3),oe=re[0],ce=re[1],ie=re[2],le=Object(E.a)("user/TEMP_SET_USER",(function(e){return e})),ue=Object(E.a)(oe),se=Object(E.a)("user/LOGOUT"),me=T(oe,(function(){return N.get("/api/auth/check")}));function be(){try{localStorage.removeItem("user")}catch(e){console.log("localStorage is not working...")}}function de(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(O.b)(L);case 3:localStorage.removeItem("user"),localStorage.removeItem("tutorial"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("localStorage is not working...");case 10:case"end":return e.stop()}}),ne,null,[[0,7]])}function fe(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)(oe,me);case 2:return e.next=4,Object(O.d)(ie,be);case 4:return e.next=6,Object(O.d)("user/LOGOUT",de);case 6:case"end":return e.stop()}}),te)}var ge,pe=Object(y.a)((Q={},Object(h.a)(Q,"user/TEMP_SET_USER",(function(e,n){var t=n.payload;return Object(v.a)(Object(v.a)({},e),{},{user:t})})),Object(h.a)(Q,ce,(function(e,n){var t=n.payload;return Object(v.a)(Object(v.a)({},e),{},{user:t})})),Object(h.a)(Q,ie,(function(e,n){var t=n.payload;return Object(v.a)(Object(v.a)({},e),{},{checkError:t})})),Object(h.a)(Q,"user/LOGOUT",(function(e){return Object(v.a)(Object(v.a)({},e),{},{user:null})})),Q),{user:null,checkError:null}),Oe=t(23),he=t.n(Oe),ve=p.a.mark(De),je=S("write/WRITE_POST"),Ee=Object(j.a)(je,3),ye=Ee[0],we=Ee[1],ke=Ee[2],xe=S("write/UPDATE_POST"),Ce=Object(j.a)(xe,3),Se=Ce[0],Te=Ce[1],_e=Ce[2],Ie=Object(E.a)("write/INITIALIZE"),Ne=Object(E.a)("write/CHANGE_FIELD",(function(e){return{key:e.key,value:e.value}})),Le=Object(E.a)("write/SET_ORIGINAL_POST",(function(e){return e})),Ae=Object(E.a)(ye,(function(e){return{title:e.title,level:e.level,time:e.time,body:e.body,tags:e.tags}})),ze=Object(E.a)(Se,(function(e){return{id:e.id,title:e.title,body:e.body,tags:e.tags}})),Re=T(ye,(function(e){var n=e.title,t=e.level,a=e.time,r=e.body,o=e.tags;return N.post("/api/posts",{title:n,level:t,time:a,body:r,tags:o})})),Fe=T(Se,(function(e){var n=e.id,t=e.title,a=e.body,r=e.tags;return N.patch("/api/posts/".concat(n),{title:t,body:a,tags:r})}));function De(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)(ye,Re);case 2:return e.next=4,Object(O.d)(Se,Fe);case 4:case"end":return e.stop()}}),ve)}var Pe,Me={title:"",body:"",tags:[],post:null,postError:null,originalPostId:null,originalLevel:null,originalTime:null},He=Object(y.a)((ge={},Object(h.a)(ge,"write/INITIALIZE",(function(e){return Me})),Object(h.a)(ge,"write/CHANGE_FIELD",(function(e,n){var t=n.payload,a=t.key,r=t.value;return Object(v.a)(Object(v.a)({},e),{},Object(h.a)({},a,r))})),Object(h.a)(ge,ye,(function(e){return Object(v.a)(Object(v.a)({},e),{},{post:null,postError:null})})),Object(h.a)(ge,we,(function(e,n){var t=n.payload;return Object(v.a)(Object(v.a)({},e),{},{post:t})})),Object(h.a)(ge,ke,(function(e,n){var t=n.payload;return Object(v.a)(Object(v.a)({},e),{},{postError:t})})),Object(h.a)(ge,"write/SET_ORIGINAL_POST",(function(e,n){var t=n.payload;return Object(v.a)(Object(v.a)({},e),{},{title:t.title,body:t.body,tags:t.tags,originalPostId:t._id,originalLevel:t.level,originalTime:t.time})})),Object(h.a)(ge,Te,(function(e,n){var t=n.payload;return Object(v.a)(Object(v.a)({},e),{},{post:t,postError:null})})),Object(h.a)(ge,_e,(function(e,n){var t=n.payload;return Object(v.a)(Object(v.a)({},e),{},{post:null,postError:t})})),ge),Me),Be=p.a.mark(Ze),Ge=S("post/POST_READ"),Ue=Object(j.a)(Ge,3),We=Ue[0],Xe=Ue[1],Ke=Ue[2],Je=Object(E.a)(We,(function(e){return e})),qe=Object(E.a)("post/UNLOAD_POST"),Ve=T(We,(function(e){return N.get("/api/posts/".concat(e))}));function Ze(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)(We,Ve);case 2:case"end":return e.stop()}}),Be)}var $e,Qe={post:null,error:null},Ye=Object(y.a)((Pe={},Object(h.a)(Pe,Xe,(function(e,n){var t=n.payload;return Object(v.a)(Object(v.a)({},e),{},{post:t,error:null})})),Object(h.a)(Pe,Ke,(function(e,n){var t=n.payload;return Object(v.a)(Object(v.a)({},e),{},{post:null,error:t})})),Object(h.a)(Pe,"post/UNLOAD_POST",(function(){return Qe})),Pe),Qe),en=p.a.mark(un),nn=S("posts/LIST_POSTS"),tn=Object(j.a)(nn,3),an=tn[0],rn=tn[1],on=tn[2],cn=Object(E.a)(an,(function(e){return{page:e.page,username:e.username,tag:e.tag,level:e.level}})),ln=T(an,(function(e){var n=e.page,t=e.username,a=e.tag,r=e.level,o=he.a.stringify({page:n,username:t,tag:a,level:r});return N.get("/api/posts?".concat(o))}));function un(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)(an,ln);case 2:case"end":return e.stop()}}),en)}var sn,mn=Object(y.a)(($e={},Object(h.a)($e,an,(function(e){return Object(v.a)(Object(v.a)({},e),{},{error:null})})),Object(h.a)($e,rn,(function(e,n){var t=n.payload,a=n.meta;return Object(v.a)(Object(v.a)({},e),{},{posts:t,lastPage:parseInt(a.headers["last-page"],10)})})),Object(h.a)($e,on,(function(e,n){var t=n.payload;return Object(v.a)(Object(v.a)({},e),{},{error:t})})),$e),{posts:null,error:null,lastPage:1}),bn=function(e,n){if(void 0===e||void 0===n)return null;var t="",a=Math.floor((n.getTime()-e.getTime())/1e3),r=Math.floor(a/60/60/24);r>0&&(a-=60*r*60*24,t+=r+"\uc77c");var o=Math.floor(a/60/60);o>0&&(a-=60*o*60,t+=o+"\uc2dc");var c=Math.floor(a/60);return c>0&&(a-=60*c,t+=c+"\ubd84"),t+(a+"\ucd08")},dn=function(e,n,t,a,r){var o=r.slice(),c=[],i=new Array(t).fill(!1),l=[e],u=[e];for(i[e]=!0;l.length>0;)for(var s=l.shift(),m=0;m<4;m++){var b=s+o[m];b>-1&&b<t&&!n[b].isOpen&&0===n[b].val&&!i[b]&&!(s%a===0&&b%a===a-1||s%a===a-1&&b%a===0)&&(l.push(b),u.push(b),i[b]=!0,c.push(b))}for(i=new Array(t).fill(!1);u.length>0;)for(var d=u.shift(),f=0;f<8;f++){var g=d+o[f];g>-1&&g<t&&!i[g]&&n[g].val>0&&!n[g].isOpen&&!(d%a===0&&g%a===a-1||d%a===a-1&&g%a===0)&&(i[g]=!0,c.push(g))}return c},fn=Object(E.a)("game/INITIALIZE"),gn=Object(E.a)("game/SET_LEVEL",(function(e){return e})),pn=Object(E.a)("game/START_GAME",(function(e){return{ground:e.ground,size:e.size,width:e.width,mineNum:e.mineNum}})),On=Object(E.a)("game/OPEN_BLOCK",(function(e){return e})),hn=Object(E.a)("game/OPEN_NEAR_BLOCK",(function(e){return e})),vn=Object(E.a)("game/INCREASE_OPEN_BLOCK_NUM",(function(e){return e})),jn=Object(E.a)("game/SET_FLAG",(function(e){return e})),En=Object(E.a)("game/DO_CHORD",(function(e){return e})),yn=Object(E.a)("game/HIGHLIGHT_OFF",(function(e){return e})),wn=Object(E.a)("game/FINISH_GAME",(function(e){return e})),kn={level:"\uc26c\uc6c0",isStart:!1,isFinish:!1,isClear:"",ground:[],size:0,width:0,mineNum:0,openBlockNum:0,nearBlock:[],startTime:null,time:null},xn=Object(y.a)((sn={},Object(h.a)(sn,"game/INITIALIZE",(function(e){return kn})),Object(h.a)(sn,"game/SET_LEVEL",(function(e,n){var t=n.payload;return Object(v.a)(Object(v.a)({},e),{},{level:t})})),Object(h.a)(sn,"game/START_GAME",(function(e,n){var t=n.payload,a=t.ground,r=t.size,o=t.width,c=t.mineNum;return Object(v.a)(Object(v.a)({},e),{},{isStart:!0,ground:a,size:r,width:o,mineNum:c,nearBlock:[-o,-1,1,o,-o-1,1-o,o-1,o+1],startTime:new Date})})),Object(h.a)(sn,"game/OPEN_BLOCK",(function(e,n){var t=n.payload;return Object(w.a)(e,(function(e){e.ground[t].flagSet=!1,e.ground[t].isHighlight=!1,e.ground[t].isOpen=!0}))})),Object(h.a)(sn,"game/OPEN_NEAR_BLOCK",(function(e,n){var t=n.payload;return Object(w.a)(e,(function(e){var n=dn(t,e.ground,e.size,e.width,e.nearBlock);e.ground.map((function(e){return n.forEach((function(n){e.id===n&&(e.isOpen=!0,e.flagSet=!1,e.isHighlight=!1)})),e}))}))})),Object(h.a)(sn,"game/INCREASE_OPEN_BLOCK_NUM",(function(e,n){var t=n.payload;return Object(w.a)(e,(function(e){e.openBlockNum=t}))})),Object(h.a)(sn,"game/SET_FLAG",(function(e,n){var t=n.payload;return Object(w.a)(e,(function(e){e.ground[t].flagSet=!e.ground[t].flagSet,e.ground[t].isHighlight=!1}))})),Object(h.a)(sn,"game/DO_CHORD",(function(e,n){var t=n.payload;return Object(w.a)(e,(function(e){var n=function(e,n,t,a,r){for(var o={ids:[],type:""},c=r.slice(),i=0,l=0;c.length>0;)(l=e+c.pop())>-1&&l<t&&!n[l].isOpen&&!(e%a===0&&l%a===a-1||e%a===a-1&&l%a===0)&&(n[l].flagSet?i++:o.ids.push(l));return i===parseInt(n[e].val,10)?o.type="OpenBlock":o.type="HighlightOn",o}(t,e.ground,e.size,e.width,e.nearBlock),a=[],r=!1;"OpenBlock"===n.type?e.ground.map((function(t){return n.ids.every((function(n){if(t.id===n){if("X"===t.val)return r=!0,!1;0===t.val?(t.isOpen=!0,t.flagset=!1,t.isHighlight=!1,a=a.concat(dn(n,e.ground,e.size,e.width,e.nearBlock)).sort()):(t.isOpen=!0,t.flagset=!1,t.isHighlight=!1)}return!0})),t})).map((function(e){return a.forEach((function(n){e.id===n&&(e.isOpen=!0,e.flagset=!1,e.isHighlight=!1)})),e})):e.ground.map((function(e){return n.ids.forEach((function(n){e.id===n&&(e.isHighlight=!0)})),e})),r&&(e.ground.map((function(e){return"X"===e.val?e.isOpen=!0:e})),e.isFinish=!0,e.isClear="Game Over...",e.time=bn(e.startTime,new Date))}))})),Object(h.a)(sn,"game/HIGHLIGHT_OFF",(function(e,n){var t=n.payload;return Object(w.a)(e,(function(e){var n=function(e,n,t,a,r){for(var o=r.slice(),c=[],i=0,l=[];o.length>0;)(i=e+o.pop())>-1&&i<t&&!n[i].isOpen&&!n[i].flagSet&&!(e%a===0&&i%a===a-1||e%a===a-1&&i%a===0)&&c.push(i);for(;c.length>0;){var u=c.pop();l.push(u)}return l}(t,e.ground,e.size,e.width,e.nearBlock);e.ground.map((function(e){return n.forEach((function(n){e.id===n&&(e.isHighlight=!1)})),e}))}))})),Object(h.a)(sn,"game/FINISH_GAME",(function(e,n){var t=n.payload;return Object(w.a)(e,(function(e){e.ground.map((function(e){return"X"===e.val?e.isOpen=!0:e})),e.isFinish=!0,e.isClear=t,e.time=bn(e.startTime,new Date)}))})),sn),kn),Cn=p.a.mark(Sn);function Sn(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)([$(),fe(),De(),Ze(),un()]);case 2:case"end":return e.stop()}}),Cn)}var Tn,_n,In,Nn,Ln,An,zn,Rn,Fn,Dn,Pn,Mn,Hn,Bn,Gn,Un,Wn,Xn,Kn,Jn,qn,Vn,Zn,$n,Qn,Yn,et,nt,tt,at,rt,ot,ct,it,lt,ut,st,mt,bt,dt,ft,gt,pt,Ot,ht,vt,jt,Et=Object(b.combineReducers)({auth:ee,loading:C,user:pe,write:He,post:Ye,posts:mn,game:xn}),yt=t(14),wt=t(2),kt=t(3),xt=t(63),Ct=kt.b.div(Tn||(Tn=Object(wt.a)(["\n    padding: 0 1rem;\n    width: 1024px;\n    height: 100%;\n    margin: 0 auto;\n    \n    @media(max-width: 1024px) {\n        width: 768px;\n    }\n    \n    @media(max-width: 768px) {\n        width: 100%;\n    }    \n"]))),St=function(e){var n=e.children,t=Object(xt.a)(e,["children"]);return r.a.createElement(Ct,t,n)},Tt={gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"]},_t=Object(kt.a)(_n||(_n=Object(wt.a)(["\n    border: none;\n    border-radius: 4px;\n    font-size: 1rem;\n    font-weight: bold;\n    padding: 0.25rem 1rem;\n    color: white;\n    outline: none;\n    cursor: pointer;\n    \n    @media (max-width: 550px) {\n        font-size: 0.8rem;\n    }\n    \n    background: ",";\n    &:hover {\n        background: ",";\n    }\n    ","\n    ","\n    ","\n    ","\n    &:disabled {\n        background: ",";\n        color: ",";\n        cursor: not-allowed;\n    }\n"])),Tt.gray[8],Tt.gray[6],(function(e){return e.fullWidth&&Object(kt.a)(In||(In=Object(wt.a)(["\n            padding-top: 0.75rem;\n            padding-bottom: 0.75rem;\n            width: 100%;\n            font-size: 1.125rem;\n        "])))}),(function(e){return e.cyan&&Object(kt.a)(Nn||(Nn=Object(wt.a)(["\n            background: ",";\n            &:hover {\n                background: ",";\n            }\n        "])),Tt.cyan[5],Tt.cyan[4])}),(function(e){return e.marginTop&&Object(kt.a)(Ln||(Ln=Object(wt.a)(["\n            margin-top: ",";\n        "])),e.marginTop)}),(function(e){return e.block&&Object(kt.a)(An||(An=Object(wt.a)(["\n        display: block;\n        "])))}),Tt.gray[3],Tt.gray[5]),It=kt.b.button(zn||(zn=Object(wt.a)(["\n    ","\n"])),_t),Nt=Object(kt.b)(s.b)(Rn||(Rn=Object(wt.a)(["\n    ","\n"])),_t),Lt=function(e){return e.to?r.a.createElement(Nt,Object.assign({},e,{cyan:e.cyan?1:0})):r.a.createElement(It,e)},At=kt.b.div(Fn||(Fn=Object(wt.a)(["\n    position: fixed;\n    width: 100%;\n    background: white;\n    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.08);\n"]))),zt=Object(kt.b)(St)(Dn||(Dn=Object(wt.a)(["\n    height: 4rem;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    .logo {\n        font-size: 1.125rem;\n        font-weight: 800;\n        letter-spacing: 2px;\n        @media (max-width: 550px) {\n            font-size: 1rem;\n        }\n    }\n    .right {\n        display: flex;\n        align-items: center;\n        a {\n            margin-right: 0.5rem\n        }\n    }\n"]))),Rt=kt.b.div(Pn||(Pn=Object(wt.a)(["\n    height: 4rem;\n"]))),Ft=kt.b.div(Mn||(Mn=Object(wt.a)(["\n    font-weight: 800;\n    margin-right: 1rem;\n    @media (max-width: 550px) {\n        font-size: 0.8rem;\n    }\n"]))),Dt=r.a.memo((function(e){var n=e.onLogout,t=JSON.parse(localStorage.getItem("user"));return r.a.createElement(r.a.Fragment,null,r.a.createElement(At,null,r.a.createElement(zt,null,r.a.createElement(s.b,{to:"/",className:"logo"},"MineSweeper"),t?r.a.createElement("div",{className:"right"},r.a.createElement(Ft,null,t.username),r.a.createElement(Lt,{onClick:n},"\ub85c\uadf8\uc544\uc6c3")):r.a.createElement("div",{className:"right"},r.a.createElement(Lt,{to:"/login"},"\ub85c\uadf8\uc778"),r.a.createElement(Lt,{to:"/register"},"\ud68c\uc6d0\uac00\uc785")))),r.a.createElement(Rt,null))})),Pt=Object(yt.e)((function(e){var n=e.history,t=Object(m.c)(),o=Object(a.useCallback)((function(){t(se()),n.push("/")}),[t,n]);return r.a.createElement(Dt,{onLogout:o})})),Mt=kt.b.div(Hn||(Hn=Object(wt.a)(["\n    ","\n    color: ",";\n    \n    span + span:before {\n        color: ",";\n        padding: 0 0.25rem;\n        content: '\\B7'; /* \uac00\uc6b4\ub383\uc810 \ubb38\uc790 */\n    }\n"],["\n    ","\n    color: ",";\n    \n    span + span:before {\n        color: ",";\n        padding: 0 0.25rem;\n        content: '\\\\B7'; /* \uac00\uc6b4\ub383\uc810 \ubb38\uc790 */\n    }\n"])),(function(e){return e.hasMarginTop&&Object(kt.a)(Bn||(Bn=Object(wt.a)(["\n            margin-top: 1rem;\n        "])))}),Tt.gray[6],Tt.gray[5]),Ht=function(e){var n=e.username,t=e.time,a=e.publishedDate,o=e.hasMarginTop;return r.a.createElement(Mt,{hasMarginTop:o},r.a.createElement("span",null,r.a.createElement("b",null,r.a.createElement(s.b,{to:"/@".concat(n)},n))),r.a.createElement("span",null,"\ud074\ub9ac\uc5b4 \ud0c0\uc784: ",t),r.a.createElement("span",null,"\ud50c\ub808\uc774 \ub0a0\uc9dc: ",new Date(a).toLocaleDateString()))},Bt=kt.b.div(Gn||(Gn=Object(wt.a)(["\n    margin-top: 0.5rem;\n    .tag{\n        display: inline-block;\n        color: ",";\n        text-decoration: none;\n        margin-right: 0.5rem;\n        &:hover {\n            color: ","\n        }\n    }\n"])),Tt.gray[7],Tt.cyan[6]),Gt=function(e){var n=e.tags;return r.a.createElement(Bt,null,n.map((function(e){return r.a.createElement(s.b,{className:"tag",to:"/?tag=".concat(e),key:e},"#",e)})))},Ut=Object(kt.b)(St)(Un||(Un=Object(wt.a)(["\n    margin-top: 3rem\n"]))),Wt=kt.b.div(Wn||(Wn=Object(wt.a)(["\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 3rem;\n    @media (max-width: 550px) {\n        line-height: 1.5rem;\n    }\n    @media (max-width: 490px) {\n        display: block;\n        height: 4.6rem;\n        a {\n            display: block;\n            width: 6rem;\n            height: 2rem;\n        }\n    }\n"]))),Xt=kt.b.form(Xn||(Xn=Object(wt.a)(["\n    select {\n        width: 6rem;\n        height: 2rem;\n        outline: none;\n        border: none;\n        border-radius: 4px;\n        background: ",";\n        color: white;\n        text-align: center;\n        font-size: 1rem;\n        font-weight: bold;\n        margin-right: 0.4rem;\n        \n        @media (max-width: 550px) {\n            font-size: 0.8rem;\n        }\n    }\n    \n    input {\n        width: 15rem;\n        height: 2rem;\n        outline: none;\n        border: none;\n        border-radius: 4px;\n        background: ",";\n        color: ",";\n        padding: 0 0.6rem;\n        text-align: center;\n        font-size: 1rem;\n        font-weight: bold;\n        \n        @media (max-width: 550px) {\n            font-size: 0.8rem;\n        }\n    }\n    \n    @media (max-width: 490px) {\n        margin-bottom: 0.4rem;\n    }\n"])),Tt.cyan[5],Tt.cyan[0],Tt.gray[6]),Kt=kt.b.div(Kn||(Kn=Object(wt.a)(["\n    padding: 3rem 0;\n    &:first-child {\n        padding-top: 0;\n    }\n    & + & {\n        border-top: 1px solid ",";\n    }\n    \n    h2 {\n        font-size: 2rem;\n        margin-bottom: 0;\n        margin-top: 0;\n        &:hover {\n            color: ",";\n        }\n    }\n    p {\n       margin-top: 1.5rem;\n    }\n    .level {\n        font-weight: bold;\n        color: ",";\n    }\n    \n    @media (max-width: 450px) {\n        font-size:\n    }\n"])),Tt.gray[2],Tt.gray[6],Tt.cyan[6]),Jt=function(e){var n=e.post,t=n._id,a=n.title,o=n.level,c=n.time,i=n.body,l=n.user,u=n.publishedDate,m=n.tags;return r.a.createElement(Kt,null,r.a.createElement("h2",null,r.a.createElement(s.b,{to:"/@".concat(l.username,"/").concat(t)},a)),r.a.createElement(Ht,{username:l.username,time:c,publishedDate:u}),r.a.createElement("span",{className:"level"},r.a.createElement(s.b,{to:"/?level=".concat(o)},"\ub09c\uc774\ub3c4: ",o)),r.a.createElement(Gt,{tags:m}),r.a.createElement("p",null,i))},qt=r.a.memo((function(e){var n=e.posts,t=e.error,a=e.loading,o=e.searchTypeInput,c=e.searchForInput,i=e.onSearchSubmit,l=e.onSearchTypeChange,u=e.onSearchForChange;return t?r.a.createElement(Ut,null,"\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4!"):r.a.createElement(Ut,null,r.a.createElement(Wt,null,r.a.createElement(Xt,{onSubmit:i},r.a.createElement("select",{name:"searchType",ref:o,onChange:l},r.a.createElement("option",{value:"username"},"\uc544\uc774\ub514"),r.a.createElement("option",{value:"level"},"\ub09c\uc774\ub3c4"),r.a.createElement("option",{value:"tag"},"\ud0dc\uadf8")),r.a.createElement("input",{type:"text",name:"searchFor",placeholder:"\uac80\uc0c9\ud560 \ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694!!!",ref:c,onChange:u})),r.a.createElement(Lt,{to:"/game",cyan:!0},"\uac8c\uc784 \uc2dc\uc791!")),r.a.createElement("div",null,!a&&n&&n.map((function(e){return r.a.createElement(Jt,{post:e,key:e._id})}))))})),Vt=Object(yt.e)((function(e){var n=e.match,t=e.location,o=e.history,c=Object(a.useRef)("username"),i=Object(a.useRef)(),l=Object(a.useRef)(""),u=Object(a.useRef)(),s=Object(m.c)(),b=Object(m.d)((function(e){var n=e.posts,t=e.loading;return{posts:n.posts,error:n.error,loading:t["posts/LIST_POSTS"]}}),m.b),d=b.posts,f=b.error,g=b.loading,p=Object(a.useCallback)((function(e){if(e.preventDefault(),"username"===c.current)o.push("/@".concat(l.current));else{var n=he.a.stringify(Object(h.a)({},c.current,l.current));o.push("/?".concat(n))}}),[o]),O=Object(a.useCallback)((function(e){c.current=e.target.value}),[]),v=Object(a.useCallback)((function(e){l.current=e.target.value}),[]);return Object(a.useEffect)((function(){"/"===t.pathname&&""===t.search&&(c.current="username",i.current.value="username",l.current="",u.current.value="")})),Object(a.useEffect)((function(){var e=n.params.username,a=he.a.parse(t.search,{ignoreQueryPrefix:!0}),r=a.page,o=a.tag,c=a.level;s(cn({page:r,username:e,tag:o,level:c}))}),[s,n.params,t.search]),r.a.createElement(qt,{posts:d,error:f,loading:g,searchTypeInput:i,searchForInput:u,onSearchSubmit:p,onSearchTypeChange:O,onSearchForChange:v})})),Zt=kt.b.div(Jn||(Jn=Object(wt.a)(["\n    width: 320px;\n    margin: 0 auto;\n    display: felx;\n    justify-content: space-between;\n    margin-bottom: 3rem;\n"]))),$t=kt.b.div(qn||(qn=Object(wt.a)([""]))),Qt=function(e){var n=e.page,t=e.username,a=e.tag,r=e.level,o=he.a.stringify({page:n,tag:a,level:r});return t?"/@".concat(t,"?").concat(o):"/?".concat(o)},Yt=r.a.memo((function(e){var n=e.page,t=e.lastPage,a=e.username,o=e.tag,c=e.level;return r.a.createElement(Zt,null,r.a.createElement(Lt,{disabled:1===n,to:1===n?void 0:Qt({page:n-1,username:a,tag:o,level:c})},"\uc774\uc804"),r.a.createElement($t,null,n),r.a.createElement(Lt,{disabled:1===t||n===t,to:1===t||n===t?void 0:Qt({page:n+1,username:a,tag:o,level:c})},"\ub2e4\uc74c"))})),ea=Object(yt.e)((function(e){var n=e.match,t=e.location,a=Object(m.d)((function(e){var n=e.posts,t=e.loading;return{posts:n.posts,loading:t["posts/LIST_POSTS"],lastPage:n.lastPage}}),m.b),o=a.posts,c=a.loading,i=a.lastPage;if(!o||c)return null;var l=n.params.username,u=he.a.parse(t.search,{ignoreQueryPrefix:!0}),s=u.page,b=void 0===s?"1":s,d=u.tag,f=u.level;return r.a.createElement(Yt,{page:parseInt(b,10),lastPage:parseInt(i,10),username:l,tag:d,level:f})})),na=function(){return r.a.createElement("div",null,r.a.createElement(Pt,null),r.a.createElement(Vt,null),r.a.createElement(ea,null))},ta=kt.b.div(Vn||(Vn=Object(wt.a)(["\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    background: ",";\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"])),Tt.gray[2]),aa=kt.b.div(Zn||(Zn=Object(wt.a)(["\n    .logo-area{\n        display: block;\n        padding-bottom: 2rem;\n        text-align: center;\n        font-weight: bold;\n        letter-spacing: 2px;\n    }\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\n    padding: 2rem;\n    width: 360px;\n    background: white;\n    border-radius: 2px;\n"]))),ra=r.a.memo((function(e){var n=e.children;return r.a.createElement(ta,null,r.a.createElement(aa,null,r.a.createElement("div",{className:"logo-area"},r.a.createElement(s.b,{to:"/"},"MineSweeper")),n))})),oa=kt.b.div($n||($n=Object(wt.a)(["\n    h3 {\n        margin: 0;\n        color: ",";\n        margin-bottom: 1rem;\n    }\n"])),Tt.gray[8]),ca=kt.b.input(Qn||(Qn=Object(wt.a)(["\n    font-size: 1rem;\n    border: none;\n    border-bottom: 1px solid ",";\n    padding-bottom: 0.5rem;\n    outline: none;\n    width: 100%;\n    &:focus {\n        color: $oc-teal-7;\n        border-bottom: 1px solid ",";\n    }\n    & + & {\n        margin-top: 1rem;\n    }\n"])),Tt.gray[5],Tt.gray[7]),ia=kt.b.div(Yn||(Yn=Object(wt.a)(["\n    display: flex;\n    justify-content: space-between;\n    margin-top: 1rem;\n    a {\n        color: ",";\n        text-decoration: underline;\n        $:hover {\n        color: ",";\n    }\n"])),Tt.gray[6],Tt.gray[9]),la={login:"\ub85c\uadf8\uc778",register:"\ud68c\uc6d0\uac00\uc785"},ua=kt.b.div(et||(et=Object(wt.a)(["\n    color: red;\n    text-align: center;\n    font-size: 0.875rem;\n    margin-top: 1rem;\n"]))),sa=function(e){var n=e.type,t=e.form,a=e.onChange,o=e.onSubmit,c=e.error,i=la[n];return r.a.createElement(oa,null,r.a.createElement("h3",null,i),r.a.createElement("form",{onSubmit:o},r.a.createElement(ca,{autoComplete:"username",name:"username",placeholder:"\uc544\uc774\ub514",onChange:a,value:t.username}),r.a.createElement(ca,{autoComplete:"new-password",name:"password",placeholder:"\ube44\ubc00\ubc88\ud638",type:"password",onChange:a,value:t.password}),"register"===n&&r.a.createElement(ca,{autoComplete:"new-password",name:"passwordConfirm",placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",type:"password",onChange:a,value:t.passwordConfirm}),c&&r.a.createElement(ua,null,c),r.a.createElement(Lt,{cyan:!0,fullWidth:!0,marginTop:"1rem"},i)),r.a.createElement(ia,null,r.a.createElement(s.b,{to:"/"},"\uba54\uc778 \ud654\uba74"),"login"===n?r.a.createElement(s.b,{to:"/register"},"\ud68c\uc6d0\uac00\uc785"):r.a.createElement(s.b,{to:"/login"},"\ub85c\uadf8\uc778")))},ma=Object(yt.e)((function(e){var n=e.history,t=Object(a.useState)(null),o=Object(j.a)(t,2),c=o[0],i=o[1],l=Object(m.c)(),u=Object(m.d)((function(e){var n=e.auth,t=e.user;return{form:n.register,initialize:n.initialize,auth:n.auth,authError:n.authError,user:t.user}})),s=u.form,b=u.initialize,d=u.auth,f=u.authError,g=u.user;return Object(a.useEffect)((function(){return l(X("register")),function(){l(K("register"))}}),[l]),Object(a.useEffect)((function(){if("register"===b){if(f)return 409===f.response.status?void i("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uacc4\uc815\uc785\ub2c8\ub2e4"):void i("\ud68c\uc6d0\uac00\uc785 \uc2e4\ud328");d&&l(ue())}}),[b,d,f,l]),Object(a.useEffect)((function(){if(g){n.push("/");try{localStorage.setItem("user",JSON.stringify(g))}catch(e){console.log("localStorage is not working...")}}}),[n,g]),r.a.createElement(sa,{type:"register",form:s,error:c,onChange:function(e){var n=e.target,t=n.name,a=n.value;l(W({form:"register",key:t,value:a}))},onSubmit:function(e){e.preventDefault();var n=s.username,t=s.password,a=s.passwordConfirm;if(![n,t,a].includes(""))return t!==a?(i("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4"),l(W({form:"register",key:"password",value:""})),void l(W({form:"register",key:"passwordConfirm",value:""}))):void l(J({username:n,password:t}));i("\ube48\uce78\uc744 \ubaa8\ub450 \uc785\ub825\ud574 \uc8fc\uc138\uc694")}})})),ba=function(){return r.a.createElement(ra,null,r.a.createElement(ma,null))},da=Object(yt.e)((function(e){var n=e.history,t=Object(a.useState)(null),o=Object(j.a)(t,2),c=o[0],i=o[1],l=Object(m.c)(),u=Object(m.d)((function(e){var n=e.auth,t=e.user;return{form:n.login,initialize:n.initialize,auth:n.auth,authError:n.authError,user:t.user}}),m.b),s=u.form,b=u.initialize,d=u.auth,f=u.authError,g=u.user,p=Object(a.useCallback)((function(e){var n=e.target,t=n.name,a=n.value;l(W({form:"login",key:t,value:a}))}),[l]),O=Object(a.useCallback)((function(e){e.preventDefault();var n=s.username,t=s.password;l(q({username:n,password:t}))}),[l,s]);return Object(a.useEffect)((function(){return l(X("login")),function(){l(K("login"))}}),[l]),Object(a.useEffect)((function(){if("login"===b){if(f)return 401===f.response.status?void i("\uc544\uc774\ub514 \ub610\ub294 \ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4"):void i("\ub85c\uadf8\uc778 \uc2e4\ud328");d&&l(ue())}}),[b,d,f,l]),Object(a.useEffect)((function(){if(g){n.push("/");try{localStorage.setItem("user",JSON.stringify(g))}catch(e){console.log("localStorage is not working...")}}}),[n,g]),r.a.createElement(sa,{type:"login",form:s,error:c,onChange:p,onSubmit:O})})),fa=function(){return r.a.createElement(ra,null,r.a.createElement(da,null))},ga=t(59),pa=Object(kt.b)(St)(nt||(nt=Object(wt.a)(["\n    margin-top: 4rem;\n"]))),Oa=kt.b.div(tt||(tt=Object(wt.a)(["\n    border-bottom: 1px solid ",";\n    padding-bottom: 3rem;\n    margin-bottom: 3rem;\n    h1{\n        font-size: 3rem;\n        line-height: 1.5;\n        margin: 0;\n    }\n"])),Tt.gray[2]),ha=kt.b.div(at||(at=Object(wt.a)(["\n    font-size: 1.3125rem;\n    color: ",";\n"])),Tt.gray[8]),va=function(e){var n=e.post,t=e.error,a=e.loading,o=e.actionButtons;if(t)return t.response&&404===t.response.status?r.a.createElement(pa,null," \ud3ec\uc2a4\ud2b8\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4!"):r.a.createElement(pa,null,"\uc624\ub958 \ubc1c\uc0dd!!");if(a||!n)return null;var c=n.title,i=n.level,l=n.time,u=n.body,s=n.user,m=n.publishedDate,b=n.tags;return r.a.createElement(pa,null,r.a.createElement(Oa,null,r.a.createElement("h1",null,c),r.a.createElement(Ht,{username:s.username,level:i,time:l,publishedDate:m,hasMarginTop:!0}),r.a.createElement(Gt,{tags:b})),o,r.a.createElement(ha,{dangerouslySetInnerHTML:{__html:u}}))},ja=kt.b.div(rt||(rt=Object(wt.a)(["\n    position: fixed;\n    z-index: 30;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.25);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),Ea=kt.b.div(ot||(ot=Object(wt.a)(["\n    width: 320px;\n    background: white;\n    padding: 1.5rem;\n    border-radius: 4px;\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.125);\n    h2 {\n        margin-top: 0;\n        margin-bottom: 1rem;\n    }\n    p {\n        margin-bottom: 3rem;\n    }\n    .buttons {\n        display: flex;\n        justify-content: flex-end;\n    }\n"]))),ya=Object(kt.b)(Lt)(ct||(ct=Object(wt.a)(["\n    height: 2rem;\n    & + & {\n        margin-left: 0.75rem;\n    }\n"]))),wa=function(e){var n=e.visible,t=e.title,a=e.description,o=e.confirmText,c=void 0===o?"\ud655\uc778":o,i=e.cancelText,l=void 0===i?"\ucde8\uc18c":i,u=e.onConfirm,s=e.onCancel;return n?r.a.createElement(ja,null,r.a.createElement(Ea,null,r.a.createElement("h2",null,t),r.a.createElement("p",null,a),r.a.createElement("div",{className:"buttons"},r.a.createElement(ya,{onClick:s},l),r.a.createElement(ya,{onClick:u,cyan:!0},c)))):null},ka=function(e){var n=e.visible,t=e.onConfirm,a=e.onCancel;return r.a.createElement(wa,{visible:n,title:"\ud3ec\uc2a4\ud2b8 \uc0ad\uc81c",description:"\ud3ec\uc2a4\ud2b8\ub97c \uc815\ub9d0 \uc0ad\uc81c\ud558\uc2e4\uac74\uac00\uc694?",confirmText:"\uc0ad\uc81c",onConfirm:t,onCancel:a})},xa=kt.b.div(it||(it=Object(wt.a)(["\n    display: flex;\n    justify-content: flex-end;\n    margin-bottom: 2rem;\n    margin-top: 1.5rem;\n"]))),Ca=kt.b.button(lt||(lt=Object(wt.a)(["\n    padding: 0.25rem 0.5rem;\n    border-radius: 4px;\n    color: ",";\n    font-weight: bold;\n    border: none;\n    outline: none;\n    font-size: 0.875rem;\n    cursor: pointer;\n    &:hover {\n        background: ",";\n        color: ",";\n    }\n    & + & {\n        margin-left: 0.25rem;\n    }\n"])),Tt.gray[6],Tt.gray[1],Tt.cyan[7]),Sa=function(e){var n=e.onEdit,t=e.onRemove,o=Object(a.useState)(!1),c=Object(j.a)(o,2),i=c[0],l=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(xa,null,r.a.createElement(Ca,{onClick:n},"\uc218\uc815"),r.a.createElement(Ca,{onClick:function(){l(!0)}},"\uc0ad\uc81c")),r.a.createElement(ka,{visible:i,onConfirm:function(){l(!1),t()},onCancel:function(){l(!1)}}))},Ta=Object(yt.e)((function(e){var n=e.match,t=e.history,o=n.params.postId,c=Object(m.c)(),i=Object(m.d)((function(e){var n=e.post,t=e.loading,a=e.user;return{post:n.post,error:n.error,loading:t["post/READ_POST"],user:a.user}})),l=i.post,u=i.error,s=i.loading,b=i.user,d=(b&&b._id)===(l&&l.user._id);Object(a.useEffect)((function(){return c(Je(o)),function(){c(qe())}}),[c,o]);var f=function(){var e=Object(ga.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n=o,N.delete("/api/posts/".concat(n));case 3:t.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}var n}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(va,{post:l,error:u,loading:s,actionButtons:d&&r.a.createElement(Sa,{onEdit:function(){c(Le(l)),t.push("/write")},onRemove:f})})})),_a=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pt,null),r.a.createElement(Ta,null))},Ia=t(60),Na=t.n(Ia),La=(t(97),Object(kt.b)(St)(ut||(ut=Object(wt.a)(["\n    padding: 5rem 0;\n"])))),Aa=kt.b.input(st||(st=Object(wt.a)(["\n    font-size: 3rem;\n    outline: none;\n    padding-bottom: 0.5rem;\n    border: none;\n    border-bottom: 1px solid ",";\n    margin-bottom: 2rem;\n    width: 100%;\n"])),Tt.gray[4]),za=kt.b.div(mt||(mt=Object(wt.a)(["\n    p {\n        margin: 0;\n        margin-bottom: 0.5rem;\n        font-size: 1.25rem;\n        font-weight: bold;\n    }\n"]))),Ra=kt.b.div(bt||(bt=Object(wt.a)(["\n    /* \uc5d0\ub514\ud130 \ucd5c\uc18c \ud06c\uae30 \uc9c0\uc815 \ubc0f padding \uc81c\uac70 */\n    .qu-editor {\n        padding: 0;\n        min-height: 320px;\n        font-size: 1.125rem;\n        line-height: 1.5;\n    }\n    .ql-editor.ql-blank:before {\n        left: 0px;\n    }\n"]))),Fa=r.a.memo((function(e){var n=e.title,t=e.body,o=e.level,c=e.time,i=e.onChangeField,l=Object(a.useRef)(null),u=Object(a.useRef)(null),s=Object(a.useRef)(!1);Object(a.useEffect)((function(){u.current=new Na.a(l.current,{theme:"bubble",placeholder:"\ub0b4\uc6a9\uc744 \uc791\uc131\ud558\uc138\uc694!",modules:{toolbar:[[{header:"1"},{header:"2"}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["blockquote","code-block","link","image"]]}});var e=u.current;e.on("text-change",(function(n,t,a){"user"===a&&i({key:"body",value:e.root.innerHTML})}))}),[i]),Object(a.useEffect)((function(){s.current||(s.current=!0,u.current.root.innerHTML=t)}),[t]);var m=Object(a.useCallback)((function(e){i({key:"title",value:e.target.value})}),[i]);return r.a.createElement(La,null,r.a.createElement(Aa,{value:n,onChange:m,placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694!"}),r.a.createElement(za,null,r.a.createElement("p",null,"\ub09c\uc774\ub3c4: ",o),r.a.createElement("p",null,"\ud074\ub9ac\uc5b4 \ud0c0\uc784: ",c)),r.a.createElement(Ra,null,r.a.createElement("div",{ref:l})))})),Da=Object(yt.e)((function(e){var n=e.history,t=Object(m.c)(),o=Object(m.d)((function(e){var n=e.user,t=e.write,a=e.game;return{user:n.user,title:t.title,body:t.body,level:a.level?a.level:t.originalLevel,time:a.time?a.time:t.originalTime}}),m.b),c=o.user,i=o.title,l=o.body,u=o.level,s=o.time,b=Object(a.useCallback)((function(e){return t(Ne(e))}),[t]);return Object(a.useEffect)((function(){return null!==c&&null!==s||(alert("\uc62c\ubc14\ub978 \uc811\uadfc\uc774 \uc544\ub2d9\ub2c8\ub2e4!!!"),n.push("/")),function(){t(Ie())}}),[t,c,s,n]),r.a.createElement(Fa,{title:i,body:l,level:u,time:s,onChangeField:b})})),Pa=t(61),Ma=kt.b.div(dt||(dt=Object(wt.a)(["\n    width: 100%;\n    border-top: 1px solid ",";\n    padding-top: 2rem;\n    \n    h4 {\n        color: ",";\n        margin-top: 0;\n        margin-bottom: 0.5rem;\n    }\n"])),Tt.gray[2],Tt.gray[8]),Ha=kt.b.form(ft||(ft=Object(wt.a)(["\n    border-radius: 4px;\n    overflow: hidden;\n    display: flex;\n    width: 256px;\n    border: 1px solid ",";\n    input, button {\n        outline: none;\n        border: none;\n        font-size: 1rem;\n    }\n    \n    input {\n        padding: 0.5rem;\n        flex: 1;\n        min-width: 0;\n    }\n    \n    button {\n        cursor: pointer;\n        padding: 0 1rem;\n        border: none;\n        background: ",";\n        color: white;\n        font-weight: bold;\n        &:hover {\n            background: ",";\n        }\n    }\n"])),Tt.gray[9],Tt.gray[8],Tt.gray[6]),Ba=kt.b.div(gt||(gt=Object(wt.a)(["\n    margin-right: 0.5rem;\n    color: ",";\n    cursor: pointer;\n    $:hover {\n        opacity: 0.5;\n    }\n"])),Tt.gray[6]),Ga=kt.b.div(pt||(pt=Object(wt.a)(["\n    display: flex;\n    margin-top: 0.5rem;\n"]))),Ua=r.a.memo((function(e){var n=e.tag,t=e.onRemove;return r.a.createElement(Ba,{onClick:function(){return t(n)}},"#",n)})),Wa=r.a.memo((function(e){var n=e.tags,t=e.onRemove;return r.a.createElement(Ga,null,n.map((function(e){return r.a.createElement(Ua,{key:e,tag:e,onRemove:t})})))})),Xa=r.a.memo((function(e){var n=e.tags,t=e.onChangeTags,o=Object(a.useState)(""),c=Object(j.a)(o,2),i=c[0],l=c[1],u=Object(a.useState)([]),s=Object(j.a)(u,2),m=s[0],b=s[1],d=Object(a.useCallback)((function(e){if(e&&!m.includes(e)){var n=[].concat(Object(Pa.a)(m),[e]);b(n),t(n)}}),[m,t]),f=Object(a.useCallback)((function(e){var n=m.filter((function(n){return n!==e}));b(n),t(n)}),[m,t]),g=Object(a.useCallback)((function(e){l(e.target.value)}),[]),p=Object(a.useCallback)((function(e){e.preventDefault(),d(i.trim()),l("")}),[i,d]);return Object(a.useEffect)((function(){b(n)}),[n]),r.a.createElement(Ma,null,r.a.createElement("h4",null,"\ud0dc\uadf8"),r.a.createElement(Ha,{onSubmit:p},r.a.createElement("input",{value:i,onChange:g,placeholder:"\ud0dc\uadf8\ub97c \uc785\ub825\ud558\uc138\uc694"}),r.a.createElement("button",{type:"submit"},"\ucd94\uac00")),r.a.createElement(Wa,{tags:m,onRemove:f}))})),Ka=function(){var e=Object(m.c)(),n=Object(m.d)((function(e){return e.write.tags})),t=Object(a.useCallback)((function(n){e(Ne({key:"tags",value:n}))}),[e]);return r.a.createElement(Xa,{onChangeTags:t,tags:n})},Ja=kt.b.div(Ot||(Ot=Object(wt.a)(["\n    margin-top: 1rem;\n    margin-bottom: 3rem;\n    button + button {\n        margin-left: 0.5rem;\n    }\n"]))),qa=Object(kt.b)(Lt)(ht||(ht=Object(wt.a)(["\n    height: 2.125rem;\n    & + & {\n        margin-left: 0.5rem;\n    }\n"]))),Va=r.a.memo((function(e){var n=e.onCancel,t=e.onPublished,a=e.isEdit;return r.a.createElement(Ja,null,r.a.createElement(qa,{cyan:!0,onClick:t},"\ud3ec\uc2a4\ud2b8 ",a?"\uc218\uc815":"\ub4f1\ub85d"),r.a.createElement(qa,{onClick:n},"\ucde8\uc18c"))})),Za=Object(yt.e)((function(e){var n=e.history,t=Object(m.c)(),o=Object(m.d)((function(e){var n=e.write,t=e.game;return{title:n.title,body:n.body,tags:n.tags,post:n.post,postError:n.postError,originalPostId:n.originalPostId,level:t.level,time:t.time}}),m.b),c=o.title,i=o.body,l=o.tags,u=o.post,s=o.postError,b=o.originalPostId,d=o.level,f=o.time,g=Object(a.useCallback)((function(){t(b?ze({id:b,title:c,body:i,tags:l}):Ae({title:c,level:d,time:f,body:i,tags:l}))}),[t,b,c,d,f,i,l]),p=Object(a.useCallback)((function(){n.goBack()}),[n]);return Object(a.useEffect)((function(){if(u){var e=u._id,t=u.user;n.push("/@".concat(t.username,"/").concat(e))}s&&console.log(s)}),[n,u,s]),r.a.createElement(Va,{onPublished:g,onCancel:p,isEdit:!!b})})),$a=function(){return r.a.createElement(St,null,r.a.createElement(Da,null),r.a.createElement(Ka,null),r.a.createElement(Za,null))},Qa=(t(98),r.a.memo((function(e){var n=e.content;return r.a.createElement("div",{id:"game-root"},n)}))),Ya=(t(99),r.a.memo((function(e){var n=e.onStart,t=e.onLevelChange;return r.a.createElement("div",{id:"start-root"},r.a.createElement("div",{id:"start-select-div"},r.a.createElement("label",null,r.a.createElement("h3",null,"\uac8c\uc784 \ub09c\uc774\ub3c4")),r.a.createElement("select",{name:"level",onChange:t},r.a.createElement("option",{value:"\uc26c\uc6c0"},"\uc26c\uc6c0"),r.a.createElement("option",{value:"\ubcf4\ud1b5"},"\ubcf4\ud1b5"),r.a.createElement("option",{value:"\uc5b4\ub824\uc6c0"},"\uc5b4\ub824\uc6c0"))),r.a.createElement("div",{id:"start-btn-div"},r.a.createElement(Lt,{onClick:n},"\uc2dc\uc791")))}))),er=r.a.memo((function(){var e=Object(a.useRef)("\uc26c\uc6c0"),n=Object(m.c)(),t=Object(a.useCallback)((function(){var t,a,r=0,o=[];switch(e.current){case"\uc26c\uc6c0":t=10,a=80,r=10;break;case"\ubcf4\ud1b5":t=40,a=252,r=18;break;case"\uc5b4\ub824\uc6c0":t=90,a=480,r=24}for(var c=0;c<a;c++)o.push({id:c,val:0,isOpen:!1,flagSet:!1,isHighlight:!1});for(var i=0;i<t;i++){var l=Math.floor(Math.random()*a),u=[-r-1,-r,1-r,-1,1,r-1,r,r+1];if("X"!==o[l].val){o[l].val="X";for(var s=0;s<8;s++){var m=l+u[s];m>-1&&m<a&&"X"!==o[m].val&&!(l%r===0&&m%r===r-1||l%r===r-1&&m%r===0)&&o[m].val++}}else i--}n(pn({ground:o,size:a,width:r,mineNum:t}))}),[n]),o=Object(a.useCallback)((function(t){e.current=t.target.value,n(gn(t.target.value))}),[n]);return r.a.createElement(Ya,{onStart:t,onLevelChange:o})})),nr=t(20),tr=t.n(nr),ar=(t(100),function(e){var n=e.space,t=e.width,a=e.onBlockOpen,o=e.onMouseDownAction,c=e.onMouseUpAction;return r.a.createElement("button",{id:n.id,className:tr()("block",n.isOpen?"open-block val-"+n.val:"closed-block",n.isHighlight&&"highlight",18===t?"normal":24===t&&"hard"),onClick:function(){return a(n.id)},onMouseDown:function(e){return o(e,n.id)},onMouseUp:function(e){return c(e,n.id)},onContextMenu:function(e){return e.preventDefault()},onAuxClick:function(e){return e.preventDefault()},onWheel:function(e){return e.preventDefault()}},n.isOpen?n.val>0?n.val:"X"===n.val&&r.a.createElement("img",{src:"images/mine.png",alt:"\uc9c0\ub8b0"}):n.flagSet&&"\u2718")}),rr=r.a.memo((function(e){var n=e.isFinish,t=e.space,o=e.width,c=Object(m.c)(),i=Object(a.useCallback)((function(){n||t.isOpen||("X"===t.val?c(wn("Game Over...")):0===t.val?(c(On(t.id)),c(hn(t.id))):c(On(t.id)))}),[c,n,t]),l=Object(a.useCallback)((function(e){n||t.isOpen||2!==e.button?!n&&t.isOpen&&1===e.button&&c(En(t.id)):c(jn(t.id))}),[c,n,t]),u=Object(a.useCallback)((function(e){!n&&t.isOpen&&1===e.button&&c(yn(t.id))}),[c,n,t]);return r.a.createElement(ar,{space:t,width:o,onBlockOpen:i,onMouseDownAction:l,onMouseUpAction:u})}),(function(e,n){return e.space.isOpen===n.space.isOpen&&e.space.flagSet===n.space.flagSet&&e.space.isHighlight===n.space.isHighlight})),or=function(e){var n=e.visible,t=e.finishText,a=e.description,o=e.onConfirm,c=e.onCancel;return r.a.createElement(wa,{visible:n,title:t,description:a,confirmText:t,onConfirm:o,onCancel:c})},cr=kt.b.div(vt||(vt=Object(wt.a)(["\n    position: fixed;\n    z-index: 30;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.25);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),ir=kt.b.div(jt||(jt=Object(wt.a)(["\n    width: 450px;\n    background: white;\n    padding: 1.5rem;\n    border-radius: 4px;\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.125);\n    text-align: center;\n    h2 {\n        margin-top: 0;\n        margin-bottom: 1rem;\n    }\n    .tutorial_image {\n        margin-bottom: 1rem;\n        .disabled {\n            display: none;\n        }\n        div {\n            margin-bottom: 0.5rem;\n        }\n        button + button {\n            margin-left: 1rem;\n        }\n    }\n    .tutorial_button {\n        display: flex;\n        justify-content: flex-end;\n        margin: 0;\n    }\n    \n    @media (max-width: 750px) {\n        font-size: 0.8rem;\n        h2 {\n            font-size: 1.2rem;\n        }\n        width: 300px;\n        & img {\n            width: 250px;\n        }\n    }\n"]))),lr=r.a.memo((function(e){var n=e.visible,t=e.onCancel,o=Object(a.useState)(1),c=Object(j.a)(o,2),i=c[0],l=c[1],u=Object(a.useCallback)((function(){l((function(e){return e-1}))}),[]),s=Object(a.useCallback)((function(){l((function(e){return e+1}))}),[]);return n&&"done"!==localStorage.getItem("tutorial")?r.a.createElement(cr,null,r.a.createElement(ir,null,r.a.createElement("h2",null,"\uc870\uc791 \ubc29\ubc95"),r.a.createElement("div",{className:"tutorial_image"},r.a.createElement("div",{className:tr()(1!==i&&"disabled")},r.a.createElement("p",null,"\uc88c\ud074\ub9ad\uc744 \ud558\uc2dc\uba74 \ube14\ub85d\uc774 \uc5f4\ub9bd\ub2c8\ub2e4!"),r.a.createElement("img",{src:"images/left_click.gif",alt:"\uc88c\ud074\ub9ad \uc774\ubbf8\uc9c0"})),r.a.createElement("div",{className:tr()(2!==i&&"disabled")},r.a.createElement("p",null,"\uc6b0\ud074\ub9ad\uc744 \ud558\uc2dc\uba74 \uc9c0\ub8b0 \uc704\uce58\ub97c \uc9c0\uc815\ud569\ub2c8\ub2e4!"),r.a.createElement("img",{src:"images/right_click.gif",alt:"\uc6b0\ud074\ub9ad \uc774\ubbf8\uc9c0"})),r.a.createElement("div",{className:tr()(3!==i&&"disabled")},r.a.createElement("p",null,"\ud720\ubc84\ud2bc\uc744 \ud074\ub9ad\ud558\uc2dc\uba74 \uc8fc\uc704\uc758 \ube14\ub85d\uc744 \ud558\uc774\ub77c\uc774\ud2b8\ud569\ub2c8\ub2e4!"),r.a.createElement("img",{src:"images/wheel_click_highlight.gif",alt:"\ud720\ud074\ub9ad \uc774\ubbf8\uc9c0"})),r.a.createElement("div",{className:tr()(4!==i&&"disabled")},r.a.createElement("p",null,"\ud720\ubc84\ud2bc\uc740 \ub0a8\uc740 \ube14\ub85d\uc744 \ud55c\ubc88\uc5d0 \uc5f4 \uc218 \uc788\uc2b5\ub2c8\ub2e4!"),r.a.createElement("img",{src:"images/wheel_click_open.gif",alt:"\ud720\ud074\ub9ad \uc774\ubbf8\uc9c0"})),r.a.createElement("div",{className:tr()(5!==i&&"disabled")},r.a.createElement("p",null,"\ube14\ub85d\uc744 \ud55c\ubc88\uc5d0 \uc5f4 \ub54c \uc9c0\ub8b0\uac00 \uc788\uc73c\uba74 \uac8c\uc784\uc774 \ub05d\ub0a9\ub2c8\ub2e4!"),r.a.createElement("img",{src:"images/wheel_click_open_mine.gif",alt:"\ud720\ud074\ub9ad \uc774\ubbf8\uc9c0"})),r.a.createElement(Lt,{disabled:1===i,onClick:u},"\uc774\uc804"),r.a.createElement(Lt,{disabled:5===i,onClick:s},"\ub2e4\uc74c")),r.a.createElement("div",{className:"tutorial_button"},r.a.createElement(Lt,{onClick:t},"\ucc3d \ub2eb\uae30")))):null})),ur=(t(101),r.a.memo((function(e){var n=e.isFinish,t=e.isClear,o=e.ground,c=e.width,i=e.mineNum,l=e.onRestart,u=e.onClear,s=Object(a.useState)(!1),m=Object(j.a)(s,2),b=m[0],d=m[1],f=Object(a.useState)(!1),g=Object(j.a)(f,2),p=g[0],O=g[1],h=Object(a.useState)(!0),v=Object(j.a)(h,2),E=v[0],y=v[1],w=Object(a.useCallback)((function(){localStorage.setItem("tutorial","done"),y(!1)}),[]),k=Object(a.useCallback)((function(){O(!0)}),[]),x=Object(a.useCallback)((function(){O(!1)}),[]),C=Object(a.useCallback)((function(){d(!0)}),[]),S=Object(a.useCallback)((function(){d(!1)}),[]);return r.a.createElement("div",{id:"board-root"},r.a.createElement("div",{id:"board-minNum-div"},r.a.createElement("h2",null,t||"\uc9c0\ub8b0 \uac1c\uc218 : "+i+"\uac1c")),r.a.createElement("div",{className:tr()("board",18===c?"normal":24===c&&"hard")},o.map((function(e){return r.a.createElement(rr,{key:e.id,isFinish:n,space:e,width:c})}))),r.a.createElement(lr,{visible:E,onCancel:w}),n&&r.a.createElement("div",{className:tr()("board-restart")},r.a.createElement(Lt,{onClick:k},"\ub2e4\uc2dc \uc2dc\uc791"),r.a.createElement(or,{visible:p,finishText:"\ub2e4\uc2dc \uc2dc\uc791",description:"\uac8c\uc784\uc744 \ub2e4\uc2dc \uc2dc\uc791\ud558\uc2e4 \uac74\uac00\uc694?",onConfirm:l,onCancel:x}),"Game Clear!!!"===t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Lt,{onClick:C,marginTop:"1rem"},"\uae30\ub85d \uc800\uc7a5\ud558\uae30"),r.a.createElement(or,{visible:b,finishText:"\uae30\ub85d \uc800\uc7a5",description:"\uae30\ub85d\uc744 \uc800\uc7a5\ud558\uc2e4 \uac74\uac00\uc694?",onConfirm:u,onCancel:S}))))}),(function(e,n){return e.ground===n.ground}))),sr=Object(yt.e)((function(e){var n=e.history,t=Object(m.c)(),o=Object(m.d)((function(e){var n=e.game;return{isStart:n.isStart,isClear:n.isClear,isFinish:n.isFinish,ground:n.ground,size:n.size,width:n.width,mineNum:n.mineNum,openBlockNum:n.openBlockNum}}),m.b),c=o.isStart,i=o.isClear,l=o.isFinish,u=o.ground,s=o.size,b=o.width,d=o.mineNum,f=o.openBlockNum,g=Object(a.useCallback)((function(){t(fn())}),[t]),p=Object(a.useCallback)((function(){n.push("/write")}),[n]);return Object(a.useEffect)((function(){var e=u.filter((function(e){return!0===e.isOpen}));e.length!==f&&t(vn(e.length))}),[t,u,f]),Object(a.useEffect)((function(){d===s-f&&c&&!l&&t(wn("Game Clear!!!"))}),[t,c,l,s,d,f]),r.a.createElement(ur,{isFinish:l,isClear:i,ground:u,width:b,mineNum:d,openBlockNum:f,onRestart:g,onClear:p})})),mr=Object(yt.e)((function(e){var n=e.history,t=Object(m.c)(),o=Object(m.d)((function(e){var n=e.game,t=e.user;return{isStart:n.isStart,user:t.user}}),m.b),c=o.isStart,i=o.user;return Object(a.useEffect)((function(){null===i&&(alert("\ub85c\uadf8\uc778\uc744 \ud574\uc8fc\uc138\uc694!!!"),n.push("/")),t(fn())}),[t,i,n]),r.a.createElement(Qa,{content:c?r.a.createElement(sr,null):r.a.createElement(er,null)})})),br=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pt,null),r.a.createElement(mr,null))},dr=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt.a,{component:na,path:["/@:username","/"],exact:!0}),r.a.createElement(yt.a,{component:ba,path:"/register"}),r.a.createElement(yt.a,{component:fa,path:"/login"}),r.a.createElement(yt.a,{component:_a,path:"/@:username/:postId"}),r.a.createElement(yt.a,{component:$a,path:"/write"}),r.a.createElement(yt.a,{component:br,path:"/game"}))},fr=(t(102),Object(f.a)()),gr=Object(b.createStore)(Et,Object(d.composeWithDevTools)(Object(b.applyMiddleware)(fr)));fr.run(Sn),function(){try{var e=localStorage.getItem("user");if(!e)return;gr.dispatch(le(e)),gr.dispatch(ue())}catch(n){console.log("localStorage is not working...")}}(),c.a.render(r.a.createElement(m.a,{store:gr},r.a.createElement(s.a,null,r.a.createElement(dr,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");i?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):l(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):l(n,e)}))}}()},64:function(e,n,t){e.exports=t(103)},98:function(e,n,t){},99:function(e,n,t){}},[[64,1,2]]]);
//# sourceMappingURL=main.7a6e81c4.chunk.js.map