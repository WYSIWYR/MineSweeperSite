(this.webpackJsonpmss=this.webpackJsonpmss||[]).push([[0],{100:function(e,n,t){},101:function(e,n,t){},102:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(31),c=t.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i,u=t(10),l=t(6),s=t(19),m=t(51),f=t(61),b=t(12),d=t.n(b),g=t(13),p=t(4),v=t(8),O=t(11),h=t(104),j=t(103),E=t(20),y=Object(h.a)("loading/START_LOADING",(function(e){return e})),w=Object(h.a)("loading/FINISH_LOADING",(function(e){return e})),k=Object(j.a)((i={},Object(p.a)(i,"loading/START_LOADING",(function(e,n){return Object(v.a)({},e,Object(p.a)({},n.payload,!0))})),Object(p.a)(i,"loading/FINISH_LOADING",(function(e,n){return Object(v.a)({},e,Object(p.a)({},n.payload,!1))})),i),{}),C=function(e){return[e,"".concat(e,"_SUCCESS"),"".concat(e,"_FAILURE")]};function x(e,n){var t="".concat(e,"_SUCCESS"),r="".concat(e,"_FAILURE");return d.a.mark((function a(o){var c;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(g.c)(y(e));case 2:return a.prev=2,a.next=5,Object(g.b)(n,o.payload);case 5:return c=a.sent,a.next=8,Object(g.c)({type:t,payload:c.data,meta:c});case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(2),a.next=14,Object(g.c)({type:r,payload:a.t0,error:!0});case 14:return a.next=16,Object(g.c)(w(e));case 16:case"end":return a.stop()}}),a,null,[[2,10]])}))}var S,T=t(52),_=t.n(T).a.create(),I=function(){return _.post("/api/auth/logout")},N=d.a.mark(V),L=C("auth/REGISTER"),z=Object(O.a)(L,3),A=z[0],R=z[1],F=z[2],D=C("auth/LOGIN"),P=Object(O.a)(D,3),M=P[0],H=P[1],B=P[2],G=Object(h.a)("auth/CHANGE_FIELD",(function(e){return{form:e.form,key:e.key,value:e.value}})),U=Object(h.a)("auth/ENTER_FORM",(function(e){return e})),X=Object(h.a)("auth/LEAVE_FORM"),K=Object(h.a)(A,(function(e){return{username:e.username,password:e.password}})),W=Object(h.a)(M,(function(e){return{username:e.username,password:e.password}})),J=x(A,(function(e){var n=e.username,t=e.password;return _.post("/api/auth/register",{username:n,password:t})})),q=x(M,(function(e){var n=e.username,t=e.password;return _.post("/api/auth/login",{username:n,password:t})}));function V(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.d)(A,J);case 2:return e.next=4,Object(g.d)(M,q);case 4:case"end":return e.stop()}}),N)}var Z,$={register:{username:"",password:"",passwordConfirm:""},login:{username:"",password:""},initialize:"",auth:null,authError:null},Q=Object(j.a)((S={},Object(p.a)(S,"auth/CHANGE_FIELD",(function(e,n){var t=n.payload,r=t.form,a=t.key,o=t.value;return Object(E.a)(e,(function(e){e[r][a]=o}))})),Object(p.a)(S,"auth/ENTER_FORM",(function(e,n){var t,r=n.payload;return Object(v.a)({},e,(t={},Object(p.a)(t,r,$[r]),Object(p.a)(t,"initialize",r),Object(p.a)(t,"auth",null),Object(p.a)(t,"authError",null),t))})),Object(p.a)(S,"auth/LEAVE_FORM",(function(e){return Object(v.a)({},e,{initialize:"",auth:null,authError:null})})),Object(p.a)(S,A,(function(e){return Object(v.a)({},e,{auth:null,authError:null})})),Object(p.a)(S,R,(function(e,n){var t=n.payload;return Object(v.a)({},e,{auth:t})})),Object(p.a)(S,F,(function(e,n){var t=n.payload;return Object(v.a)({},e,{authError:t})})),Object(p.a)(S,M,(function(e){return Object(v.a)({},e,{auth:null,authError:null})})),Object(p.a)(S,H,(function(e,n){var t=n.payload;return Object(v.a)({},e,{auth:t})})),Object(p.a)(S,B,(function(e,n){var t=n.payload;return Object(v.a)({},e,{authError:t})})),S),$),Y=d.a.mark(me),ee=d.a.mark(fe),ne=C("user/CHECK"),te=Object(O.a)(ne,3),re=te[0],ae=te[1],oe=te[2],ce=Object(h.a)("user/TEMP_SET_USER",(function(e){return e})),ie=Object(h.a)(re),ue=Object(h.a)("user/LOGOUT"),le=x(re,(function(){return _.get("/api/auth/check")}));function se(){try{localStorage.removeItem("user")}catch(e){console.log("localStorage is not working...")}}function me(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g.b)(I);case 3:localStorage.removeItem("user"),localStorage.removeItem("tutorial"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("localStorage is not working...");case 10:case"end":return e.stop()}}),Y,null,[[0,7]])}function fe(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.d)(re,le);case 2:return e.next=4,Object(g.d)(oe,se);case 4:return e.next=6,Object(g.d)("user/LOGOUT",me);case 6:case"end":return e.stop()}}),ee)}var be,de=Object(j.a)((Z={},Object(p.a)(Z,"user/TEMP_SET_USER",(function(e,n){var t=n.payload;return Object(v.a)({},e,{user:t})})),Object(p.a)(Z,ae,(function(e,n){var t=n.payload;return Object(v.a)({},e,{user:t})})),Object(p.a)(Z,oe,(function(e,n){var t=n.payload;return Object(v.a)({},e,{checkError:t})})),Object(p.a)(Z,"user/LOGOUT",(function(e){return Object(v.a)({},e,{user:null})})),Z),{user:null,checkError:null}),ge=t(22),pe=t.n(ge),ve=d.a.mark(Re),Oe=C("write/WRITE_POST"),he=Object(O.a)(Oe,3),je=he[0],Ee=he[1],ye=he[2],we=C("write/UPDATE_POST"),ke=Object(O.a)(we,3),Ce=ke[0],xe=ke[1],Se=ke[2],Te=Object(h.a)("write/INITIALIZE"),_e=Object(h.a)("write/CHANGE_FIELD",(function(e){return{key:e.key,value:e.value}})),Ie=Object(h.a)("write/SET_ORIGINAL_POST",(function(e){return e})),Ne=Object(h.a)(je,(function(e){return{title:e.title,level:e.level,time:e.time,body:e.body,tags:e.tags}})),Le=Object(h.a)(Ce,(function(e){return{id:e.id,title:e.title,body:e.body,tags:e.tags}})),ze=x(je,(function(e){var n=e.title,t=e.level,r=e.time,a=e.body,o=e.tags;return _.post("/api/posts",{title:n,level:t,time:r,body:a,tags:o})})),Ae=x(Ce,(function(e){var n=e.id,t=e.title,r=e.body,a=e.tags;return _.patch("/api/posts/".concat(n),{title:t,body:r,tags:a})}));function Re(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.d)(je,ze);case 2:return e.next=4,Object(g.d)(Ce,Ae);case 4:case"end":return e.stop()}}),ve)}var Fe,De={title:"",body:"",tags:[],post:null,postError:null,originalPostId:null,originalLevel:null,originalTime:null},Pe=Object(j.a)((be={},Object(p.a)(be,"write/INITIALIZE",(function(e){return De})),Object(p.a)(be,"write/CHANGE_FIELD",(function(e,n){var t=n.payload,r=t.key,a=t.value;return Object(v.a)({},e,Object(p.a)({},r,a))})),Object(p.a)(be,je,(function(e){return Object(v.a)({},e,{post:null,postError:null})})),Object(p.a)(be,Ee,(function(e,n){var t=n.payload;return Object(v.a)({},e,{post:t})})),Object(p.a)(be,ye,(function(e,n){var t=n.payload;return Object(v.a)({},e,{postError:t})})),Object(p.a)(be,"write/SET_ORIGINAL_POST",(function(e,n){var t=n.payload;return Object(v.a)({},e,{title:t.title,body:t.body,tags:t.tags,originalPostId:t._id,originalLevel:t.level,originalTime:t.time})})),Object(p.a)(be,xe,(function(e,n){var t=n.payload;return Object(v.a)({},e,{post:t,postError:null})})),Object(p.a)(be,Se,(function(e,n){var t=n.payload;return Object(v.a)({},e,{post:null,postError:t})})),be),De),Me=d.a.mark(qe),He=C("post/POST_READ"),Be=Object(O.a)(He,3),Ge=Be[0],Ue=Be[1],Xe=Be[2],Ke=Object(h.a)(Ge,(function(e){return e})),We=Object(h.a)("post/UNLOAD_POST"),Je=x(Ge,(function(e){return _.get("/api/posts/".concat(e))}));function qe(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.d)(Ge,Je);case 2:case"end":return e.stop()}}),Me)}var Ve,Ze={post:null,error:null},$e=Object(j.a)((Fe={},Object(p.a)(Fe,Ue,(function(e,n){var t=n.payload;return Object(v.a)({},e,{post:t,error:null})})),Object(p.a)(Fe,Xe,(function(e,n){var t=n.payload;return Object(v.a)({},e,{post:null,error:t})})),Object(p.a)(Fe,"post/UNLOAD_POST",(function(){return Ze})),Fe),Ze),Qe=d.a.mark(cn),Ye=C("posts/LIST_POSTS"),en=Object(O.a)(Ye,3),nn=en[0],tn=en[1],rn=en[2],an=Object(h.a)(nn,(function(e){return{page:e.page,username:e.username,tag:e.tag,level:e.level}})),on=x(nn,(function(e){var n=e.page,t=e.username,r=e.tag,a=e.level,o=pe.a.stringify({page:n,username:t,tag:r,level:a});return _.get("/api/posts?".concat(o))}));function cn(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.d)(nn,on);case 2:case"end":return e.stop()}}),Qe)}var un,ln=Object(j.a)((Ve={},Object(p.a)(Ve,nn,(function(e){return Object(v.a)({},e,{error:null})})),Object(p.a)(Ve,tn,(function(e,n){var t=n.payload,r=n.meta;return Object(v.a)({},e,{posts:t,lastPage:parseInt(r.headers["last-page"],10)})})),Object(p.a)(Ve,rn,(function(e,n){var t=n.payload;return Object(v.a)({},e,{error:t})})),Ve),{posts:null,error:null,lastPage:1}),sn=function(e,n){if(void 0===e||void 0===n)return null;var t="",r=Math.floor((n.getTime()-e.getTime())/1e3),a=Math.floor(r/60/60/24);a>0&&(r-=60*a*60*24,t+=a+"\uc77c");var o=Math.floor(r/60/60);o>0&&(r-=60*o*60,t+=o+"\uc2dc");var c=Math.floor(r/60);return c>0&&(r-=60*c,t+=c+"\ubd84"),t+(r+"\ucd08")},mn=function(e,n,t,r,a){var o=a.slice(),c=[],i=new Array(t).fill(!1),u=[e],l=[e];for(i[e]=!0;u.length>0;)for(var s=u.shift(),m=0;m<4;m++){var f=s+o[m];f>-1&&f<t&&!n[f].isOpen&&0===n[f].val&&!i[f]&&!(s%r===0&&f%r===r-1||s%r===r-1&&f%r===0)&&(u.push(f),l.push(f),i[f]=!0,c.push(f))}for(i=new Array(t).fill(!1);l.length>0;)for(var b=l.shift(),d=0;d<8;d++){var g=b+o[d];g>-1&&g<t&&!i[g]&&n[g].val>0&&!n[g].isOpen&&!(b%r===0&&g%r===r-1||b%r===r-1&&g%r===0)&&(i[g]=!0,c.push(g))}return c},fn=Object(h.a)("game/INITIALIZE"),bn=Object(h.a)("game/SET_LEVEL",(function(e){return e})),dn=Object(h.a)("game/START_GAME",(function(e){return{ground:e.ground,size:e.size,width:e.width,mineNum:e.mineNum}})),gn=Object(h.a)("game/OPEN_BLOCK",(function(e){return e})),pn=Object(h.a)("game/OPEN_NEAR_BLOCK",(function(e){return e})),vn=Object(h.a)("game/INCREASE_OPEN_BLOCK_NUM",(function(e){return e})),On=Object(h.a)("game/SET_FLAG",(function(e){return e})),hn=Object(h.a)("game/DO_CHORD",(function(e){return e})),jn=Object(h.a)("game/HIGHLIGHT_OFF",(function(e){return e})),En=Object(h.a)("game/FINISH_GAME",(function(e){return e})),yn={level:"\uc26c\uc6c0",isStart:!1,isFinish:!1,isClear:"",ground:[],size:0,width:0,mineNum:0,openBlockNum:0,nearBlock:[],startTime:null,time:null},wn=Object(j.a)((un={},Object(p.a)(un,"game/INITIALIZE",(function(e){return yn})),Object(p.a)(un,"game/SET_LEVEL",(function(e,n){var t=n.payload;return Object(v.a)({},e,{level:t})})),Object(p.a)(un,"game/START_GAME",(function(e,n){var t=n.payload,r=t.ground,a=t.size,o=t.width,c=t.mineNum;return Object(v.a)({},e,{isStart:!0,ground:r,size:a,width:o,mineNum:c,nearBlock:[-o,-1,1,o,-o-1,1-o,o-1,o+1],startTime:new Date})})),Object(p.a)(un,"game/OPEN_BLOCK",(function(e,n){var t=n.payload;return Object(E.a)(e,(function(e){e.ground[t].flagSet=!1,e.ground[t].isHighlight=!1,e.ground[t].isOpen=!0}))})),Object(p.a)(un,"game/OPEN_NEAR_BLOCK",(function(e,n){var t=n.payload;return Object(E.a)(e,(function(e){var n=mn(t,e.ground,e.size,e.width,e.nearBlock);e.ground.map((function(e){return n.forEach((function(n){e.id===n&&(e.isOpen=!0,e.flagSet=!1,e.isHighlight=!1)})),e}))}))})),Object(p.a)(un,"game/INCREASE_OPEN_BLOCK_NUM",(function(e,n){var t=n.payload;return Object(E.a)(e,(function(e){e.openBlockNum=t}))})),Object(p.a)(un,"game/SET_FLAG",(function(e,n){var t=n.payload;return Object(E.a)(e,(function(e){e.ground[t].flagSet=!e.ground[t].flagSet,e.ground[t].isHighlight=!1}))})),Object(p.a)(un,"game/DO_CHORD",(function(e,n){var t=n.payload;return Object(E.a)(e,(function(e){var n=function(e,n,t,r,a){for(var o={ids:[],type:""},c=a.slice(),i=0,u=0;c.length>0;)(u=e+c.pop())>-1&&u<t&&!n[u].isOpen&&!(e%r===0&&u%r===r-1||e%r===r-1&&u%r===0)&&(n[u].flagSet?i++:o.ids.push(u));return i===parseInt(n[e].val,10)?o.type="OpenBlock":o.type="HighlightOn",o}(t,e.ground,e.size,e.width,e.nearBlock),r=[],a=!1;"OpenBlock"===n.type?e.ground.map((function(t){return n.ids.every((function(n){if(t.id===n){if("X"===t.val)return a=!0,!1;0===t.val?(t.isOpen=!0,t.flagset=!1,t.isHighlight=!1,r=r.concat(mn(n,e.ground,e.size,e.width,e.nearBlock)).sort()):(t.isOpen=!0,t.flagset=!1,t.isHighlight=!1)}return!0})),t})).map((function(e){return r.forEach((function(n){e.id===n&&(e.isOpen=!0,e.flagset=!1,e.isHighlight=!1)})),e})):e.ground.map((function(e){return n.ids.forEach((function(n){e.id===n&&(e.isHighlight=!0)})),e})),a&&(e.ground.map((function(e){return"X"===e.val?e.isOpen=!0:e})),e.isFinish=!0,e.isClear="Game Over...",e.time=sn(e.startTime,new Date))}))})),Object(p.a)(un,"game/HIGHLIGHT_OFF",(function(e,n){var t=n.payload;return Object(E.a)(e,(function(e){var n=function(e,n,t,r,a){for(var o=a.slice(),c=[],i=0,u=[];o.length>0;)(i=e+o.pop())>-1&&i<t&&!n[i].isOpen&&!n[i].flagSet&&!(e%r===0&&i%r===r-1||e%r===r-1&&i%r===0)&&c.push(i);for(;c.length>0;){var l=c.pop();u.push(l)}return u}(t,e.ground,e.size,e.width,e.nearBlock);e.ground.map((function(e){return n.forEach((function(n){e.id===n&&(e.isHighlight=!1)})),e}))}))})),Object(p.a)(un,"game/FINISH_GAME",(function(e,n){var t=n.payload;return Object(E.a)(e,(function(e){e.ground.map((function(e){return"X"===e.val?e.isOpen=!0:e})),e.isFinish=!0,e.isClear=t,e.time=sn(e.startTime,new Date)}))})),un),yn),kn=d.a.mark(Cn);function Cn(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)([V(),fe(),Re(),qe(),cn()]);case 2:case"end":return e.stop()}}),kn)}var xn=Object(s.combineReducers)({auth:Q,loading:k,user:de,write:Pe,post:$e,posts:ln,game:wn}),Sn=t(24),Tn=t(2),_n=t(3),In=t(53);function Nn(){var e=Object(Tn.a)(["\n    padding: 0 1rem;\n    width: 1024px;\n    height: 100%;\n    margin: 0 auto;\n    \n    @media(max-width: 1024px) {\n        width: 768px;\n    }\n    \n    @media(max-width: 768px) {\n        width: 100%;\n    }    \n"]);return Nn=function(){return e},e}var Ln=_n.b.div(Nn()),zn=function(e){var n=e.children,t=Object(In.a)(e,["children"]);return a.a.createElement(Ln,t,n)},An={gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"]};function Rn(){var e=Object(Tn.a)(["\n    ","\n"]);return Rn=function(){return e},e}function Fn(){var e=Object(Tn.a)(["\n    ","\n"]);return Fn=function(){return e},e}function Dn(){var e=Object(Tn.a)(["\n        display: block;\n        "]);return Dn=function(){return e},e}function Pn(){var e=Object(Tn.a)(["\n            margin-top: ",";\n        "]);return Pn=function(){return e},e}function Mn(){var e=Object(Tn.a)(["\n            background: ",";\n            &:hover {\n                background: ",";\n            }\n        "]);return Mn=function(){return e},e}function Hn(){var e=Object(Tn.a)(["\n            padding-top: 0.75rem;\n            padding-bottom: 0.75rem;\n            width: 100%;\n            font-size: 1.125rem;\n        "]);return Hn=function(){return e},e}function Bn(){var e=Object(Tn.a)(["\n    border: none;\n    border-radius: 4px;\n    font-size: 1rem;\n    font-weight: bold;\n    padding: 0.25rem 1rem;\n    color: white;\n    outline: none;\n    cursor: pointer;\n    \n    @media (max-width: 550px) {\n        font-size: 0.8rem;\n    }\n    \n    background: ",";\n    &:hover {\n        background: ",";\n    }\n    ","\n    ","\n    ","\n    ","\n    &:disabled {\n        background: ",";\n        color: ",";\n        cursor: not-allowed;\n    }\n"]);return Bn=function(){return e},e}var Gn=Object(_n.a)(Bn(),An.gray[8],An.gray[6],(function(e){return e.fullWidth&&Object(_n.a)(Hn())}),(function(e){return e.cyan&&Object(_n.a)(Mn(),An.cyan[5],An.cyan[4])}),(function(e){return e.marginTop&&Object(_n.a)(Pn(),e.marginTop)}),(function(e){return e.block&&Object(_n.a)(Dn())}),An.gray[3],An.gray[5]),Un=_n.b.button(Fn(),Gn),Xn=Object(_n.b)(u.b)(Rn(),Gn),Kn=function(e){return e.to?a.a.createElement(Xn,Object.assign({},e,{cyan:e.cyan?1:0})):a.a.createElement(Un,e)};function Wn(){var e=Object(Tn.a)(["\n    font-weight: 800;\n    margin-right: 1rem;\n    @media (max-width: 550px) {\n        font-size: 0.8rem;\n    }\n"]);return Wn=function(){return e},e}function Jn(){var e=Object(Tn.a)(["\n    height: 4rem;\n"]);return Jn=function(){return e},e}function qn(){var e=Object(Tn.a)(["\n    height: 4rem;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    .logo {\n        font-size: 1.125rem;\n        font-weight: 800;\n        letter-spacing: 2px;\n        @media (max-width: 550px) {\n            font-size: 1rem;\n        }\n    }\n    .right {\n        display: flex;\n        align-items: center;\n        a {\n            margin-right: 0.5rem\n        }\n    }\n"]);return qn=function(){return e},e}function Vn(){var e=Object(Tn.a)(["\n    position: fixed;\n    width: 100%;\n    background: white;\n    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.08);\n"]);return Vn=function(){return e},e}var Zn=_n.b.div(Vn()),$n=Object(_n.b)(zn)(qn()),Qn=_n.b.div(Jn()),Yn=_n.b.div(Wn()),et=a.a.memo((function(e){var n=e.onLogout,t=JSON.parse(localStorage.getItem("user"));return a.a.createElement(a.a.Fragment,null,a.a.createElement(Zn,null,a.a.createElement($n,null,a.a.createElement(u.b,{to:"/",className:"logo"},"MineSweeper"),t?a.a.createElement("div",{className:"right"},a.a.createElement(Yn,null,t.username),a.a.createElement(Kn,{onClick:n},"\ub85c\uadf8\uc544\uc6c3")):a.a.createElement("div",{className:"right"},a.a.createElement(Kn,{to:"/login"},"\ub85c\uadf8\uc778"),a.a.createElement(Kn,{to:"/register"},"\ud68c\uc6d0\uac00\uc785")))),a.a.createElement(Qn,null))})),nt=Object(Sn.e)((function(e){var n=e.history,t=Object(l.c)(),o=Object(r.useCallback)((function(){t(ue()),n.push("/")}),[t,n]);return a.a.createElement(et,{onLogout:o})}));function tt(){var e=Object(Tn.a)(["\n            margin-top: 1rem;\n        "]);return tt=function(){return e},e}function rt(){var e=Object(Tn.a)(["\n    ","\n    color: ",";\n    \n    span + span:before {\n        color: ",";\n        padding: 0 0.25rem;\n        content: '\\B7'; /* \uac00\uc6b4\ub383\uc810 \ubb38\uc790 */\n    }\n"],["\n    ","\n    color: ",";\n    \n    span + span:before {\n        color: ",";\n        padding: 0 0.25rem;\n        content: '\\\\B7'; /* \uac00\uc6b4\ub383\uc810 \ubb38\uc790 */\n    }\n"]);return rt=function(){return e},e}var at=_n.b.div(rt(),(function(e){return e.hasMarginTop&&Object(_n.a)(tt())}),An.gray[6],An.gray[5]),ot=function(e){var n=e.username,t=e.time,r=e.publishedDate,o=e.hasMarginTop;return a.a.createElement(at,{hasMarginTop:o},a.a.createElement("span",null,a.a.createElement("b",null,a.a.createElement(u.b,{to:"/@".concat(n)},n))),a.a.createElement("span",null,"\ud074\ub9ac\uc5b4 \ud0c0\uc784: ",t),a.a.createElement("span",null,"\ud50c\ub808\uc774 \ub0a0\uc9dc: ",new Date(r).toLocaleDateString()))};function ct(){var e=Object(Tn.a)(["\n    margin-top: 0.5rem;\n    .tag{\n        display: inline-block;\n        color: ",";\n        text-decoration: none;\n        margin-right: 0.5rem;\n        &:hover {\n            color: ","\n        }\n    }\n"]);return ct=function(){return e},e}var it=_n.b.div(ct(),An.gray[7],An.cyan[6]),ut=function(e){var n=e.tags;return a.a.createElement(it,null,n.map((function(e){return a.a.createElement(u.b,{className:"tag",to:"/?tag=".concat(e),key:e},"#",e)})))};function lt(){var e=Object(Tn.a)(["\n    padding: 3rem 0;\n    &:first-child {\n        padding-top: 0;\n    }\n    & + & {\n        border-top: 1px solid ",";\n    }\n    \n    h2 {\n        font-size: 2rem;\n        margin-bottom: 0;\n        margin-top: 0;\n        &:hover {\n            color: ",";\n        }\n    }\n    p {\n       margin-top: 1.5rem;\n    }\n    .level {\n        font-weight: bold;\n        color: ",";\n    }\n    \n    @media (max-width: 450px) {\n        font-size:\n    }\n"]);return lt=function(){return e},e}function st(){var e=Object(Tn.a)(["\n    select {\n        width: 6rem;\n        height: 2rem;\n        outline: none;\n        border: none;\n        border-radius: 4px;\n        background: ",";\n        color: white;\n        text-align: center;\n        font-size: 1rem;\n        font-weight: bold;\n        margin-right: 0.4rem;\n    }\n    \n    input {\n        width: 15rem;\n        height: 2rem;\n        outline: none;\n        border: none;\n        border-radius: 4px;\n        background: ",";\n        color: ",";\n        padding: 0 0.6rem;\n        text-align: center;\n        font-size: 1rem;\n        font-weight: bold;\n    }\n"]);return st=function(){return e},e}function mt(){var e=Object(Tn.a)(["\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 3rem;\n"]);return mt=function(){return e},e}function ft(){var e=Object(Tn.a)(["\n    margin-top: 3rem\n"]);return ft=function(){return e},e}var bt=Object(_n.b)(zn)(ft()),dt=_n.b.div(mt()),gt=_n.b.form(st(),An.cyan[5],An.cyan[0],An.gray[6]),pt=_n.b.div(lt(),An.gray[2],An.gray[6],An.cyan[6]),vt=function(e){var n=e.post,t=n._id,r=n.title,o=n.level,c=n.time,i=n.body,l=n.user,s=n.publishedDate,m=n.tags;return a.a.createElement(pt,null,a.a.createElement("h2",null,a.a.createElement(u.b,{to:"/@".concat(l.username,"/").concat(t)},r)),a.a.createElement(ot,{username:l.username,time:c,publishedDate:s}),a.a.createElement("span",{className:"level"},a.a.createElement(u.b,{to:"/?level=".concat(o)},"\ub09c\uc774\ub3c4: ",o)),a.a.createElement(ut,{tags:m}),a.a.createElement("p",null,i))},Ot=a.a.memo((function(e){var n=e.posts,t=e.error,r=e.loading,o=e.searchTypeInput,c=e.searchForInput,i=e.onSearchSubmit,u=e.onSearchTypeChange,l=e.onSearchForChange;return t?a.a.createElement(bt,null,"\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4!"):a.a.createElement(bt,null,a.a.createElement(dt,null,a.a.createElement(gt,{onSubmit:i},a.a.createElement("select",{name:"searchType",ref:o,onChange:u},a.a.createElement("option",{value:"username"},"\uc544\uc774\ub514"),a.a.createElement("option",{value:"level"},"\ub09c\uc774\ub3c4"),a.a.createElement("option",{value:"tag"},"\ud0dc\uadf8")),a.a.createElement("input",{type:"text",name:"searchFor",placeholder:"\uac80\uc0c9\ud560 \ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694!!!",ref:c,onChange:l})),localStorage.getItem("user")&&a.a.createElement(Kn,{to:"/game",cyan:!0},"\uac8c\uc784 \uc2dc\uc791!")),a.a.createElement("div",null,!r&&n&&n.map((function(e){return a.a.createElement(vt,{post:e,key:e._id})}))))})),ht=Object(Sn.e)((function(e){var n=e.match,t=e.location,o=e.history,c=Object(r.useRef)("username"),i=Object(r.useRef)(),u=Object(r.useRef)(""),s=Object(r.useRef)(),m=Object(l.c)(),f=Object(l.d)((function(e){var n=e.posts,t=e.loading;return{posts:n.posts,error:n.error,loading:t["posts/LIST_POSTS"]}}),l.b),b=f.posts,d=f.error,g=f.loading,v=Object(r.useCallback)((function(e){if(e.preventDefault(),"username"===c.current)o.push("/@".concat(u.current));else{var n=pe.a.stringify(Object(p.a)({},c.current,u.current));o.push("/?".concat(n))}}),[o]),O=Object(r.useCallback)((function(e){c.current=e.target.value}),[]),h=Object(r.useCallback)((function(e){u.current=e.target.value}),[]);return Object(r.useEffect)((function(){"/"===t.pathname&&""===t.search&&(c.current="username",i.current.value="username",u.current="",s.current.value="")})),Object(r.useEffect)((function(){var e=n.params.username,r=pe.a.parse(t.search,{ignoreQueryPrefix:!0}),a=r.page,o=r.tag,c=r.level;m(an({page:a,username:e,tag:o,level:c}))}),[m,n.params,t.search]),a.a.createElement(Ot,{posts:b,error:d,loading:g,searchTypeInput:i,searchForInput:s,onSearchSubmit:v,onSearchTypeChange:O,onSearchForChange:h})}));function jt(){var e=Object(Tn.a)([""]);return jt=function(){return e},e}function Et(){var e=Object(Tn.a)(["\n    width: 320px;\n    margin: 0 auto;\n    display: felx;\n    justify-content: space-between;\n    margin-bottom: 3rem;\n"]);return Et=function(){return e},e}var yt=_n.b.div(Et()),wt=_n.b.div(jt()),kt=function(e){var n=e.page,t=e.username,r=e.tag,a=e.level,o=pe.a.stringify({page:n,tag:r,level:a});return t?"/@".concat(t,"?").concat(o):"/?".concat(o)},Ct=a.a.memo((function(e){var n=e.page,t=e.lastPage,r=e.username,o=e.tag,c=e.level;return a.a.createElement(yt,null,a.a.createElement(Kn,{disabled:1===n,to:1===n?void 0:kt({page:n-1,username:r,tag:o,level:c})},"\uc774\uc804"),a.a.createElement(wt,null,n),a.a.createElement(Kn,{disabled:1===t||n===t,to:1===t?void 0:n===t?void 0:kt({page:n+1,username:r,tag:o,level:c})},"\ub2e4\uc74c"))})),xt=Object(Sn.e)((function(e){var n=e.match,t=e.location,r=Object(l.d)((function(e){var n=e.posts,t=e.loading;return{posts:n.posts,loading:t["posts/LIST_POSTS"],lastPage:n.lastPage}}),l.b),o=r.posts,c=r.loading,i=r.lastPage;if(!o||c)return null;var u=n.params.username,s=pe.a.parse(t.search,{ignoreQueryPrefix:!0}),m=s.page,f=void 0===m?"1":m,b=s.tag,d=s.level;return a.a.createElement(Ct,{page:parseInt(f,10),lastPage:parseInt(i,10),username:u,tag:b,level:d})})),St=function(){return a.a.createElement("div",null,a.a.createElement(nt,null),a.a.createElement(ht,null),a.a.createElement(xt,null))};function Tt(){var e=Object(Tn.a)(["\n    .logo-area{\n        display: block;\n        padding-bottom: 2rem;\n        text-align: center;\n        font-weight: bold;\n        letter-spacing: 2px;\n    }\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\n    padding: 2rem;\n    width: 360px;\n    background: white;\n    border-radius: 2px;\n"]);return Tt=function(){return e},e}function _t(){var e=Object(Tn.a)(["\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    background: ",";\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]);return _t=function(){return e},e}var It=_n.b.div(_t(),An.gray[2]),Nt=_n.b.div(Tt()),Lt=a.a.memo((function(e){var n=e.children;return a.a.createElement(It,null,a.a.createElement(Nt,null,a.a.createElement("div",{className:"logo-area"},a.a.createElement(u.b,{to:"/"},"MineSweeper")),n))}));function zt(){var e=Object(Tn.a)(["\n    color: red;\n    text-align: center;\n    font-size: 0.875rem;\n    margin-top: 1rem;\n"]);return zt=function(){return e},e}function At(){var e=Object(Tn.a)(["\n    display: flex;\n    justify-content: space-between;\n    margin-top: 1rem;\n    a {\n        color: ",";\n        text-decoration: underline;\n        $:hover {\n        color: ",";\n    }\n"]);return At=function(){return e},e}function Rt(){var e=Object(Tn.a)(["\n    font-size: 1rem;\n    border: none;\n    border-bottom: 1px solid ",";\n    padding-bottom: 0.5rem;\n    outline: none;\n    width: 100%;\n    &:focus {\n        color: $oc-teal-7;\n        border-bottom: 1px solid ",";\n    }\n    & + & {\n        margin-top: 1rem;\n    }\n"]);return Rt=function(){return e},e}function Ft(){var e=Object(Tn.a)(["\n    h3 {\n        margin: 0;\n        color: ",";\n        margin-bottom: 1rem;\n    }\n"]);return Ft=function(){return e},e}var Dt=_n.b.div(Ft(),An.gray[8]),Pt=_n.b.input(Rt(),An.gray[5],An.gray[7]),Mt=_n.b.div(At(),An.gray[6],An.gray[9]),Ht={login:"\ub85c\uadf8\uc778",register:"\ud68c\uc6d0\uac00\uc785"},Bt=_n.b.div(zt()),Gt=function(e){var n=e.type,t=e.form,r=e.onChange,o=e.onSubmit,c=e.error,i=Ht[n];return a.a.createElement(Dt,null,a.a.createElement("h3",null,i),a.a.createElement("form",{onSubmit:o},a.a.createElement(Pt,{autoComplete:"username",name:"username",placeholder:"\uc544\uc774\ub514",onChange:r,value:t.username}),a.a.createElement(Pt,{autoComplete:"new-password",name:"password",placeholder:"\ube44\ubc00\ubc88\ud638",type:"password",onChange:r,value:t.password}),"register"===n&&a.a.createElement(Pt,{autoComplete:"new-password",name:"passwordConfirm",placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",type:"password",onChange:r,value:t.passwordConfirm}),c&&a.a.createElement(Bt,null,c),a.a.createElement(Kn,{cyan:!0,fullWidth:!0,marginTop:"1rem"},i)),a.a.createElement(Mt,null,a.a.createElement(u.b,{to:"/"},"\uba54\uc778 \ud654\uba74"),"login"===n?a.a.createElement(u.b,{to:"/register"},"\ud68c\uc6d0\uac00\uc785"):a.a.createElement(u.b,{to:"/login"},"\ub85c\uadf8\uc778")))},Ut=Object(Sn.e)((function(e){var n=e.history,t=Object(r.useState)(null),o=Object(O.a)(t,2),c=o[0],i=o[1],u=Object(l.c)(),s=Object(l.d)((function(e){var n=e.auth,t=e.user;return{form:n.register,initialize:n.initialize,auth:n.auth,authError:n.authError,user:t.user}})),m=s.form,f=s.initialize,b=s.auth,d=s.authError,g=s.user;return Object(r.useEffect)((function(){return u(U("register")),function(){u(X("register"))}}),[u]),Object(r.useEffect)((function(){if("register"===f){if(d)return 409===d.response.status?void i("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uacc4\uc815\uc785\ub2c8\ub2e4"):void i("\ud68c\uc6d0\uac00\uc785 \uc2e4\ud328");b&&u(ie())}}),[f,b,d,u]),Object(r.useEffect)((function(){if(g){n.push("/");try{localStorage.setItem("user",JSON.stringify(g))}catch(e){console.log("localStorage is not working...")}}}),[n,g]),a.a.createElement(Gt,{type:"register",form:m,error:c,onChange:function(e){var n=e.target,t=n.name,r=n.value;u(G({form:"register",key:t,value:r}))},onSubmit:function(e){e.preventDefault();var n=m.username,t=m.password,r=m.passwordConfirm;if(![n,t,r].includes(""))return t!==r?(i("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4"),u(G({form:"register",key:"password",value:""})),void u(G({form:"register",key:"passwordConfirm",value:""}))):void u(K({username:n,password:t}));i("\ube48\uce78\uc744 \ubaa8\ub450 \uc785\ub825\ud574 \uc8fc\uc138\uc694")}})})),Xt=function(){return a.a.createElement(Lt,null,a.a.createElement(Ut,null))},Kt=Object(Sn.e)((function(e){var n=e.history,t=Object(r.useState)(null),o=Object(O.a)(t,2),c=o[0],i=o[1],u=Object(l.c)(),s=Object(l.d)((function(e){var n=e.auth,t=e.user;return{form:n.login,initialize:n.initialize,auth:n.auth,authError:n.authError,user:t.user}}),l.b),m=s.form,f=s.initialize,b=s.auth,d=s.authError,g=s.user,p=Object(r.useCallback)((function(e){var n=e.target,t=n.name,r=n.value;u(G({form:"login",key:t,value:r}))}),[u]),v=Object(r.useCallback)((function(e){e.preventDefault();var n=m.username,t=m.password;u(W({username:n,password:t}))}),[u,m]);return Object(r.useEffect)((function(){return u(U("login")),function(){u(X("login"))}}),[u]),Object(r.useEffect)((function(){if("login"===f){if(d)return 401===d.response.status?void i("\uc544\uc774\ub514 \ub610\ub294 \ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4"):void i("\ub85c\uadf8\uc778 \uc2e4\ud328");b&&u(ie())}}),[f,b,d,u]),Object(r.useEffect)((function(){if(g){n.push("/");try{localStorage.setItem("user",JSON.stringify(g))}catch(e){console.log("localStorage is not working...")}}}),[n,g]),a.a.createElement(Gt,{type:"login",form:m,error:c,onChange:p,onSubmit:v})})),Wt=function(){return a.a.createElement(Lt,null,a.a.createElement(Kt,null))},Jt=t(58);function qt(){var e=Object(Tn.a)(["\n    font-size: 1.3125rem;\n    color: ",";\n"]);return qt=function(){return e},e}function Vt(){var e=Object(Tn.a)(["\n    border-bottom: 1px solid ",";\n    padding-bottom: 3rem;\n    margin-bottom: 3rem;\n    h1{\n        font-size: 3rem;\n        line-height: 1.5;\n        margin: 0;\n    }\n"]);return Vt=function(){return e},e}function Zt(){var e=Object(Tn.a)(["\n    margin-top: 4rem;\n"]);return Zt=function(){return e},e}var $t=Object(_n.b)(zn)(Zt()),Qt=_n.b.div(Vt(),An.gray[2]),Yt=_n.b.div(qt(),An.gray[8]),er=function(e){var n=e.post,t=e.error,r=e.loading,o=e.actionButtons;if(t)return t.response&&404===t.response.status?a.a.createElement($t,null," \ud3ec\uc2a4\ud2b8\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4!"):a.a.createElement($t,null,"\uc624\ub958 \ubc1c\uc0dd!!");if(r||!n)return null;var c=n.title,i=n.level,u=n.time,l=n.body,s=n.user,m=n.publishedDate,f=n.tags;return a.a.createElement($t,null,a.a.createElement(Qt,null,a.a.createElement("h1",null,c),a.a.createElement(ot,{username:s.username,level:i,time:u,publishedDate:m,hasMarginTop:!0}),a.a.createElement(ut,{tags:f})),o,a.a.createElement(Yt,{dangerouslySetInnerHTML:{__html:l}}))};function nr(){var e=Object(Tn.a)(["\n    height: 2rem;\n    & + & {\n        margin-left: 0.75rem;\n    }\n"]);return nr=function(){return e},e}function tr(){var e=Object(Tn.a)(["\n    width: 320px;\n    background: white;\n    padding: 1.5rem;\n    border-radius: 4px;\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.125);\n    h2 {\n        margin-top: 0;\n        margin-bottom: 1rem;\n    }\n    p {\n        margin-bottom: 3rem;\n    }\n    .buttons {\n        display: flex;\n        justify-content: flex-end;\n    }\n"]);return tr=function(){return e},e}function rr(){var e=Object(Tn.a)(["\n    position: fixed;\n    z-index: 30;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.25);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return rr=function(){return e},e}var ar=_n.b.div(rr()),or=_n.b.div(tr()),cr=Object(_n.b)(Kn)(nr()),ir=function(e){var n=e.visible,t=e.title,r=e.description,o=e.confirmText,c=void 0===o?"\ud655\uc778":o,i=e.cancelText,u=void 0===i?"\ucde8\uc18c":i,l=e.onConfirm,s=e.onCancel;return n?a.a.createElement(ar,null,a.a.createElement(or,null,a.a.createElement("h2",null,t),a.a.createElement("p",null,r),a.a.createElement("div",{className:"buttons"},a.a.createElement(cr,{onClick:s},u),a.a.createElement(cr,{onClick:l,cyan:!0},c)))):null},ur=function(e){var n=e.visible,t=e.onConfirm,r=e.onCancel;return a.a.createElement(ir,{visible:n,title:"\ud3ec\uc2a4\ud2b8 \uc0ad\uc81c",description:"\ud3ec\uc2a4\ud2b8\ub97c \uc815\ub9d0 \uc0ad\uc81c\ud558\uc2e4\uac74\uac00\uc694?",confirmText:"\uc0ad\uc81c",onConfirm:t,onCancel:r})};function lr(){var e=Object(Tn.a)(["\n    padding: 0.25rem 0.5rem;\n    border-radius: 4px;\n    color: ",";\n    font-weight: bold;\n    border: none;\n    outline: none;\n    font-size: 0.875rem;\n    cursor: pointer;\n    &:hover {\n        background: ",";\n        color: ",";\n    }\n    & + & {\n        margin-left: 0.25rem;\n    }\n"]);return lr=function(){return e},e}function sr(){var e=Object(Tn.a)(["\n    display: flex;\n    justify-content: flex-end;\n    margin-bottom: 2rem;\n    margin-top: 1.5rem;\n"]);return sr=function(){return e},e}var mr=_n.b.div(sr()),fr=_n.b.button(lr(),An.gray[6],An.gray[1],An.cyan[7]),br=function(e){var n=e.onEdit,t=e.onRemove,o=Object(r.useState)(!1),c=Object(O.a)(o,2),i=c[0],u=c[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(mr,null,a.a.createElement(fr,{onClick:n},"\uc218\uc815"),a.a.createElement(fr,{onClick:function(){u(!0)}},"\uc0ad\uc81c")),a.a.createElement(ur,{visible:i,onConfirm:function(){u(!1),t()},onCancel:function(){u(!1)}}))},dr=Object(Sn.e)((function(e){var n=e.match,t=e.history,o=n.params.postId,c=Object(l.c)(),i=Object(l.d)((function(e){var n=e.post,t=e.loading,r=e.user;return{post:n.post,error:n.error,loading:t["post/READ_POST"],user:r.user}})),u=i.post,s=i.error,m=i.loading,f=i.user,b=(f&&f._id)===(u&&u.user._id);Object(r.useEffect)((function(){return c(Ke(o)),function(){c(We())}}),[c,o]);var g=function(){var e=Object(Jt.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n=o,_.delete("/api/posts/".concat(n));case 3:t.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}var n}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(er,{post:u,error:s,loading:m,actionButtons:b&&a.a.createElement(br,{onEdit:function(){c(Ie(u)),t.push("/write")},onRemove:g})})})),gr=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(nt,null),a.a.createElement(dr,null))},pr=t(59),vr=t.n(pr);t(96);function Or(){var e=Object(Tn.a)(["\n    /* \uc5d0\ub514\ud130 \ucd5c\uc18c \ud06c\uae30 \uc9c0\uc815 \ubc0f padding \uc81c\uac70 */\n    .qu-editor {\n        padding: 0;\n        min-height: 320px;\n        font-size: 1.125rem;\n        line-height: 1.5;\n    }\n    .ql-editor.ql-blank:before {\n        left: 0px;\n    }\n"]);return Or=function(){return e},e}function hr(){var e=Object(Tn.a)(["\n    p {\n        margin: 0;\n        margin-bottom: 0.5rem;\n        font-size: 1.25rem;\n        font-weight: bold;\n    }\n"]);return hr=function(){return e},e}function jr(){var e=Object(Tn.a)(["\n    font-size: 3rem;\n    outline: none;\n    padding-bottom: 0.5rem;\n    border: none;\n    border-bottom: 1px solid ",";\n    margin-bottom: 2rem;\n    width: 100%;\n"]);return jr=function(){return e},e}function Er(){var e=Object(Tn.a)(["\n    padding: 5rem 0;\n"]);return Er=function(){return e},e}var yr=Object(_n.b)(zn)(Er()),wr=_n.b.input(jr(),An.gray[4]),kr=_n.b.div(hr()),Cr=_n.b.div(Or()),xr=a.a.memo((function(e){var n=e.title,t=e.body,o=e.level,c=e.time,i=e.onChangeField,u=Object(r.useRef)(null),l=Object(r.useRef)(null),s=Object(r.useRef)(!1);Object(r.useEffect)((function(){l.current=new vr.a(u.current,{theme:"bubble",placeholder:"\ub0b4\uc6a9\uc744 \uc791\uc131\ud558\uc138\uc694!",modules:{toolbar:[[{header:"1"},{header:"2"}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["blockquote","code-block","link","image"]]}});var e=l.current;e.on("text-change",(function(n,t,r){"user"===r&&i({key:"body",value:e.root.innerHTML})}))}),[i]),Object(r.useEffect)((function(){s.current||(s.current=!0,l.current.root.innerHTML=t)}),[t]);var m=Object(r.useCallback)((function(e){i({key:"title",value:e.target.value})}),[i]);return a.a.createElement(yr,null,a.a.createElement(wr,{value:n,onChange:m,placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694!"}),a.a.createElement(kr,null,a.a.createElement("p",null,"\ub09c\uc774\ub3c4: ",o),a.a.createElement("p",null,"\ud074\ub9ac\uc5b4 \ud0c0\uc784: ",c)),a.a.createElement(Cr,null,a.a.createElement("div",{ref:u})))})),Sr=Object(Sn.e)((function(e){var n=e.history,t=Object(l.c)(),o=Object(l.d)((function(e){var n=e.user,t=e.write,r=e.game;return{user:n.user,title:t.title,body:t.body,level:r.level?r.level:t.originalLevel,time:r.time?r.time:t.originalTime}}),l.b),c=o.user,i=o.title,u=o.body,s=o.level,m=o.time,f=Object(r.useCallback)((function(e){return t(_e(e))}),[t]);return Object(r.useEffect)((function(){return null!==c&&null!==m||(alert("\uc62c\ubc14\ub978 \uc811\uadfc\uc774 \uc544\ub2d9\ub2c8\ub2e4!!!"),n.push("/")),function(){t(Te())}}),[t,c,m,n]),a.a.createElement(xr,{title:i,body:u,level:s,time:m,onChangeField:f})})),Tr=t(60);function _r(){var e=Object(Tn.a)(["\n    display: flex;\n    margin-top: 0.5rem;\n"]);return _r=function(){return e},e}function Ir(){var e=Object(Tn.a)(["\n    margin-right: 0.5rem;\n    color: ",";\n    cursor: pointer;\n    $:hover {\n        opacity: 0.5;\n    }\n"]);return Ir=function(){return e},e}function Nr(){var e=Object(Tn.a)(["\n    border-radius: 4px;\n    overflow: hidden;\n    display: flex;\n    width: 256px;\n    border: 1px solid ",";\n    input, button {\n        outline: none;\n        border: none;\n        font-size: 1rem;\n    }\n    \n    input {\n        padding: 0.5rem;\n        flex: 1;\n        min-width: 0;\n    }\n    \n    button {\n        cursor: pointer;\n        padding: 0 1rem;\n        border: none;\n        background: ",";\n        color: white;\n        font-weight: bold;\n        &:hover {\n            background: ",";\n        }\n    }\n"]);return Nr=function(){return e},e}function Lr(){var e=Object(Tn.a)(["\n    width: 100%;\n    border-top: 1px solid ",";\n    padding-top: 2rem;\n    \n    h4 {\n        color: ",";\n        margin-top: 0;\n        margin-bottom: 0.5rem;\n    }\n"]);return Lr=function(){return e},e}var zr=_n.b.div(Lr(),An.gray[2],An.gray[8]),Ar=_n.b.form(Nr(),An.gray[9],An.gray[8],An.gray[6]),Rr=_n.b.div(Ir(),An.gray[6]),Fr=_n.b.div(_r()),Dr=a.a.memo((function(e){var n=e.tag,t=e.onRemove;return a.a.createElement(Rr,{onClick:function(){return t(n)}},"#",n)})),Pr=a.a.memo((function(e){var n=e.tags,t=e.onRemove;return a.a.createElement(Fr,null,n.map((function(e){return a.a.createElement(Dr,{key:e,tag:e,onRemove:t})})))})),Mr=a.a.memo((function(e){var n=e.tags,t=e.onChangeTags,o=Object(r.useState)(""),c=Object(O.a)(o,2),i=c[0],u=c[1],l=Object(r.useState)([]),s=Object(O.a)(l,2),m=s[0],f=s[1],b=Object(r.useCallback)((function(e){if(e&&!m.includes(e)){var n=[].concat(Object(Tr.a)(m),[e]);f(n),t(n)}}),[m,t]),d=Object(r.useCallback)((function(e){var n=m.filter((function(n){return n!==e}));f(n),t(n)}),[m,t]),g=Object(r.useCallback)((function(e){u(e.target.value)}),[]),p=Object(r.useCallback)((function(e){e.preventDefault(),b(i.trim()),u("")}),[i,b]);return Object(r.useEffect)((function(){f(n)}),[n]),a.a.createElement(zr,null,a.a.createElement("h4",null,"\ud0dc\uadf8"),a.a.createElement(Ar,{onSubmit:p},a.a.createElement("input",{value:i,onChange:g,placeholder:"\ud0dc\uadf8\ub97c \uc785\ub825\ud558\uc138\uc694"}),a.a.createElement("button",{type:"submit"},"\ucd94\uac00")),a.a.createElement(Pr,{tags:m,onRemove:d}))})),Hr=function(){var e=Object(l.c)(),n=Object(l.d)((function(e){return e.write.tags})),t=Object(r.useCallback)((function(n){e(_e({key:"tags",value:n}))}),[e]);return a.a.createElement(Mr,{onChangeTags:t,tags:n})};function Br(){var e=Object(Tn.a)(["\n    height: 2.125rem;\n    & + & {\n        margin-left: 0.5rem;\n    }\n"]);return Br=function(){return e},e}function Gr(){var e=Object(Tn.a)(["\n    margin-top: 1rem;\n    margin-bottom: 3rem;\n    button + button {\n        margin-left: 0.5rem;\n    }\n"]);return Gr=function(){return e},e}var Ur=_n.b.div(Gr()),Xr=Object(_n.b)(Kn)(Br()),Kr=a.a.memo((function(e){var n=e.onCancel,t=e.onPublished,r=e.isEdit;return a.a.createElement(Ur,null,a.a.createElement(Xr,{cyan:!0,onClick:t},"\ud3ec\uc2a4\ud2b8 ",r?"\uc218\uc815":"\ub4f1\ub85d"),a.a.createElement(Xr,{onClick:n},"\ucde8\uc18c"))})),Wr=Object(Sn.e)((function(e){var n=e.history,t=Object(l.c)(),o=Object(l.d)((function(e){var n=e.write,t=e.game;return{title:n.title,body:n.body,tags:n.tags,post:n.post,postError:n.postError,originalPostId:n.originalPostId,level:t.level,time:t.time}}),l.b),c=o.title,i=o.body,u=o.tags,s=o.post,m=o.postError,f=o.originalPostId,b=o.level,d=o.time,g=Object(r.useCallback)((function(){t(f?Le({id:f,title:c,body:i,tags:u}):Ne({title:c,level:b,time:d,body:i,tags:u}))}),[t,f,c,b,d,i,u]),p=Object(r.useCallback)((function(){n.goBack()}),[n]);return Object(r.useEffect)((function(){if(s){var e=s._id,t=s.user;n.push("/@".concat(t.username,"/").concat(e))}m&&console.log(m)}),[n,s,m]),a.a.createElement(Kr,{onPublished:g,onCancel:p,isEdit:!!f})})),Jr=function(){return a.a.createElement(zn,null,a.a.createElement(Sr,null),a.a.createElement(Hr,null),a.a.createElement(Wr,null))},qr=(t(97),a.a.memo((function(e){var n=e.content;return a.a.createElement("div",{id:"game-root"},n)}))),Vr=(t(98),a.a.memo((function(e){var n=e.onStart,t=e.onLevelChange;return a.a.createElement("div",{id:"start-root"},a.a.createElement("div",{id:"start-select-div"},a.a.createElement("label",null,a.a.createElement("h3",null,"\uac8c\uc784 \ub09c\uc774\ub3c4")),a.a.createElement("select",{name:"level",onChange:t},a.a.createElement("option",{value:"\uc26c\uc6c0"},"\uc26c\uc6c0"),a.a.createElement("option",{value:"\ubcf4\ud1b5"},"\ubcf4\ud1b5"),a.a.createElement("option",{value:"\uc5b4\ub824\uc6c0"},"\uc5b4\ub824\uc6c0"))),a.a.createElement("div",{id:"start-btn-div"},a.a.createElement(Kn,{onClick:n},"\uc2dc\uc791")))}))),Zr=a.a.memo((function(){var e=Object(r.useRef)("\uc26c\uc6c0"),n=Object(l.c)(),t=Object(r.useCallback)((function(){var t,r,a=0,o=[];switch(e.current){case"\uc26c\uc6c0":t=10,r=80,a=10;break;case"\ubcf4\ud1b5":t=40,r=252,a=18;break;case"\uc5b4\ub824\uc6c0":t=90,r=480,a=24}for(var c=0;c<r;c++)o.push({id:c,val:0,isOpen:!1,flagSet:!1,isHighlight:!1});for(var i=0;i<t;i++){var u=Math.floor(Math.random()*r),l=[-a-1,-a,1-a,-1,1,a-1,a,a+1];if("X"!==o[u].val){o[u].val="X";for(var s=0;s<8;s++){var m=u+l[s];m>-1&&m<r&&"X"!==o[m].val&&!(u%a===0&&m%a===a-1||u%a===a-1&&m%a===0)&&o[m].val++}}else i--}n(dn({ground:o,size:r,width:a,mineNum:t}))}),[n]),o=Object(r.useCallback)((function(t){e.current=t.target.value,n(bn(t.target.value))}),[n]);return a.a.createElement(Vr,{onStart:t,onLevelChange:o})})),$r=t(18),Qr=t.n($r),Yr=(t(99),function(e){var n=e.space,t=e.width,r=e.onBlockOpen,o=e.onMouseDownAction,c=e.onMouseUpAction;return a.a.createElement("button",{id:n.id,className:Qr()("block",n.isOpen?"open-block val-"+n.val:"closed-block",n.isHighlight&&"highlight",18===t?"normal":24===t&&"hard"),onClick:function(){return r(n.id)},onMouseDown:function(e){return o(e,n.id)},onMouseUp:function(e){return c(e,n.id)},onContextMenu:function(e){return e.preventDefault()},onAuxClick:function(e){return e.preventDefault()},onWheel:function(e){return e.preventDefault()}},n.isOpen?n.val>0?n.val:"X"===n.val&&a.a.createElement("img",{src:"images/mine.png",alt:"\uc9c0\ub8b0"}):n.flagSet&&"\u2718")}),ea=a.a.memo((function(e){var n=e.isFinish,t=e.space,o=e.width,c=Object(l.c)(),i=Object(r.useCallback)((function(){n||t.isOpen||("X"===t.val?c(En("Game Over...")):0===t.val?(c(gn(t.id)),c(pn(t.id))):c(gn(t.id)))}),[c,n,t]),u=Object(r.useCallback)((function(e){n||t.isOpen||2!==e.button?!n&&t.isOpen&&1===e.button&&c(hn(t.id)):c(On(t.id))}),[c,n,t]),s=Object(r.useCallback)((function(e){!n&&t.isOpen&&1===e.button&&c(jn(t.id))}),[c,n,t]);return a.a.createElement(Yr,{space:t,width:o,onBlockOpen:i,onMouseDownAction:u,onMouseUpAction:s})}),(function(e,n){return e.space.isOpen===n.space.isOpen&&e.space.flagSet===n.space.flagSet&&e.space.isHighlight===n.space.isHighlight})),na=function(e){var n=e.visible,t=e.finishText,r=e.description,o=e.onConfirm,c=e.onCancel;return a.a.createElement(ir,{visible:n,title:t,description:r,confirmText:t,onConfirm:o,onCancel:c})};function ta(){var e=Object(Tn.a)(["\n    width: 450px;\n    background: white;\n    padding: 1.5rem;\n    border-radius: 4px;\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.125);\n    text-align: center;\n    h2 {\n        margin-top: 0;\n        margin-bottom: 1rem;\n    }\n    .tutorial_image {\n        margin-bottom: 1rem;\n        .disabled {\n            display: none;\n        }\n        div {\n            margin-bottom: 0.5rem;\n        }\n        button + button {\n            margin-left: 1rem;\n        }\n    }\n    .tutorial_button {\n        display: flex;\n        justify-content: flex-end;\n        margin: 0;\n    }\n    \n    @media (max-width: 750px) {\n        font-size: 0.8rem;\n        h2 {\n            font-size: 1.2rem;\n        }\n        width: 300px;\n        & img {\n            width: 250px;\n        }\n    }\n"]);return ta=function(){return e},e}function ra(){var e=Object(Tn.a)(["\n    position: fixed;\n    z-index: 30;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.25);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return ra=function(){return e},e}var aa=_n.b.div(ra()),oa=_n.b.div(ta()),ca=a.a.memo((function(e){var n=e.visible,t=e.onCancel,o=Object(r.useState)(1),c=Object(O.a)(o,2),i=c[0],u=c[1],l=Object(r.useCallback)((function(){u((function(e){return e-1}))}),[]),s=Object(r.useCallback)((function(){u((function(e){return e+1}))}),[]);return n&&"done"!==localStorage.getItem("tutorial")?a.a.createElement(aa,null,a.a.createElement(oa,null,a.a.createElement("h2",null,"\uc870\uc791 \ubc29\ubc95"),a.a.createElement("div",{className:"tutorial_image"},a.a.createElement("div",{className:Qr()(1!==i&&"disabled")},a.a.createElement("p",null,"\uc88c\ud074\ub9ad\uc744 \ud558\uc2dc\uba74 \ube14\ub85d\uc774 \uc5f4\ub9bd\ub2c8\ub2e4!"),a.a.createElement("img",{src:"images/left_click.gif",alt:"\uc88c\ud074\ub9ad \uc774\ubbf8\uc9c0"})),a.a.createElement("div",{className:Qr()(2!==i&&"disabled")},a.a.createElement("p",null,"\uc6b0\ud074\ub9ad\uc744 \ud558\uc2dc\uba74 \uc9c0\ub8b0 \uc704\uce58\ub97c \uc9c0\uc815\ud569\ub2c8\ub2e4!"),a.a.createElement("img",{src:"images/right_click.gif",alt:"\uc6b0\ud074\ub9ad \uc774\ubbf8\uc9c0"})),a.a.createElement("div",{className:Qr()(3!==i&&"disabled")},a.a.createElement("p",null,"\ud720\ubc84\ud2bc\uc744 \ud074\ub9ad\ud558\uc2dc\uba74 \uc8fc\uc704\uc758 \ube14\ub85d\uc744 \ud558\uc774\ub77c\uc774\ud2b8\ud569\ub2c8\ub2e4!"),a.a.createElement("img",{src:"images/wheel_click_highlight.gif",alt:"\ud720\ud074\ub9ad \uc774\ubbf8\uc9c0"})),a.a.createElement("div",{className:Qr()(4!==i&&"disabled")},a.a.createElement("p",null,"\ud720\ubc84\ud2bc\uc740 \ub0a8\uc740 \ube14\ub85d\uc744 \ud55c\ubc88\uc5d0 \uc5f4 \uc218 \uc788\uc2b5\ub2c8\ub2e4!"),a.a.createElement("img",{src:"images/wheel_click_open.gif",alt:"\ud720\ud074\ub9ad \uc774\ubbf8\uc9c0"})),a.a.createElement("div",{className:Qr()(5!==i&&"disabled")},a.a.createElement("p",null,"\ube14\ub85d\uc744 \ud55c\ubc88\uc5d0 \uc5f4 \ub54c \uc9c0\ub8b0\uac00 \uc788\uc73c\uba74 \uac8c\uc784\uc774 \ub05d\ub0a9\ub2c8\ub2e4!"),a.a.createElement("img",{src:"images/wheel_click_open_mine.gif",alt:"\ud720\ud074\ub9ad \uc774\ubbf8\uc9c0"})),a.a.createElement(Kn,{disabled:1===i,onClick:l},"\uc774\uc804"),a.a.createElement(Kn,{disabled:5===i,onClick:s},"\ub2e4\uc74c")),a.a.createElement("div",{className:"tutorial_button"},a.a.createElement(Kn,{onClick:t},"\ucc3d \ub2eb\uae30")))):null})),ia=(t(100),a.a.memo((function(e){var n=e.isFinish,t=e.isClear,o=e.ground,c=e.width,i=e.mineNum,u=e.onRestart,l=e.onClear,s=Object(r.useState)(!1),m=Object(O.a)(s,2),f=m[0],b=m[1],d=Object(r.useState)(!1),g=Object(O.a)(d,2),p=g[0],v=g[1],h=Object(r.useState)(!0),j=Object(O.a)(h,2),E=j[0],y=j[1],w=Object(r.useCallback)((function(){localStorage.setItem("tutorial","done"),y(!1)}),[]),k=Object(r.useCallback)((function(){v(!0)}),[]),C=Object(r.useCallback)((function(){v(!1)}),[]),x=Object(r.useCallback)((function(){b(!0)}),[]),S=Object(r.useCallback)((function(){b(!1)}),[]);return a.a.createElement("div",{id:"board-root"},a.a.createElement("div",{id:"board-minNum-div"},a.a.createElement("h2",null,t||"\uc9c0\ub8b0 \uac1c\uc218 : "+i+"\uac1c")),a.a.createElement("div",{className:Qr()("board",18===c?"normal":24===c&&"hard")},o.map((function(e){return a.a.createElement(ea,{key:e.id,isFinish:n,space:e,width:c})}))),a.a.createElement(ca,{visible:E,onCancel:w}),n&&a.a.createElement("div",{className:Qr()("board-restart")},a.a.createElement(Kn,{onClick:k},"\ub2e4\uc2dc \uc2dc\uc791"),a.a.createElement(na,{visible:p,finishText:"\ub2e4\uc2dc \uc2dc\uc791",description:"\uac8c\uc784\uc744 \ub2e4\uc2dc \uc2dc\uc791\ud558\uc2e4 \uac74\uac00\uc694?",onConfirm:u,onCancel:C}),"Game Clear!!!"===t&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Kn,{onClick:x,marginTop:"1rem"},"\uae30\ub85d \uc800\uc7a5\ud558\uae30"),a.a.createElement(na,{visible:f,finishText:"\uae30\ub85d \uc800\uc7a5",description:"\uae30\ub85d\uc744 \uc800\uc7a5\ud558\uc2e4 \uac74\uac00\uc694?",onConfirm:l,onCancel:S}))))}),(function(e,n){return e.ground===n.ground}))),ua=Object(Sn.e)((function(e){var n=e.history,t=Object(l.c)(),o=Object(l.d)((function(e){var n=e.game;return{isStart:n.isStart,isClear:n.isClear,isFinish:n.isFinish,ground:n.ground,size:n.size,width:n.width,mineNum:n.mineNum,openBlockNum:n.openBlockNum}}),l.b),c=o.isStart,i=o.isClear,u=o.isFinish,s=o.ground,m=o.size,f=o.width,b=o.mineNum,d=o.openBlockNum,g=Object(r.useCallback)((function(){t(fn())}),[t]),p=Object(r.useCallback)((function(){n.push("/write")}),[n]);return Object(r.useEffect)((function(){var e=s.filter((function(e){return!0===e.isOpen}));e.length!==d&&t(vn(e.length))}),[t,s,d]),Object(r.useEffect)((function(){b===m-d&&c&&!u&&t(En("Game Clear!!!"))}),[t,c,u,m,b,d]),a.a.createElement(ia,{isFinish:u,isClear:i,ground:s,width:f,mineNum:b,openBlockNum:d,onRestart:g,onClear:p})})),la=Object(Sn.e)((function(e){var n=e.history,t=Object(l.c)(),o=Object(l.d)((function(e){var n=e.game,t=e.user;return{isStart:n.isStart,user:t.user}}),l.b),c=o.isStart,i=o.user;return Object(r.useEffect)((function(){null===i&&(alert("\uc62c\ubc14\ub978 \uc811\uadfc\uc774 \uc544\ub2d9\ub2c8\ub2e4!!!"),n.push("/")),t(fn())}),[t,i,n]),a.a.createElement(qr,{content:c?a.a.createElement(ua,null):a.a.createElement(Zr,null)})})),sa=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(nt,null),a.a.createElement(la,null))},ma=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn.a,{component:St,path:["/@:username","/"],exact:!0}),a.a.createElement(Sn.a,{component:Xt,path:"/register"}),a.a.createElement(Sn.a,{component:Wt,path:"/login"}),a.a.createElement(Sn.a,{component:gr,path:"/@:username/:postId"}),a.a.createElement(Sn.a,{component:Jr,path:"/write"}),a.a.createElement(Sn.a,{component:sa,path:"/game"}))},fa=(t(101),Object(f.a)()),ba=Object(s.createStore)(xn,Object(m.composeWithDevTools)(Object(s.applyMiddleware)(fa)));fa.run(Cn),function(){try{var e=localStorage.getItem("user");if(!e)return;ba.dispatch(ce(e)),ba.dispatch(ie())}catch(n){console.log("localStorage is not working...")}}(),c.a.render(a.a.createElement(l.a,{store:ba},a.a.createElement(u.a,null,a.a.createElement(ma,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},63:function(e,n,t){e.exports=t(102)},97:function(e,n,t){},98:function(e,n,t){},99:function(e,n,t){}},[[63,1,2]]]);
//# sourceMappingURL=main.76b6049d.chunk.js.map