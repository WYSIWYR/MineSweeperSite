(this.webpackJsonpmss=this.webpackJsonpmss||[]).push([[0],{100:function(e,n,t){},101:function(e,n,t){},102:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(30),c=t.n(o),i=(t(68),t(23)),u=t(6),l=t(2),s=t(3),m=t(10),f=t(50);function b(){var e=Object(l.a)(["\n    padding: 0 1rem;\n    width: 1024px;\n    height: 100%;\n    margin: 0 auto;\n    \n    @media(max-width: 1024px) {\n        width: 768px;\n    }\n    \n    @media(max-width: 768px) {\n        width: 100%;\n    }    \n"]);return b=function(){return e},e}var d=s.b.div(b()),p=function(e){var n=e.children,t=Object(f.a)(e,["children"]);return a.a.createElement(d,t,n)},g={gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"]};function v(){var e=Object(l.a)(["\n    ","\n"]);return v=function(){return e},e}function O(){var e=Object(l.a)(["\n    ","\n"]);return O=function(){return e},e}function j(){var e=Object(l.a)(["\n        display: block;\n        "]);return j=function(){return e},e}function h(){var e=Object(l.a)(["\n            margin-top: ",";\n        "]);return h=function(){return e},e}function E(){var e=Object(l.a)(["\n            background: ",";\n            &:hover {\n                background: ",";\n            }\n        "]);return E=function(){return e},e}function y(){var e=Object(l.a)(["\n            padding-top: 0.75rem;\n            padding-bottom: 0.75rem;\n            width: 100%;\n            font-size: 1.125rem;\n        "]);return y=function(){return e},e}function w(){var e=Object(l.a)(["\n    border: none;\n    border-radius: 4px;\n    font-size: 1rem;\n    font-weight: bold;\n    padding: 0.25rem 1rem;\n    color: white;\n    outline: none;\n    cursor: pointer;\n    \n    background: ",";\n    &:hover {\n        background: ",";\n    }\n    ","\n    ","\n    ","\n    ","\n    &:disabled {\n        background: ",";\n        color: ",";\n        cursor: not-allowed;\n    }\n"]);return w=function(){return e},e}var k=Object(s.a)(w(),g.gray[8],g.gray[6],(function(e){return e.fullWidth&&Object(s.a)(y())}),(function(e){return e.cyan&&Object(s.a)(E(),g.cyan[5],g.cyan[4])}),(function(e){return e.marginTop&&Object(s.a)(h(),e.marginTop)}),(function(e){return e.block&&Object(s.a)(j())}),g.gray[3],g.gray[5]),x=s.b.button(O(),k),S=Object(s.b)(m.b)(v(),k),C=function(e){return e.to?a.a.createElement(S,Object.assign({},e,{cyan:e.cyan?1:0})):a.a.createElement(x,e)};function T(){var e=Object(l.a)(["\n    font-weight: 800;\n    margin-right: 1rem;\n"]);return T=function(){return e},e}function I(){var e=Object(l.a)(["\n    height: 4rem;\n"]);return I=function(){return e},e}function _(){var e=Object(l.a)(["\n    height: 4rem;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    .logo {\n        font-size: 1.125rem;\n        font-weight: 800;\n        letter-spacing: 2px;\n    }\n    .right {\n        display: flex;\n        align-items: center;\n    }\n"]);return _=function(){return e},e}function N(){var e=Object(l.a)(["\n    position: fixed;\n    width: 100%;\n    background: white;\n    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.08);\n"]);return N=function(){return e},e}var L,A,F=s.b.div(N()),z=Object(s.b)(p)(_()),M=s.b.div(I()),R=s.b.div(T()),P=a.a.memo((function(e){var n=e.user,t=e.onLogout;return a.a.createElement(a.a.Fragment,null,a.a.createElement(F,null,a.a.createElement(z,null,a.a.createElement(m.b,{to:"/",className:"logo"},"MineSweeper"),n?a.a.createElement("div",{className:"right"},a.a.createElement(R,null,n.username),a.a.createElement(C,{onClick:t},"\ub85c\uadf8\uc544\uc6c3")):a.a.createElement("div",{className:"right"},a.a.createElement(C,{to:"/login"},"\ub85c\uadf8\uc778")))),a.a.createElement(M,null))})),D=t(4),G=t(8),H=t(11),B=t.n(H),U=t(12),W=t(104),X=t(103),K=t(13),q=t(55),J=t.n(q).a.create(),V=function(){return J.post("/api/auth/logout")},Z=Object(W.a)("loading/START_LOADING",(function(e){return e})),$=Object(W.a)("loading/FINISH_LOADING",(function(e){return e})),Q=Object(X.a)((L={},Object(D.a)(L,"loading/START_LOADING",(function(e,n){return Object(G.a)({},e,Object(D.a)({},n.payload,!0))})),Object(D.a)(L,"loading/FINISH_LOADING",(function(e,n){return Object(G.a)({},e,Object(D.a)({},n.payload,!1))})),L),{}),Y=function(e){return[e,"".concat(e,"_SUCCESS"),"".concat(e,"_FAILURE")]};function ee(e,n){var t="".concat(e,"_SUCCESS"),r="".concat(e,"_FAILURE");return B.a.mark((function a(o){var c;return B.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(K.c)(Z(e));case 2:return a.prev=2,a.next=5,Object(K.b)(n,o.payload);case 5:return c=a.sent,a.next=8,Object(K.c)({type:t,payload:c.data,meta:c});case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(2),a.next=14,Object(K.c)({type:r,payload:a.t0,error:!0});case 14:return a.next=16,Object(K.c)($(e));case 16:case"end":return a.stop()}}),a,null,[[2,10]])}))}var ne=B.a.mark(be),te=B.a.mark(de),re=Y("user/CHECK"),ae=Object(U.a)(re,3),oe=ae[0],ce=ae[1],ie=ae[2],ue=Object(W.a)("user/TEMP_SET_USER",(function(e){return e})),le=Object(W.a)(oe),se=Object(W.a)("user/LOGOUT"),me=ee(oe,(function(){return J.get("/api/auth/check")}));function fe(){try{localStorage.removeItem("user")}catch(e){console.log("localStorage is not working")}}function be(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(K.b)(V);case 3:localStorage.removeItem("user"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),ne,null,[[0,6]])}function de(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.d)(oe,me);case 2:return e.next=4,Object(K.d)(ie,fe);case 4:return e.next=6,Object(K.d)("user/LOGOUT",be);case 6:case"end":return e.stop()}}),te)}var pe=Object(X.a)((A={},Object(D.a)(A,"user/TEMP_SET_USER",(function(e,n){var t=n.payload;return Object(G.a)({},e,{user:t})})),Object(D.a)(A,ce,(function(e,n){var t=n.payload;return Object(G.a)({},e,{user:t})})),Object(D.a)(A,ie,(function(e,n){var t=n.payload;return Object(G.a)({},e,{checkError:t})})),Object(D.a)(A,"user/LOGOUT",(function(e){return Object(G.a)({},e,{user:null})})),A),{user:null,checkError:null}),ge=a.a.memo((function(){var e=Object(u.d)((function(e){return{user:e.user.user}}),u.b).user,n=Object(u.c)();return a.a.createElement(P,{user:e,onLogout:function(){n(se())}})})),ve=t(21),Oe=t.n(ve);function je(){var e=Object(l.a)(["\n            margin-top: 1rem;\n        "]);return je=function(){return e},e}function he(){var e=Object(l.a)(["\n    ","\n    color: ",";\n    \n    span + span:before {\n        color: ",";\n        padding: 0 0.25rem;\n        content: '\\B7'; /* \uac00\uc6b4\ub383\uc810 \ubb38\uc790 */\n    }\n"],["\n    ","\n    color: ",";\n    \n    span + span:before {\n        color: ",";\n        padding: 0 0.25rem;\n        content: '\\\\B7'; /* \uac00\uc6b4\ub383\uc810 \ubb38\uc790 */\n    }\n"]);return he=function(){return e},e}var Ee=s.b.div(he(),(function(e){return e.hasMarginTop&&Object(s.a)(je())}),g.gray[6],g.gray[5]),ye=function(e){var n=e.username,t=e.level,r=e.time,o=e.publishedDate,c=e.hasMarginTop;return a.a.createElement(Ee,{hasMarginTop:c},a.a.createElement("span",null,a.a.createElement("b",null,a.a.createElement(m.b,{to:"/@".concat(n)},n))),a.a.createElement("span",null,a.a.createElement(m.b,{to:"/?level=".concat(t)},"\ub09c\uc774\ub3c4: ",t)),a.a.createElement("span",null,"\ud074\ub9ac\uc5b4 \ud0c0\uc784: ",r),a.a.createElement("span",null,"\ud50c\ub808\uc774 \ub0a0\uc9dc: ",new Date(o).toLocaleDateString()))};function we(){var e=Object(l.a)(["\n    margin-top: 0.5rem;\n    .tag{\n        display: inline-block;\n        color: ",";\n        text-decoration: none;\n        margin-right: 0.5rem;\n        &:hover {\n            color: ","\n        }\n    }\n"]);return we=function(){return e},e}var ke=s.b.div(we(),g.gray[7],g.cyan[6]),xe=function(e){var n=e.tags;return a.a.createElement(ke,null,n.map((function(e){return a.a.createElement(m.b,{className:"tag",to:"/?tag=".concat(e),key:e},"#",e)})))};function Se(){var e=Object(l.a)(["\n    padding: 3rem 0;\n    &:first-child {\n        padding-top: 0;\n    }\n    & + & {\n        border-top: 1px solid ",";\n    }\n    \n    h2 {\n        font-size: 2rem;\n        margin-bottom: 0;\n        margin-top: 0;\n        &:hover {\n            color: ",";\n        }\n    }\n    p {\n       margin-top: 1.5rem;\n    }\n"]);return Se=function(){return e},e}function Ce(){var e=Object(l.a)(["\n    display: flex;\n    justify-content: flex-end;\n    margin-bottom: 3rem;\n"]);return Ce=function(){return e},e}function Te(){var e=Object(l.a)(["\n    margin-top: 3rem\n"]);return Te=function(){return e},e}var Ie,_e=Object(s.b)(p)(Te()),Ne=s.b.div(Ce()),Le=s.b.div(Se(),g.gray[2],g.gray[6]),Ae=function(e){var n=e.post,t=n._id,r=n.title,o=n.level,c=n.time,i=n.body,u=n.user,l=n.publishedDate,s=n.tags;return a.a.createElement(Le,null,a.a.createElement("h2",null,a.a.createElement(m.b,{to:"/@".concat(u.username,"/").concat(t)},r)),a.a.createElement(ye,{username:u.username,level:o,time:c,publishedDate:l}),a.a.createElement(xe,{tags:s}),a.a.createElement("p",null,i))},Fe=function(e){var n=e.posts,t=e.error,r=e.loading,o=e.showStartButton;return t?a.a.createElement(_e,null,"\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4!"):a.a.createElement(_e,null,a.a.createElement(Ne,null,o&&a.a.createElement(C,{to:"/game",cyan:!0},"\uac8c\uc784 \uc2dc\uc791!")),a.a.createElement("div",null,!r&&n&&n.map((function(e){return a.a.createElement(Ae,{post:e,key:e._id})}))))},ze=B.a.mark(Ue),Me=Y("posts/LIST_POSTS"),Re=Object(U.a)(Me,3),Pe=Re[0],De=Re[1],Ge=Re[2],He=Object(W.a)(Pe,(function(e){return{page:e.page,username:e.username,tag:e.tag,level:e.level}})),Be=ee(Pe,(function(e){var n=e.page,t=e.username,r=e.tag,a=e.level,o=Oe.a.stringify({page:n,username:t,tag:r,level:a});return J.get("/api/posts?".concat(o))}));function Ue(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.d)(Pe,Be);case 2:case"end":return e.stop()}}),ze)}var We=Object(X.a)((Ie={},Object(D.a)(Ie,Pe,(function(e){return Object(G.a)({},e,{error:null})})),Object(D.a)(Ie,De,(function(e,n){var t=n.payload,r=n.meta;return Object(G.a)({},e,{posts:t,lastPage:parseInt(r.headers["last-page"],10)})})),Object(D.a)(Ie,Ge,(function(e,n){var t=n.payload;return Object(G.a)({},e,{error:t})})),Ie),{posts:null,error:null,lastPage:1}),Xe=Object(i.e)((function(e){var n=e.match,t=e.location,o=Object(u.c)(),c=Object(u.d)((function(e){var n=e.posts,t=e.loading,r=e.user;return{posts:n.posts,error:n.error,loading:t["posts/LIST_POSTS"],user:r.user}})),i=c.posts,l=c.error,s=c.loading,m=c.user;return Object(r.useEffect)((function(){var e=n.params.username,r=Oe.a.parse(t.search,{ignoreQueryPrefix:!0}),a=r.page,c=r.tag,i=r.level;o(He({page:a,username:e,tag:c,level:i}))}),[o,n.params,t.search]),a.a.createElement(Fe,{posts:i,error:l,loading:s,showStartButton:m})}));function Ke(){var e=Object(l.a)([""]);return Ke=function(){return e},e}function qe(){var e=Object(l.a)(["\n    width: 320px;\n    margin: 0 auto;\n    display: felx;\n    justify-content: space-between;\n    margin-bottom: 3rem;\n"]);return qe=function(){return e},e}var Je=s.b.div(qe()),Ve=s.b.div(Ke()),Ze=function(e){var n=e.page,t=e.username,r=e.tag,a=e.level,o=Oe.a.stringify({page:n,tag:r,level:a});return t?"/@".concat(t,"?").concat(o):"/?".concat(o)},$e=function(e){var n=e.page,t=e.lastPage,r=e.username,o=e.tag,c=e.level;return a.a.createElement(Je,null,a.a.createElement(C,{disabled:1===n,to:1===n?void 0:Ze({page:n-1,username:r,tag:o,level:c})},"\uc774\uc804"),a.a.createElement(Ve,null,n),a.a.createElement(C,{disabled:1===t||n===t,to:1===t?void 0:n===t?void 0:Ze({page:n+1,username:r,tag:o,level:c})},"\ub2e4\uc74c"))},Qe=Object(i.e)((function(e){var n=e.match,t=e.location,r=Object(u.d)((function(e){var n=e.posts,t=e.loading;return{posts:n.posts,loading:t["posts/LIST_POSTS"],lastPage:n.lastPage}})),o=r.posts,c=r.loading,i=r.lastPage;if(!o||c)return null;var l=n.params.username,s=Oe.a.parse(t.search,{ignoreQueryPrefix:!0}),m=s.page,f=void 0===m?"1":m,b=s.tag,d=s.level;return a.a.createElement($e,{page:parseInt(f,10),lastPage:parseInt(i,10),username:l,tag:b,level:d})})),Ye=function(){return a.a.createElement("div",null,a.a.createElement(ge,null),a.a.createElement(Xe,null),a.a.createElement(Qe,null))};function en(){var e=Object(l.a)(["\n    .logo-area{\n        display: block;\n        padding-bottom: 2rem;\n        text-align: center;\n        font-weight: bold;\n        letter-spacing: 2px;\n    }\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\n    padding: 2rem;\n    width: 360px;\n    background: white;\n    border-radius: 2px;\n"]);return en=function(){return e},e}function nn(){var e=Object(l.a)(["\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    background: ",";\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]);return nn=function(){return e},e}var tn,rn=s.b.div(nn(),g.gray[2]),an=s.b.div(en()),on=a.a.memo((function(e){var n=e.children;return a.a.createElement(rn,null,a.a.createElement(an,null,a.a.createElement("div",{className:"logo-area"},a.a.createElement(m.b,{to:"/"},"MineSweeper")),n))})),cn=t(20),un=B.a.mark(Sn),ln=Y("auth/REGISTER"),sn=Object(U.a)(ln,3),mn=sn[0],fn=sn[1],bn=sn[2],dn=Y("auth/LOGIN"),pn=Object(U.a)(dn,3),gn=pn[0],vn=pn[1],On=pn[2],jn=Object(W.a)("auth/CHANGE_FIELD",(function(e){return{form:e.form,key:e.key,value:e.value}})),hn=Object(W.a)("auth/ENTER_FORM",(function(e){return e})),En=Object(W.a)("auth/LEAVE_FORM"),yn=Object(W.a)(mn,(function(e){return{username:e.username,password:e.password}})),wn=Object(W.a)(gn,(function(e){return{username:e.username,password:e.password}})),kn=ee(mn,(function(e){var n=e.username,t=e.password;return J.post("/api/auth/register",{username:n,password:t})})),xn=ee(gn,(function(e){var n=e.username,t=e.password;return J.post("/api/auth/login",{username:n,password:t})}));function Sn(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.d)(mn,kn);case 2:return e.next=4,Object(K.d)(gn,xn);case 4:case"end":return e.stop()}}),un)}var Cn={register:{username:"",password:"",passwordConfirm:""},login:{username:"",password:""},initialize:"",auth:null,authError:null},Tn=Object(X.a)((tn={},Object(D.a)(tn,"auth/CHANGE_FIELD",(function(e,n){var t=n.payload,r=t.form,a=t.key,o=t.value;return Object(cn.a)(e,(function(e){e[r][a]=o}))})),Object(D.a)(tn,"auth/ENTER_FORM",(function(e,n){var t,r=n.payload;return Object(G.a)({},e,(t={},Object(D.a)(t,r,Cn[r]),Object(D.a)(t,"initialize",r),Object(D.a)(t,"auth",null),Object(D.a)(t,"authError",null),t))})),Object(D.a)(tn,"auth/LEAVE_FORM",(function(e){return Object(G.a)({},e,{initialize:"",auth:null,authError:null})})),Object(D.a)(tn,mn,(function(e){return Object(G.a)({},e,{auth:null,authError:null})})),Object(D.a)(tn,fn,(function(e,n){var t=n.payload;return Object(G.a)({},e,{auth:t})})),Object(D.a)(tn,bn,(function(e,n){var t=n.payload;return Object(G.a)({},e,{authError:t})})),Object(D.a)(tn,gn,(function(e){return Object(G.a)({},e,{auth:null,authError:null})})),Object(D.a)(tn,vn,(function(e,n){var t=n.payload;return Object(G.a)({},e,{auth:t})})),Object(D.a)(tn,On,(function(e,n){var t=n.payload;return Object(G.a)({},e,{authError:t})})),tn),Cn);function In(){var e=Object(l.a)(["\n    color: red;\n    text-align: center;\n    font-size: 0.875rem;\n    margin-top: 1rem;\n"]);return In=function(){return e},e}function _n(){var e=Object(l.a)(["\n    display: flex;\n    justify-content: space-between;\n    margin-top: 1rem;\n    a {\n        color: ",";\n        text-decoration: underline;\n        $:hover {\n        color: ",";\n    }\n"]);return _n=function(){return e},e}function Nn(){var e=Object(l.a)(["\n    font-size: 1rem;\n    border: none;\n    border-bottom: 1px solid ",";\n    padding-bottom: 0.5rem;\n    outline: none;\n    width: 100%;\n    &:focus {\n        color: $oc-teal-7;\n        border-bottom: 1px solid ",";\n    }\n    & + & {\n        margin-top: 1rem;\n    }\n"]);return Nn=function(){return e},e}function Ln(){var e=Object(l.a)(["\n    h3 {\n        margin: 0;\n        color: ",";\n        margin-bottom: 1rem;\n    }\n"]);return Ln=function(){return e},e}var An,Fn=s.b.div(Ln(),g.gray[8]),zn=s.b.input(Nn(),g.gray[5],g.gray[7]),Mn=s.b.div(_n(),g.gray[6],g.gray[9]),Rn={login:"\ub85c\uadf8\uc778",register:"\ud68c\uc6d0\uac00\uc785"},Pn=s.b.div(In()),Dn=a.a.memo((function(e){var n=e.type,t=e.form,r=e.onChange,o=e.onSubmit,c=e.error,i=Rn[n];return a.a.createElement(Fn,null,a.a.createElement("h3",null,i),a.a.createElement("form",{onSubmit:o},a.a.createElement(zn,{autoComplete:"username",name:"username",placeholder:"\uc544\uc774\ub514",onChange:r,value:t.username}),a.a.createElement(zn,{autoComplete:"new-password",name:"password",placeholder:"\ube44\ubc00\ubc88\ud638",type:"password",onChange:r,value:t.password}),"register"===n&&a.a.createElement(zn,{autoComplete:"new-password",name:"passwordConfirm",placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",type:"password",onChange:r,value:t.passwordConfirm}),c&&a.a.createElement(Pn,null,c),a.a.createElement(C,{cyan:!0,fullWidth:!0,marginTop:"1rem"},i)),a.a.createElement(Mn,null,a.a.createElement(m.b,{to:"/"},"\uba54\uc778 \ud654\uba74"),"login"===n?a.a.createElement(m.b,{to:"/register"},"\ud68c\uc6d0\uac00\uc785"):a.a.createElement(m.b,{to:"/login"},"\ub85c\uadf8\uc778")))})),Gn=Object(i.e)((function(e){var n=e.history,t=Object(r.useState)(null),o=Object(U.a)(t,2),c=o[0],i=o[1],l=Object(u.c)(),s=Object(u.d)((function(e){var n=e.auth,t=e.user;return{form:n.register,initialize:n.initialize,auth:n.auth,authError:n.authError,user:t.user}})),m=s.form,f=s.initialize,b=s.auth,d=s.authError,p=s.user;return Object(r.useEffect)((function(){return l(hn("register")),function(){l(En("register"))}}),[l]),Object(r.useEffect)((function(){if("register"===f){if(d)return 409===d.response.status?void i("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uacc4\uc815\uc785\ub2c8\ub2e4"):void i("\ud68c\uc6d0\uac00\uc785 \uc2e4\ud328");b&&l(le())}}),[f,b,d,l]),Object(r.useEffect)((function(){if(p){n.push("/");try{localStorage.setItem("user",JSON.stringify(p))}catch(e){console.log("localStorage is not working")}}}),[n,p]),a.a.createElement(Dn,{type:"register",form:m,error:c,onChange:function(e){var n=e.target,t=n.name,r=n.value;l(jn({form:"register",key:t,value:r}))},onSubmit:function(e){e.preventDefault();var n=m.username,t=m.password,r=m.passwordConfirm;if(![n,t,r].includes(""))return t!==r?(i("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4"),l(jn({form:"register",key:"password",value:""})),void l(jn({form:"register",key:"passwordConfirm",value:""}))):void l(yn({username:n,password:t}));i("\ube48\uce78\uc744 \ubaa8\ub450 \uc785\ub825\ud574 \uc8fc\uc138\uc694")}})})),Hn=function(){return a.a.createElement(on,null,a.a.createElement(Gn,null))},Bn=a.a.memo(Object(i.e)((function(e){var n=e.history,t=Object(r.useState)(null),o=Object(U.a)(t,2),c=o[0],i=o[1],l=Object(u.c)(),s=Object(u.d)((function(e){var n=e.auth,t=e.user;return{form:n.login,initialize:n.initialize,auth:n.auth,authError:n.authError,user:t.user}}),u.b),m=s.form,f=s.initialize,b=s.auth,d=s.authError,p=s.user,g=Object(r.useCallback)((function(e){var n=e.target,t=n.name,r=n.value;l(jn({form:"login",key:t,value:r}))}),[l]),v=Object(r.useCallback)((function(e){e.preventDefault();var n=m.username,t=m.password;l(wn({username:n,password:t}))}),[l,m]);return Object(r.useEffect)((function(){return l(hn("login")),function(){l(En("login"))}}),[l]),Object(r.useEffect)((function(){if("login"===f){if(d)return 401===d.response.status?void i("\uc544\uc774\ub514 \ub610\ub294 \ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4"):void i("\ub85c\uadf8\uc778 \uc2e4\ud328");b&&l(le())}}),[f,b,d,l]),Object(r.useEffect)((function(){if(p){n.push("/");try{localStorage.setItem("user",JSON.stringify(p))}catch(e){console.log("localStorage is not working")}}}),[n,p]),a.a.createElement(Dn,{type:"login",form:m,error:c,onChange:g,onSubmit:v})}))),Un=function(){return a.a.createElement(on,null,a.a.createElement(Bn,null))},Wn=t(56),Xn=B.a.mark(et),Kn=Y("post/POST_READ"),qn=Object(U.a)(Kn,3),Jn=qn[0],Vn=qn[1],Zn=qn[2],$n=Object(W.a)(Jn,(function(e){return e})),Qn=Object(W.a)("post/UNLOAD_POST"),Yn=ee(Jn,(function(e){return J.get("/api/posts/".concat(e))}));function et(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.d)(Jn,Yn);case 2:case"end":return e.stop()}}),Xn)}var nt={post:null,error:null},tt=Object(X.a)((An={},Object(D.a)(An,Vn,(function(e,n){var t=n.payload;return Object(G.a)({},e,{post:t,error:null})})),Object(D.a)(An,Zn,(function(e,n){var t=n.payload;return Object(G.a)({},e,{post:null,error:t})})),Object(D.a)(An,"post/UNLOAD_POST",(function(){return nt})),An),nt);function rt(){var e=Object(l.a)(["\n    font-size: 1.3125rem;\n    color: ",";\n"]);return rt=function(){return e},e}function at(){var e=Object(l.a)(["\n    border-bottom: 1px solid ",";\n    padding-bottom: 3rem;\n    margin-bottom: 3rem;\n    h1{\n        font-size: 3rem;\n        line-height: 1.5;\n        margin: 0;\n    }\n"]);return at=function(){return e},e}function ot(){var e=Object(l.a)(["\n    margin-top: 4rem;\n"]);return ot=function(){return e},e}var ct=Object(s.b)(p)(ot()),it=s.b.div(at(),g.gray[2]),ut=s.b.div(rt(),g.gray[8]),lt=function(e){var n=e.post,t=e.error,r=e.loading,o=e.actionButtons;if(t)return t.response&&404===t.response.status?a.a.createElement(ct,null," \ud3ec\uc2a4\ud2b8\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4!"):a.a.createElement(ct,null,"\uc624\ub958 \ubc1c\uc0dd!!");if(r||!n)return null;var c=n.title,i=n.level,u=n.time,l=n.body,s=n.user,m=n.publishedDate,f=n.tags;return a.a.createElement(ct,null,a.a.createElement(it,null,a.a.createElement("h1",null,c),a.a.createElement(ye,{username:s.username,level:i,time:u,publishedDate:m,hasMarginTop:!0}),a.a.createElement(xe,{tags:f})),o,a.a.createElement(ut,{dangerouslySetInnerHTML:{__html:l}}))};function st(){var e=Object(l.a)(["\n    height: 2rem;\n    & + & {\n        margin-left: 0.75rem;\n    }\n"]);return st=function(){return e},e}function mt(){var e=Object(l.a)(["\n    width: 320px;\n    background: white;\n    padding: 1.5rem;\n    border-radius: 4px;\n    box-shadow: 0 0 8px rgba(0, 0, 0, 0.125);\n    h2 {\n        margin-top: 0;\n        margin-bottom: 1rem;\n    }\n    p {\n        margin-bottom: 3rem;\n    }\n    .buttons {\n        display: flex;\n        justify-content: flex-end;\n    }\n"]);return mt=function(){return e},e}function ft(){var e=Object(l.a)(["\n    position: fixed;\n    z-index: 30;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.25);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return ft=function(){return e},e}var bt=s.b.div(ft()),dt=s.b.div(mt()),pt=Object(s.b)(C)(st()),gt=function(e){var n=e.visible,t=e.title,r=e.description,o=e.confirmText,c=void 0===o?"\ud655\uc778":o,i=e.cancelText,u=void 0===i?"\ucde8\uc18c":i,l=e.onConfirm,s=e.onCancel;return n?a.a.createElement(bt,null,a.a.createElement(dt,null,a.a.createElement("h2",null,t),a.a.createElement("p",null,r),a.a.createElement("div",{className:"buttons"},a.a.createElement(pt,{onClick:s},u),a.a.createElement(pt,{onClick:l,cyan:!0},c)))):null},vt=function(e){var n=e.visible,t=e.onConfirm,r=e.onCancel;return a.a.createElement(gt,{visible:n,title:"\ud3ec\uc2a4\ud2b8 \uc0ad\uc81c",description:"\ud3ec\uc2a4\ud2b8\ub97c \uc815\ub9d0 \uc0ad\uc81c\ud558\uc2e4\uac74\uac00\uc694?",confirmText:"\uc0ad\uc81c",onConfirm:t,onCancel:r})};function Ot(){var e=Object(l.a)(["\n    padding: 0.25rem 0.5rem;\n    border-radius: 4px;\n    color: ",";\n    font-weight: bold;\n    border: none;\n    outline: none;\n    font-size: 0.875rem;\n    cursor: pointer;\n    &:hover {\n        background: ",";\n        color: ",";\n    }\n    & + & {\n        margin-left: 0.25rem;\n    }\n"]);return Ot=function(){return e},e}function jt(){var e=Object(l.a)(["\n    display: flex;\n    justify-content: flex-end;\n    margin-bottom: 2rem;\n    margin-top: 1.5rem;\n"]);return jt=function(){return e},e}var ht,Et=s.b.div(jt()),yt=s.b.button(Ot(),g.gray[6],g.gray[1],g.cyan[7]),wt=function(e){var n=e.onEdit,t=e.onRemove,o=Object(r.useState)(!1),c=Object(U.a)(o,2),i=c[0],u=c[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et,null,a.a.createElement(yt,{onClick:n},"\uc218\uc815"),a.a.createElement(yt,{onClick:function(){u(!0)}},"\uc0ad\uc81c")),a.a.createElement(vt,{visible:i,onConfirm:function(){u(!1),t()},onCancel:function(){u(!1)}}))},kt=B.a.mark(Bt),xt=Y("write/WRITE_POST"),St=Object(U.a)(xt,3),Ct=St[0],Tt=St[1],It=St[2],_t=Y("write/UPDATE_POST"),Nt=Object(U.a)(_t,3),Lt=Nt[0],At=Nt[1],Ft=Nt[2],zt=Object(W.a)("write/INITIALIZE"),Mt=Object(W.a)("write/CHANGE_FIELD",(function(e){return{key:e.key,value:e.value}})),Rt=Object(W.a)("write/SET_ORIGINAL_POST",(function(e){return e})),Pt=Object(W.a)(Ct,(function(e){return{title:e.title,level:e.level,time:e.time,body:e.body,tags:e.tags}})),Dt=Object(W.a)(Lt,(function(e){return{id:e.id,title:e.title,body:e.body,tags:e.tags}})),Gt=ee(Ct,(function(e){var n=e.title,t=e.level,r=e.time,a=e.body,o=e.tags;return J.post("/api/posts",{title:n,level:t,time:r,body:a,tags:o})})),Ht=ee(Lt,(function(e){var n=e.id,t=e.title,r=e.body,a=e.tags;return J.patch("/api/posts/".concat(n),{title:t,body:r,tags:a})}));function Bt(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.d)(Ct,Gt);case 2:return e.next=4,Object(K.d)(Lt,Ht);case 4:case"end":return e.stop()}}),kt)}var Ut={title:"",body:"",tags:[],post:null,postError:null,originalPostId:null,originalLevel:null,originalTime:null},Wt=Object(X.a)((ht={},Object(D.a)(ht,"write/INITIALIZE",(function(e){return Ut})),Object(D.a)(ht,"write/CHANGE_FIELD",(function(e,n){var t=n.payload,r=t.key,a=t.value;return Object(G.a)({},e,Object(D.a)({},r,a))})),Object(D.a)(ht,Ct,(function(e){return Object(G.a)({},e,{post:null,postError:null})})),Object(D.a)(ht,Tt,(function(e,n){var t=n.payload;return Object(G.a)({},e,{post:t})})),Object(D.a)(ht,It,(function(e,n){var t=n.payload;return Object(G.a)({},e,{postError:t})})),Object(D.a)(ht,"write/SET_ORIGINAL_POST",(function(e,n){var t=n.payload;return Object(G.a)({},e,{title:t.title,body:t.body,tags:t.tags,originalPostId:t._id,originalLevel:t.level,originalTime:t.time})})),Object(D.a)(ht,At,(function(e,n){var t=n.payload;return Object(G.a)({},e,{post:t,postError:null})})),Object(D.a)(ht,Ft,(function(e,n){var t=n.payload;return Object(G.a)({},e,{post:null,postError:t})})),ht),Ut),Xt=Object(i.e)((function(e){var n=e.match,t=e.history,o=n.params.postId,c=Object(u.c)(),i=Object(u.d)((function(e){var n=e.post,t=e.loading,r=e.user;return{post:n.post,error:n.error,loading:t["post/READ_POST"],user:r.user}})),l=i.post,s=i.error,m=i.loading,f=i.user,b=(f&&f._id)===(l&&l.user._id);Object(r.useEffect)((function(){return c($n(o)),function(){c(Qn())}}),[c,o]);var d=function(){var e=Object(Wn.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n=o,J.delete("/api/posts/".concat(n));case 3:t.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}var n}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(lt,{post:l,error:s,loading:m,actionButtons:b&&a.a.createElement(wt,{onEdit:function(){c(Rt(l)),t.push("/write")},onRemove:d})})})),Kt=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(ge,null),a.a.createElement(Xt,null))},qt=t(57),Jt=t.n(qt);t(97);function Vt(){var e=Object(l.a)(["\n    /* \uc5d0\ub514\ud130 \ucd5c\uc18c \ud06c\uae30 \uc9c0\uc815 \ubc0f padding \uc81c\uac70 */\n    .qu-editor {\n        padding: 0;\n        min-height: 320px;\n        font-size: 1.125rem;\n        line-height: 1.5;\n    }\n    .ql-editor.ql-blank:before {\n        left: 0px;\n    }\n"]);return Vt=function(){return e},e}function Zt(){var e=Object(l.a)(["\n    p {\n        margin: 0;\n        margin-bottom: 0.5rem;\n        font-size: 1.25rem;\n        font-weight: bold;\n    }\n"]);return Zt=function(){return e},e}function $t(){var e=Object(l.a)(["\n    font-size: 3rem;\n    outline: none;\n    padding-bottom: 0.5rem;\n    border: none;\n    border-bottom: 1px solid ",";\n    margin-bottom: 2rem;\n    width: 100%;\n"]);return $t=function(){return e},e}function Qt(){var e=Object(l.a)(["\n    padding: 5rem 0;\n"]);return Qt=function(){return e},e}var Yt=Object(s.b)(p)(Qt()),er=s.b.input($t(),g.gray[4]),nr=s.b.div(Zt()),tr=s.b.div(Vt()),rr=function(e){var n=e.title,t=e.body,o=e.level,c=e.time,i=e.onChangeField,u=Object(r.useRef)(null),l=Object(r.useRef)(null);Object(r.useEffect)((function(){l.current=new Jt.a(u.current,{theme:"bubble",placeholder:"\ub0b4\uc6a9\uc744 \uc791\uc131\ud558\uc138\uc694!",modules:{toolbar:[[{header:"1"},{header:"2"}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["blockquote","code-block","link","image"]]}});var e=l.current;e.on("text-change",(function(n,t,r){"user"===r&&i({key:"body",value:e.root.innerHTML})}))}),[i]);var s=Object(r.useRef)(!1);Object(r.useEffect)((function(){s.current||(s.current=!0,l.current.root.innerHTML=t)}),[t]);return a.a.createElement(Yt,null,a.a.createElement(er,{value:n,onChange:function(e){i({key:"title",value:e.target.value})},placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694!"}),a.a.createElement(nr,null,a.a.createElement("p",null,"\ub09c\uc774\ub3c4: ",o),a.a.createElement("p",null,"\ud074\ub9ac\uc5b4 \ud0c0\uc784: ",c)),a.a.createElement(tr,null,a.a.createElement("div",{ref:u})))},ar=Object(i.e)((function(e){var n=e.history,t=Object(u.c)(),o=Object(u.d)((function(e){var n=e.user,t=e.write,r=e.game;return{user:n.user,title:t.title,body:t.body,level:r.level?r.level:t.originalLevel,time:r.time?r.time:t.originalTime}})),c=o.user,i=o.title,l=o.body,s=o.level,m=o.time,f=Object(r.useCallback)((function(e){return t(Mt(e))}),[t]);return Object(r.useEffect)((function(){return null!==c&&null!==m||(alert("\uc62c\ubc14\ub978 \uc811\uadfc\uc774 \uc544\ub2d9\ub2c8\ub2e4!!!"),n.push("/")),function(){t(zt())}}),[t,c,m,n]),a.a.createElement(rr,{title:i,body:l,level:s,time:m,onChangeField:f})})),or=t(60);function cr(){var e=Object(l.a)(["\n    display: flex;\n    margin-top: 0.5rem;\n"]);return cr=function(){return e},e}function ir(){var e=Object(l.a)(["\n    margin-right: 0.5rem;\n    color: ",";\n    cursor: pointer;\n    $:hover {\n        opacity: 0.5;\n    }\n"]);return ir=function(){return e},e}function ur(){var e=Object(l.a)(["\n    border-radius: 4px;\n    overflow: hidden;\n    display: flex;\n    width: 256px;\n    border: 1px solid ",";\n    input, button {\n        outline: none;\n        border: none;\n        font-size: 1rem;\n    }\n    \n    input {\n        padding: 0.5rem;\n        flex: 1;\n        min-width: 0;\n    }\n    \n    button {\n        cursor: pointer;\n        padding: 0 1rem;\n        border: none;\n        background: ",";\n        color: white;\n        font-weight: bold;\n        &:hover {\n            background: ",";\n        }\n    }\n"]);return ur=function(){return e},e}function lr(){var e=Object(l.a)(["\n    width: 100%;\n    border-top: 1px solid ",";\n    padding-top: 2rem;\n    \n    h4 {\n        color: ",";\n        margin-top: 0;\n        margin-bottom: 0.5rem;\n    }\n"]);return lr=function(){return e},e}var sr=s.b.div(lr(),g.gray[2],g.gray[8]),mr=s.b.form(ur(),g.gray[9],g.gray[8],g.gray[6]),fr=s.b.div(ir(),g.gray[6]),br=s.b.div(cr()),dr=a.a.memo((function(e){var n=e.tag,t=e.onRemove;return a.a.createElement(fr,{onClick:function(){return t(n)}},"#",n)})),pr=a.a.memo((function(e){var n=e.tags,t=e.onRemove;return a.a.createElement(br,null,n.map((function(e){return a.a.createElement(dr,{key:e,tag:e,onRemove:t})})))})),gr=function(e){var n=e.tags,t=e.onChangeTags,o=Object(r.useState)(""),c=Object(U.a)(o,2),i=c[0],u=c[1],l=Object(r.useState)([]),s=Object(U.a)(l,2),m=s[0],f=s[1],b=Object(r.useCallback)((function(e){if(e&&!m.includes(e)){var n=[].concat(Object(or.a)(m),[e]);f(n),t(n)}}),[m,t]),d=Object(r.useCallback)((function(e){var n=m.filter((function(n){return n!==e}));f(n),t(n)}),[m,t]),p=Object(r.useCallback)((function(e){u(e.target.value)}),[]),g=Object(r.useCallback)((function(e){e.preventDefault(),b(i.trim()),u("")}),[i,b]);return Object(r.useEffect)((function(){f(n)}),[n]),a.a.createElement(sr,null,a.a.createElement("h4",null,"\ud0dc\uadf8"),a.a.createElement(mr,{onSubmit:g},a.a.createElement("input",{value:i,onChange:p,placeholder:"\ud0dc\uadf8\ub97c \uc785\ub825\ud558\uc138\uc694"}),a.a.createElement("button",{type:"submit"},"\ucd94\uac00")),a.a.createElement(pr,{tags:m,onRemove:d}))},vr=function(){var e=Object(u.c)(),n=Object(u.d)((function(e){return e.write.tags}));return a.a.createElement(gr,{onChangeTags:function(n){e(Mt({key:"tags",value:n}))},tags:n})};function Or(){var e=Object(l.a)(["\n    height: 2.125rem;\n    & + & {\n        margin-left: 0.5rem;\n    }\n"]);return Or=function(){return e},e}function jr(){var e=Object(l.a)(["\n    margin-top: 1rem;\n    margin-bottom: 3rem;\n    button + button {\n        margin-left: 0.5rem;\n    }\n"]);return jr=function(){return e},e}var hr,Er=s.b.div(jr()),yr=Object(s.b)(C)(Or()),wr=function(e){var n=e.onCancel,t=e.onPublished,r=e.isEdit;return a.a.createElement(Er,null,a.a.createElement(yr,{cyan:!0,onClick:t},"\ud3ec\uc2a4\ud2b8 ",r?"\uc218\uc815":"\ub4f1\ub85d"),a.a.createElement(yr,{onClick:n},"\ucde8\uc18c"))},kr=Object(i.e)((function(e){var n=e.history,t=Object(u.c)(),o=Object(u.d)((function(e){var n=e.write,t=e.game;return{title:n.title,body:n.body,tags:n.tags,post:n.post,postError:n.postError,originalPostId:n.originalPostId,level:t.level,time:t.time}})),c=o.title,i=o.body,l=o.tags,s=o.post,m=o.postError,f=o.originalPostId,b=o.level,d=o.time;return Object(r.useEffect)((function(){if(s){var e=s._id,t=s.user;n.push("/@".concat(t.username,"/").concat(e))}m&&console.log(m)}),[n,s,m]),a.a.createElement(wr,{onPublished:function(){t(f?Dt({id:f,title:c,body:i,tags:l}):Pt({title:c,level:b,time:d,body:i,tags:l}))},onCancel:function(){n.goBack()},isEdit:!!f})})),xr=function(){return a.a.createElement(p,null,a.a.createElement(ar,null),a.a.createElement(vr,null),a.a.createElement(kr,null))},Sr=Object(W.a)("game/INITIALIZE"),Cr=Object(W.a)("game/SET_LEVEL",(function(e){return e})),Tr=Object(W.a)("game/START_GAME",(function(e){return{ground:e.ground,size:e.size,width:e.width,mineNum:e.mineNum}})),Ir=Object(W.a)("game/OPEN_BLOCK",(function(e){return e})),_r=Object(W.a)("game/INCREASE_OPEN_BLOCK_NUM",(function(e){return e})),Nr=Object(W.a)("game/SET_FLAG",(function(e){return e})),Lr=Object(W.a)("game/HIGHLIGHT_ON",(function(e){return e})),Ar=Object(W.a)("game/HIGHLIGHT_OFF",(function(e){return e})),Fr=Object(W.a)("game/FINISH_GAME",(function(e){return e})),zr={level:"\uc26c\uc6c0",isStart:!1,isFinish:!1,isClear:"",ground:[],size:0,width:0,mineNum:0,openBlockNum:0,nearBlock:[],startTime:null,time:null},Mr=Object(X.a)((hr={},Object(D.a)(hr,"game/INITIALIZE",(function(e){return zr})),Object(D.a)(hr,"game/SET_LEVEL",(function(e,n){var t=n.payload;return Object(G.a)({},e,{level:t})})),Object(D.a)(hr,"game/START_GAME",(function(e,n){var t=n.payload,r=t.ground,a=t.size,o=t.width,c=t.mineNum;return Object(G.a)({},e,{isStart:!0,ground:r,size:a,width:o,mineNum:c,nearBlock:[-o,-1,1,o,-o-1,1-o,o-1,o+1],startTime:new Date})})),Object(D.a)(hr,"game/OPEN_BLOCK",(function(e,n){var t=n.payload;return Object(cn.a)(e,(function(e){e.ground[t].flagSet=!1,e.ground[t].isOpen=!0}))})),Object(D.a)(hr,"game/INCREASE_OPEN_BLOCK_NUM",(function(e,n){var t=n.payload;return Object(cn.a)(e,(function(e){e.openBlockNum=t}))})),Object(D.a)(hr,"game/SET_FLAG",(function(e,n){var t=n.payload;return Object(cn.a)(e,(function(e){e.ground[t].flagSet=!e.ground[t].flagSet}))})),Object(D.a)(hr,"game/HIGHLIGHT_ON",(function(e,n){var t=n.payload;return Object(cn.a)(e,(function(e){e.ground[t].isHighlight=!0}))})),Object(D.a)(hr,"game/HIGHLIGHT_OFF",(function(e,n){var t=n.payload;return Object(cn.a)(e,(function(e){e.ground[t].isHighlight=!1}))})),Object(D.a)(hr,"game/FINISH_GAME",(function(e,n){var t=n.payload;return Object(cn.a)(e,(function(e){e.ground.map((function(e){return"X"===e.val?e.isOpen=!0:e})),e.isFinish=!0,e.isClear=t,e.time=function(e,n){if(void 0===e||void 0===n)return null;var t="",r=Math.floor((n.getTime()-e.getTime())/1e3),a=Math.floor(r/60/60/24);a>0&&(r-=60*a*60*24,t+=a+"\uc77c");var o=Math.floor(r/60/60);o>0&&(r-=60*o*60,t+=o+"\uc2dc");var c=Math.floor(r/60);return c>0&&(r-=60*c,t+=c+"\ubd84"),t+(r+"\ucd08")}(e.startTime,new Date)}))})),hr),zr),Rr=(t(98),a.a.memo((function(e){var n=e.content;return a.a.createElement("div",{id:"game-root"},n)}))),Pr=(t(99),a.a.memo((function(e){var n=e.onStart,t=e.onSetLevel;return a.a.createElement("div",{id:"start-root"},a.a.createElement("div",{id:"start-select-div"},a.a.createElement("label",null,a.a.createElement("h3",null,"\uac8c\uc784 \ub09c\uc774\ub3c4")),a.a.createElement("select",{name:"level",id:"level",onChange:t},a.a.createElement("option",{value:"\uc26c\uc6c0"},"\uc26c\uc6c0"),a.a.createElement("option",{value:"\ubcf4\ud1b5"},"\ubcf4\ud1b5"),a.a.createElement("option",{value:"\uc5b4\ub824\uc6c0"},"\uc5b4\ub824\uc6c0"))),a.a.createElement("div",{id:"start-btn-div"},a.a.createElement(C,{onClick:n},"\uc2dc\uc791")))}))),Dr=a.a.memo((function(){var e=Object(u.c)(),n=Object(u.d)((function(e){return{level:e.game.level}})).level,t=Object(r.useCallback)((function(){var t,r,a=0,o=[];switch(n){case"\uc26c\uc6c0":t=10,r=80,a=10;break;case"\ubcf4\ud1b5":t=40,r=252,a=18;break;case"\uc5b4\ub824\uc6c0":t=100,r=480,a=24}for(var c=0;c<r;c++)o.push({id:c,val:0,isOpen:!1,flagSet:!1,isHighlight:!1});for(var i=0;i<t;i++){var u=Math.floor(Math.random()*r),l=[-a-1,-a,1-a,-1,1,a-1,a,a+1];if("X"!==o[u].val){o[u].val="X";for(var s=0;s<8;s++){var m=u+l[s];m>-1&&m<r&&"X"!==o[m].val&&!(u%a===0&&m%a===a-1||u%a===a-1&&m%a===0)&&o[m].val++}}else i--}e(Tr({ground:o,size:r,width:a,mineNum:t}))}),[e,n]),o=Object(r.useCallback)((function(n){e(Cr(n.target.value))}),[e]);return a.a.createElement(Pr,{onStart:t,onSetLevel:o})})),Gr=t(58),Hr=t.n(Gr),Br=(t(100),function(e){var n=e.space,t=e.onBlockOpen,r=e.onMouseDownAction,o=e.onMouseUpAction;return a.a.createElement("button",{id:n.id,className:Hr()("block",n.isOpen?"open-block val-"+n.val:"closed-block",n.isHighlight&&"highlight"),onClick:function(){return t(n.id)},onMouseDown:function(e){return r(e,n.id)},onMouseUp:function(e){return o(e,n.id)},onContextMenu:function(e){return e.preventDefault()},onAuxClick:function(e){return e.preventDefault()},onWheel:function(e){return e.preventDefault()}},n.isOpen?n.val>0?n.val:"X"===n.val&&a.a.createElement("img",{src:"images/mine.png",alt:"\uc9c0\ub8b0"}):n.flagSet&&"\u2718")}),Ur=a.a.memo((function(e){var n=e.space,t=Object(u.c)(),o=Object(u.d)((function(e){var n=e.game;return{isFinish:n.isFinish,ground:n.ground,size:n.size,width:n.width,nearBlock:n.nearBlock}}),u.b),c=o.isFinish,i=o.ground,l=o.size,s=o.width,m=o.nearBlock,f=Object(r.useCallback)((function(e){var r=m.slice(),a=parseInt(e,10);if(!c&&!n.isOpen)if("X"===n.val)t(Fr("Game Over..."));else if(0===n.val){var o=new Array(l).fill(!1),u=[a],f=[a];for(o[a]=!0,t(Ir(a));u.length>0;)for(var b=u.shift(),d=0;d<4;d++){var p=b+r[d];p>-1&&p<l&&!i[p].isOpen&&0===i[p].val&&!o[p]&&!(b%s===0&&p%s===s-1||b%s===s-1&&p%s===0)&&(u.push(p),f.push(p),o[p]=!0,t(Ir(p)))}for(o=new Array(l).fill(!1);f.length>0;)for(var g=f.shift(),v=0;v<8;v++){var O=g+r[v];O>-1&&O<l&&!o[O]&&i[O].val>0&&!i[O].isOpen&&!(g%s===0&&O%s===s-1||g%s===s-1&&O%s===0)&&(o[O]=!0,t(Ir(O)))}}else t(Ir(a))}),[t,c,i,n,l,s,m]),b=Object(r.useCallback)((function(e,n){if(c||i[n].isOpen||2!==e.button){if(!c&&i[n].isOpen&&1===e.button){for(var r=m.slice(),a=[],o=[],u=0;r.length>0;)(u=n+r.pop())>-1&&u<l&&!i[u].isOpen&&!(n%s===0&&u%s===s-1||n%s===s-1&&u%s===0)&&(i[u].flagSet?o.push(u):a.push(u));if(o.length===i[e.target.id].val)for(;a.length>0;){var b=a.pop();f(b)}else for(;a.length>0;){var d=a.pop();t(Lr(d))}}}else t(Nr(n))}),[t,c,i,l,s,m,f]),d=Object(r.useCallback)((function(e,n){if(!c&&i[n].isOpen&&1===e.button){for(var r=m.slice(),a=[],o=0;r.length>0;)(o=n+r.pop())>-1&&o<l&&!i[o].isOpen&&!i[o].flagSet&&!(n%s===0&&o%s===s-1||n%s===s-1&&o%s===0)&&a.push(o);for(;a.length>0;){var u=a.pop();t(Ar(u))}}}),[t,c,i,l,s,m]);return a.a.createElement(Br,{space:n,onBlockOpen:f,onMouseDownAction:b,onMouseUpAction:d})})),Wr=function(e){var n=e.visible,t=e.finishText,r=e.description,o=e.onConfirm,c=e.onCancel;return a.a.createElement(gt,{visible:n,title:t,description:r,confirmText:t,onConfirm:o,onCancel:c})};t(101);function Xr(){var e=Object(l.a)(["\n        width: ","px;\n    "]);return Xr=function(){return e},e}function Kr(){var e=Object(l.a)(["\n            display: inline-block;\n            width: ","px;\n        "]);return Kr=function(){return e},e}var qr=function(e){var n=e.onRestart,t=e.onClear,o=Object(r.useState)(!1),c=Object(U.a)(o,2),i=c[0],l=c[1],m=Object(r.useState)(!1),f=Object(U.a)(m,2),b=f[0],d=f[1],p=Object(u.d)((function(e){var n=e.game;return{isFinish:n.isFinish,isClear:n.isClear,ground:n.ground,width:n.width,mineNum:n.mineNum}})),g=p.isFinish,v=p.isClear,O=p.ground,j=p.width,h=p.mineNum,E=30*j,y=s.b.div(Kr(),E),w=s.b.div(Xr(),E);return a.a.createElement("div",{id:"board-root"},a.a.createElement("div",{id:"board-minNum-div"},a.a.createElement("h2",null,v||"\uc9c0\ub8b0 \uac2f\uc218 : "+h+"\uac1c")),a.a.createElement(y,null,O.map((function(e){return a.a.createElement(Ur,{key:e.id,space:e})}))),g&&a.a.createElement(w,{id:"board-restart"},a.a.createElement(C,{onClick:function(){d(!0)}},"\ub2e4\uc2dc \uc2dc\uc791"),a.a.createElement(Wr,{visible:b,finishText:"\ub2e4\uc2dc \uc2dc\uc791",description:"\uac8c\uc784\uc744 \ub2e4\uc2dc \uc2dc\uc791\ud558\uc2e4 \uac74\uac00\uc694?",onConfirm:n,onCancel:function(){d(!1)}}),"Game Clear!!!"===v&&a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{onClick:function(){l(!0)},marginTop:"1rem"},"\uae30\ub85d \uc800\uc7a5\ud558\uae30"),a.a.createElement(Wr,{visible:i,finishText:"\uae30\ub85d \uc800\uc7a5",description:"\uae30\ub85d\uc744 \uc800\uc7a5\ud558\uc2e4 \uac74\uac00\uc694?",onConfirm:t,onCancel:function(){l(!1)}}))))},Jr=Object(i.e)((function(e){var n=e.history,t=Object(u.c)(),o=Object(u.d)((function(e){var n=e.game;return{isStart:n.isStart,isFinish:n.isFinish,ground:n.ground,size:n.size,mineNum:n.mineNum,openBlockNum:n.openBlockNum}}),u.b),c=o.isStart,i=o.isFinish,l=o.ground,s=o.size,m=o.mineNum,f=o.openBlockNum,b=Object(r.useCallback)((function(){t(Sr())}),[t]),d=Object(r.useCallback)((function(){n.push("/write")}),[n]);return Object(r.useEffect)((function(){var e=l.filter((function(e){return!0===e.isOpen}));e.length!==f&&t(_r(e.length))}),[t,l,f]),Object(r.useEffect)((function(){m===s-f&&c&&!i&&t(Fr("Game Clear!!!"))}),[t,c,i,l,s,m,f]),a.a.createElement(qr,{onRestart:b,onClear:d})})),Vr=Object(i.e)((function(e){var n=e.history,t=Object(u.c)(),o=Object(u.d)((function(e){var n=e.game,t=e.user;return{isStart:n.isStart,user:t.user}}),u.b),c=o.isStart,i=o.user;return Object(r.useEffect)((function(){null===i&&(alert("\uc62c\ubc14\ub978 \uc811\uadfc\uc774 \uc544\ub2d9\ub2c8\ub2e4!!!"),n.push("/")),t(Sr())}),[t,i,n]),a.a.createElement(Rr,{content:c?a.a.createElement(Jr,null):a.a.createElement(Dr,null)})})),Zr=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(ge,null),a.a.createElement(Vr,null))},$r=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.a,{component:Ye,path:["/@:username","/"],exact:!0}),a.a.createElement(i.a,{component:Hn,path:"/register"}),a.a.createElement(i.a,{component:Un,path:"/login"}),a.a.createElement(i.a,{component:Kt,path:"/@:username/:postId"}),a.a.createElement(i.a,{component:xr,path:"/write"}),a.a.createElement(i.a,{component:Zr,path:"/game"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Qr=t(18),Yr=t(59),ea=t(61),na=B.a.mark(ta);function ta(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(K.a)([Sn(),de(),Bt(),et(),Ue()]);case 2:case"end":return e.stop()}}),na)}var ra=Object(Qr.combineReducers)({auth:Tn,loading:Q,user:pe,write:Wt,post:tt,posts:We,game:Mr}),aa=Object(ea.a)(),oa=Object(Qr.createStore)(ra,Object(Yr.composeWithDevTools)(Object(Qr.applyMiddleware)(aa)));aa.run(ta),function(){try{var e=localStorage.getItem("user");if(!e)return;oa.dispatch(ue(e)),oa.dispatch(le())}catch(n){console.log("localStorage is not working")}}(),c.a.render(a.a.createElement(u.a,{store:oa},a.a.createElement(m.a,null,a.a.createElement($r,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},63:function(e,n,t){e.exports=t(102)},68:function(e,n,t){},98:function(e,n,t){},99:function(e,n,t){}},[[63,1,2]]]);
//# sourceMappingURL=main.387ceb12.chunk.js.map